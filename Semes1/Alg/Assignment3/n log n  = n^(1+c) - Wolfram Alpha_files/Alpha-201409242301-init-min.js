var clickedPulldownIndex="";var pulldownClicked=false;var failedURLs=[];var WA_PodRetries={};$("#spin").removeClass("active");$.ajaxSetup({beforeSend:function(B){try{if(B.withCredentials){B.withCredentials="true"}}catch(A){}}});jQuery.cookie=function(B,I,L){if(typeof I!="undefined"){L=L||{};if(I===null){I="";L.expires=-1}var E="";if(L.expires&&(typeof L.expires=="number"||L.expires.toUTCString)){var F;if(typeof L.expires=="number"){F=new Date();F.setTime(F.getTime()+(L.expires*24*60*60*1000))}else{F=L.expires}E="; expires="+F.toUTCString()}var K=L.path?"; path="+(L.path):"";var G=L.domain?"; domain="+(L.domain):"";var A=L.secure?"; secure":"";document.cookie=[B,"=",encodeURIComponent(I),E,K,G,A].join("")}else{var D=null;if(document.cookie&&document.cookie!==""){var J=document.cookie.split(";");for(var H=0;H<J.length;H++){var C=jQuery.trim(J[H]);if(C.substring(0,B.length+1)==(B+"=")){D=decodeURIComponent(C.substring(B.length+1));break}}}return D}};function getTopDomain(){var A=window.location.host.split(".");return A.splice(A.length-2,A.length).join(".")}function highlightMaxImage(){$("div[id^=scannerresult_]").removeClass("max-image");$("#scannerresult_"+jsonArray.maxImage.id).addClass("max-image")}function addScrollBars(B,A){if(navigator.userAgent.indexOf("iPad")!=-1){return false}if(A.closest(".jScrollPaneContainer").length!=0){return }if(B.complete&&A.height()>1500){A.closest(".output").height(300).jScrollPane({showArrows:false,scrollbarWidth:11,scrollBarmargin:0})}else{A.load(function(){if($(this).height()>1500){A.closest(".output").height(300).jScrollPane({showArrows:false,scrollbarWidth:11,scrollBarmargin:0})}})}}function podOnload(G,C,B){$.each($(".popupbutton"),function(){$(this).removeClass("sbsexample")});window.lastPodTime=(new Date).getTime()-window.startTime;if(C=="success"){C=200}if(C=="error"){C=500}var A=$("#"+G);$("#pod_").remove();$("[id$='popup_dyn']").remove();A.removeClass("subpod-showcdf");$("html").removeClass("loading");switch(+C){case 200:if(A.find("img, object").length==0){A.removeClass("loading");A.hide()}else{var F=A.find("embed");if(typeof F=="undefined"||$.browser.msie){F=A.find("object")}var D=0;while(F.get(D)){var E=F.get(D);D++;bindCDFPluginAutoResize(E);$(".pod-interactive").removeClass("lding");$(".pod-interactive:not(.subpod-ascdf)",A).hide();A.find(".subpod-zoom, .subpod-saveas, .subpod-export").addClass("disabled")}if($("#"+G).find("div.subpod-wrap").hasClass("stubpod")){$("#"+G).addClass("stubpod")}if(!$("#showsteps .sub").length>0){A.show()}else{$("#showsteps #loader").remove();A.css("left","-99999px");A.show()}}if(A.hasClass("premium")){A.show()}A.find("img").each(function(I){if(!this.complete&&!$.browser.opera&&!($.browser.msie&&$.browser.version=="6.0")){$(this).load(function(){A.removeClass("loading").css("display","block");$(this).show();if(!(navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1)){if($(this).is("img[usemap]")){$(this).maphilight()}}setTimeout(function(){$('area[alt="Frame"]').each(function(){crosshair(this)})},1000);if($("#showsteps .sub").length>0){A.css("left","auto");if($("#showsteps .h").data("first")&&$("#showsteps .h").data("btncount")==0){var J=$.cookie("wa_sbs");$.cookie("wa_sbs",J-1,{domain:".wolframalpha.com",path:"/",expires:1})}if(getURLParam("noscroll",B)!="true"){$("#showsteps .sub").scrollTop($("#showsteps .sub")[0].scrollHeight)}}})}else{A.removeClass("loading").css("display","block");if(!(navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1)){if($(this).is("img[usemap]")&&!($.browser.msie&&($.browser.version=="5.0"||$.browser.version=="6.0"))){$(this).maphilight()}}setTimeout(function(){$('area[alt="Frame"]').each(function(){crosshair(this)})},1000);if($("#showsteps .sub").length>0){A.css("left","auto");if($("#showsteps .h").data("first")&&$("#showsteps .h").data("btncount")==0){var H=$.cookie("wa_sbs");$.cookie("wa_sbs",H-1,{domain:".wolframalpha.com",path:"/",expires:1})}if(getURLParam("noscroll",B)!="true"){$("#showsteps .sub").scrollTop($("#showsteps .sub")[0].scrollHeight)}}}if(!$(this).hasClass("ns")){addScrollBars(this,$(this))}});if($.browser.msie){$("#"+G).hover(function(){if($.browser.version=="7.0"){$("#"+G).css("z-index","11")}},function(){if($.browser.version=="7.0"){$("#"+G).css("z-index","2")}});$("#"+G+" .note, #"+G+" .bot").mouseover(function(){if($.browser.version=="6.0"){if($(this).is(".note")){$(this).find("em").css("display","none");$(this).find("span").css("display","inline")}}});$("#"+G+" .note, #"+G+" .bot").mouseout(function(){if($.browser.version=="6.0"){if($(this).is(".note")){$(this).find("em").css("display","inline");$(this).find("span").css("display","none")}}})}$(".progress").stop(true).hide("slow",function(){$(this).remove()});if(G){$(".assuming, #warnings, #calculateAssum").show()}break;case 403:A.removeClass("loading");break;case 500:podRetry(G,B);if($("#"+G+" .output").length!=0){podtimeout(G,C,$("#showsteps").length>0);if($.browser.mozilla){setTimeout(function(){A.find("iframe").remove()},10000)}else{A.find("iframe").remove()}}else{A.hide();if($(".pod:visible").length==0){$("#timeout").show()}}$("#dbg-failed").append(G+" (timeout), ");A.removeClass("loading");break;case 404:A.removeClass("loading");default:A.removeClass("loading");if(scroll==0&&C==500){if($.browser.msie&&$.browser.version=="9.0"&&window.XDomainRequest){}podtimeout(G,C,$("#showsteps").length>0)}else{A.hide();$("#"+G.substring(4)+"_podtimeout_dyn").hide()}$("#dbg-failed").append(G+" (invalid), ");break}$(".progress").stop(true).hide("slow",function(){$(this).remove()});$("#"+G).each(function(){$(this).find(".copyablept").hide();if(jsonArray.popups[this.id.toString()]){for(var I=0,H=jsonArray.popups[this.id.toString()].length;I<H;I++){if(jsonArray.popups[this.id.toString()][I].mOutput!=""||jsonArray.popups[this.id.toString()][I].mInput!=""||jsonArray.popups[this.id.toString()][I].stringified!=""){$(this).find(".copyablept").show()}}}if($.browser.msie&&$.browser.version<7&&typeof ($.ie6_pt)=="function"){$.ie6_pt($("#"+G))}});if(isWhitelisted=="true"&&location.search.indexOf("lk=3")>-1&&localStorage.getItem("viewedSBS")!=1){$(".popupbutton:first").addClass("sbsexample")}}function podRetry(B,A){if(WA_PodRetries[B]!=1){WA_PodRetries[B]=1;loadPod(B,A.substring(A.indexOf("pod.jsp")))}else{}}function changeAssumptionSelection(A){clickedPulldownIndex=A;pulldownClicked=true}function loadDataViaAjax(C,A,B){return $.ajax({url:A,xhrFields:{withCredentials:true},success:function(H,G,F){if(A.indexOf("btntype=sbs")!=-1&&!$("#showsteps .sub").length>0){return }if(H.trim().indexOf("$Aborted")==0){return B(C,500,A)}if($("object",H).length>0){var D=$("#"+C);var E='<section id="'+C+'" class="pod"></section>';D.attr("id",C+"old").hide();D.after(E);E=$("#"+C);E.html(H)}else{if(C.indexOf("subpod")!=-1){$("#"+C).replaceWith(H)}else{$("#"+C).html(H)}}B(C,G,A)},error:function(F,E,D){return B(C,E,A)}})}function loadPodViaAjax(C,B){var A=server+"/input/"+B;if(B.indexOf("asynchronous=subpod")==-1){A+="&asynchronous=true"}ajaxHandle=loadDataViaAjax(C,A,function(E,D,F){podOnload(E,D,F);setupPullDown(E)});$(document).ajaxStop(function(){$("#answers").removeClass("loading")});if(typeof jsonArray.ajaxHandles!="undefined"){jsonArray.ajaxHandles[C]=ajaxHandle}}var xdrCount={};function loadDataViaXdr(F,C,E){var B=new XDomainRequest();var A=C.substring(0,C.indexOf("wolframalpha.com")+16);if(A in xdrCount){xdrCount[A]++}else{xdrCount[A]=1}try{B.open("GET",C);B.onload=function(){$("#"+F).html(B.responseText);return E(F,200)};B.onprogress=function(){};B.onerror=function(){E(F,500,C)};B.ontimeout=function(){E(F,403,C)};B.send();$(document).ajaxStop(function(){$("#answers").removeClass("loading")})}catch(D){}}function loadPodViaXdr(C,B){var A=server+"/input/"+B;if(B.indexOf("asynchronous=subpod")==-1){A+="&asynchronous=true"}loadDataViaXdr(C,A,function(E,D,F){podOnload(E,D,F);setupPullDown(E)})}function loadDataViaFrame(C,A,B){if($("#"+C+" iframe").length>0){$("#"+C+" iframe").remove()}$('<iframe id="I'+new Date().getTime()+'"  src="'+server+"/input/"+A+"&method=frames&type="+type+(podselector!=""?"&podselector="+podselector:"")+'"></iframe>').load(function(H){var D="";var F="200";$(this).closest(".pod").removeClass("loading");$(".progress").stop(true).hide("slow",function(){$(this).remove()});if($.browser.msie){$("#answers").addClass("refresh").removeClass("refresh")}try{if((!$.browser.msie&&!this.contentDocument)||($.browser.msie&&($(this.contentWindow.document).find(".pod, h2, .sub").length==0||!this.contentWindow.document))){F="500"}else{if($.browser.msie){var I=document.body.getElementsByTagName("iframe");for(var E=0;E<I.length;E++){var G=I[E].src;G=G.substring(G.indexOf("/input/")+7);if(G==A&&$(I[E]).contents().data("status")){throw"500"}}}else{if($("iframe[src*='"+A+"']").contents().data("status")){throw"500"}}D=$(this).contents().find("body");D=D.html();if(D.trim().indexOf("$Aborted")==0){typeof B==="function"?B(C,500,A):"";return }if(A.indexOf("btntype=sbs")!=-1&&!$("#showsteps .sub").length>0){return }if(F=="200"){$("#"+C).html(D)}}}catch(H){F="500"}$("#"+C).removeClass("loading");typeof B==="function"?B(C,F,A):"";return $("#"+C)}).appendTo("#"+C)}function loadPodViaFrame(B,A){loadDataViaFrame(B,A,function(D,C){try{var F=$('iframe[src*="'+A+'"]').data("status")?$('iframe[src*="'+A+'"]').data("status"):C}catch(E){var F=C}podOnload(D,F,A);setupPullDown(D);return $("#"+D)})}var loadPod=loadPodViaAjax;var loadData=loadDataViaAjax;function setDataLoadingMethod(B){switch(B){case"objects":document.domain=getTopDomain();loadData=loadDataViaObject;loadPod=loadPodViaObject;break;case"frames":document.domain=getTopDomain();loadData=loadDataViaFrame;loadPod=loadPodViaFrame;break;case"ajax":if($.browser.msie&&$.browser.version=="9.0"&&window.XDomainRequest){loadData=loadDataViaXdr;loadPod=loadPodViaXdr}else{loadData=loadDataViaAjax;loadPod=loadPodViaAjax}break;default:try{$.get("getServer.jsp?t="+new Date().getTime(),function(C,D){if($.trim(C)==server){$.cookie("WolframAlphaPods","ajax",{expires:90,domain:".wolframalpha.com"});loadData=loadDataViaAjax;loadPod=loadPodViaAjax}else{$.cookie("WolframAlphaPods","frames",{expires:90,domain:".wolframalpha.com"});document.domain=getTopDomain();loadData=loadDataViaFrame;loadPod=loadPodViaFrame}})}catch(A){$.cookie("WolframAlphaPods","frames",{expires:90,domain:".wolframalpha.com"});document.domain=getTopDomain();loadData=loadDataViaFrame}break}}function asynchronousPod(A,B,G,D,H,C,E){if($.browser.msie&&$.browser.version=="9.0"&&window.XDomainRequest){setDataLoadingMethod("ajax")}window.hasAsync=true;if(B.indexOf("pod")==-1){B="pod_"+B}var I=B.indexOf("sub")==-1?B.substring(4):B.substring(7);if(G){A+="&i="+encodeURIComponent(G)}else{A+="&i="+encodeURIComponent($("#i").val())}if(D){A+="&entityPage="+D}if(C){A+="&podId="+C}if(getURLParam("pro")=="0"){A+="&pro=0"}A=A+"&asynchronous=true";if(!document.getElementById(B)){if($("#results .pod").not("#recalculate").length>0){$("#results .pod").not("#recalculate").filter(function(J){return parseInt($(this).attr("id").substring(4),10)<parseInt(I,10)}).filter(":last").after('<section class="pod loading" id="'+B+'">'+getURLParam("caption",A)+"</section>")}else{var F='<section class="pod loading" id="'+B+'">'+getURLParam("caption",A)+"</section>";if($("#recalculateBar").length>0){$("#recalculateBar").before(F)}else{if($("#computed").length>0){$("#computed").before(F)}else{$("#answers").append(F)}}$("#recalculate.pod.loading, #recalculate_old.pod.loading").css("display","none")}}else{if($("#"+B+" .output").length>0){progressBar($("#"+B).get(0))}}loadPod(B,A+"&proContent=1");if($.browser.msie){}}function setupPullDown(A){if($("#"+A).css("z-index")=="201"){$("#"+A).css("z-index","200")}}function recalculate(A){try{if(A){window.hasRecalculate=true;$.ajax({url:server+"/input/"+A,dataType:"script",complete:function(C){setTimeout(function(){$("#recalculateBar").remove()},1000)}})}}catch(B){}}function recalculate_check(){if(typeof window.recalculate_loaded=="undefined"){$("#recalculateBar").remove()}}function splat(A){document.domain=getTopDomain();$("#answers").attr("id","tmp").wrap('<div id="answers" />');loadData("tmp","relatedExamples.jsp?template=1",function(){if(typeof didYouMean!="undefined"&&didYouMean.length>0){for(var F=0,B=didYouMean.length;F<B;F++){$("#didYouMean ul").append('<li><a href="/input/?i='+didYouMean[F]+'">'+didYouMean[F]+"</a></li>")}}else{$("#didYouMean").remove()}if(typeof A!="undefined"&&A.length>0){var D=0;for(var F=0;F<A.length;F++){D++;var H='<div class="category-div">';if(A[F][0][0].indexOf("None")!=-1){H+='<p class="none" style="display: none;">'+A[F][0][0]+":</p>"}else{if(A[F][0][0].indexOf("Future")!=-1){H+='<p class="category"><a class="future">'+A[F][0][0]+":</a></p>"}else{H+='<p class="category"><a href="/examples/'+A[F][0][1]+'.html">'+A[F][0][0]+":</a></p>"}}H+='<div class="list-holder"><ul>';for(var E=1;E<A[F].length;E++){D++;var G="<li"+(A[F].length==2?' class="last"':"")+">";G+='<a href="/input/?i='+encodeURIComponent(A[F][E][0])+'">';if(A[F][0][0].indexOf("None")==-1){G+='<div id="splat'+(D-F-1)+'" class="splat-pop-container"><div class="left-splat-pop">&nbsp;</div><div class="splat-pop"><span>'+A[F][E][1]+'</span></div><div class="right-splat-pop">&nbsp;</div></div>'}G+=A[F][E][0]+"</a>";G+="</li>";H+=G}if(A[F][0][0].indexOf("None")==-1&&A[F].length>2){H+='<li class="more"><a href="/examples/'+A[F][0][1]+'.html">more...</a></li>'}H+="</ul></div></div>";$("#relatedInputs").append(H)}}else{$("#relatedInputs").remove()}if(typeof examplePages!="undefined"&&examplePages.length>0){var C='<div id="splatExamples">';C+="<ul>";C+='<li><a id="toExamples" href="/examples/" title="More to explore">More to explore:</a></li>';C+='<li><a href="/examples/'+examplePages[0][1]+'.html">'+examplePages[0][0]+"</a></li>";C+='<li><a href="/examples/'+examplePages[1][1]+'.html">'+examplePages[1][0]+"</a></li>";C+='<li><a href="/examples/'+examplePages[2][1]+'.html">'+examplePages[2][0]+"</a></li>";C+="</ul>";C+="<ul>";C+='<li><a href="/examples/'+examplePages[3][1]+'.html">'+examplePages[3][0]+"</a></li>";C+='<li><a href="/examples/'+examplePages[4][1]+'.html">'+examplePages[4][0]+"</a></li>";C+='<li><a href="/examples/'+examplePages[5][1]+'.html">'+examplePages[5][0]+"</a></li>";C+="</ul>";C+="<ul>";C+='<li><a href="/examples/'+examplePages[6][1]+'.html">'+examplePages[6][0]+"</a></li>";C+='<li><a href="/examples/'+examplePages[7][1]+'.html">'+examplePages[7][0]+"</a></li>";C+='<li><a href="/examples/"><em>More...</em></a></li>';C+="</ul>";C+="</div>";$("#splatExamples").replaceWith(C)}else{}$("#related").wrap('<div id="answers">');$("#hide-footer").css("left","auto");$("#hide-debug").css("left","auto");$("#tips").click(function(){splattips()})});setTimeout(function(){$("#answers").css({display:"block",left:"0px"})},10);$("#answers").show()}function encodeall(A){window.location="/input/?i="+A}var calledAjaxStop=false;function ajaxStopFn(){if(!calledAjaxStop){$("#input").removeClass("loading");$("#tmpMessage").attr("disabled",false);calledAjaxStop=true}}$(document).ready(function(){if($("#answers .pod").length>0){$("html").removeClass("loading")}$(window).load(function(){$("html").removeClass("loading")});$("#tmpMessage").attr("disabled",false);setTimeout(ajaxStopFn,5000);$("#input").ajaxStart(function(){setTimeout(ajaxStopFn,5000);$(this).addClass("loading");calledAjaxStop=false;$("#tmpMessage").attr("disabled",true)}).ajaxStop(function(){ajaxStopFn();try{window.postMessage("done","*")}catch(A){}})});