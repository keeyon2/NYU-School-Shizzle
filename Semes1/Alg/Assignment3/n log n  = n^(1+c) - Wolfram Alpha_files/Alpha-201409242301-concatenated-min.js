(function(){var AK=this,AE=AK._,AG={},AT=Array.prototype,AD=Object.prototype,AP=Function.prototype,AX=AT.push,AJ=AT.slice,AV=AT.concat,AM=AD.toString,AS=AD.hasOwnProperty,AF=AT.forEach,AI=AT.map,AC=AT.reduce,AQ=AT.reduceRight,AR=AT.filter,AU=AT.every,AL=AT.some,Z=AT.indexOf,AW=AT.lastIndexOf,AA=Array.isArray,AY=Object.keys,AO=AP.bind,AB=function(A){return A instanceof AB?A:this instanceof AB?(this._wrapped=A,void 0):new AB(A)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=AB),exports._=AB):AK._=AB,AB.VERSION="1.4.3";var X=AB.each=AB.forEach=function(I,E,F){if(null!=I){if(AF&&I.forEach===AF){I.forEach(E,F)}else{if(I.length===+I.length){for(var B=0,D=I.length;D>B;B++){if(E.call(F,I[B],B,I)===AG){return }}}else{for(var A in I){if(AB.has(I,A)&&E.call(F,I[A],A,I)===AG){return }}}}}};AB.map=AB.collect=function(E,A,B){var D=[];return null==E?D:AI&&E.map===AI?E.map(A,B):(X(E,function(M,F,I){D[D.length]=A.call(B,M,F,I)}),D)};var J="Reduce of empty array with no initial value";AB.reduce=AB.foldl=AB.inject=function(F,B,D,E){var A=arguments.length>2;if(null==F&&(F=[]),AC&&F.reduce===AC){return E&&(B=AB.bind(B,E)),A?F.reduce(B,D):F.reduce(B)}if(X(F,function(N,M,I){A?D=B.call(E,D,N,M,I):(D=N,A=!0)}),!A){throw new TypeError(J)}return D},AB.reduceRight=AB.foldr=function(M,E,F,I){var B=arguments.length>2;if(null==M&&(M=[]),AQ&&M.reduceRight===AQ){return I&&(E=AB.bind(E,I)),B?M.reduceRight(E,F):M.reduceRight(E)}var D=M.length;if(D!==+D){var A=AB.keys(M);D=A.length}if(X(M,function(O,R,N){R=A?A[--D]:--D,B?F=E.call(I,F,M[R],R,N):(F=M[R],B=!0)}),!B){throw new TypeError(J)}return F},AB.find=AB.detect=function(E,A,B){var D;return U(E,function(M,F,I){return A.call(B,M,F,I)?(D=M,!0):void 0}),D},AB.filter=AB.select=function(E,A,B){var D=[];return null==E?D:AR&&E.filter===AR?E.filter(A,B):(X(E,function(M,F,I){A.call(B,M,F,I)&&(D[D.length]=M)}),D)},AB.reject=function(D,A,B){return AB.filter(D,function(I,F,E){return !A.call(B,I,F,E)},B)},AB.every=AB.all=function(E,B,D){B||(B=AB.identity);var A=!0;return null==E?A:AU&&E.every===AU?E.every(B,D):(X(E,function(M,I,F){return(A=A&&B.call(D,M,I,F))?void 0:AG}),!!A)};var U=AB.some=AB.any=function(E,B,D){B||(B=AB.identity);var A=!1;return null==E?A:AL&&E.some===AL?E.some(B,D):(X(E,function(M,I,F){return A||(A=B.call(D,M,I,F))?AG:void 0}),!!A)};AB.contains=AB.include=function(B,A){return null==B?!1:Z&&B.indexOf===Z?-1!=B.indexOf(A):U(B,function(D){return D===A})},AB.invoke=function(D,A){var B=AJ.call(arguments,2);return AB.map(D,function(E){return(AB.isFunction(A)?A:E[A]).apply(E,B)})},AB.pluck=function(B,A){return AB.map(B,function(D){return D[A]})},AB.where=function(B,A){return AB.isEmpty(A)?[]:AB.filter(B,function(E){for(var D in A){if(A[D]!==E[D]){return !1}}return !0})},AB.max=function(E,A,B){if(!A&&AB.isArray(E)&&E[0]===+E[0]&&65535>E.length){return Math.max.apply(Math,E)}if(!A&&AB.isEmpty(E)){return -1/0}var D={computed:-1/0,value:-1/0};return X(E,function(N,I,M){var F=A?A.call(B,N,I,M):N;F>=D.computed&&(D={value:N,computed:F})}),D.value},AB.min=function(E,A,B){if(!A&&AB.isArray(E)&&E[0]===+E[0]&&65535>E.length){return Math.min.apply(Math,E)}if(!A&&AB.isEmpty(E)){return 1/0}var D={computed:1/0,value:1/0};return X(E,function(N,I,M){var F=A?A.call(B,N,I,M):N;D.computed>F&&(D={value:N,computed:F})}),D.value},AB.shuffle=function(E){var A,B=0,D=[];return X(E,function(F){A=AB.random(B++),D[B-1]=D[A],D[A]=F}),D};var Q=function(A){return AB.isFunction(A)?A:function(B){return B[A]}};AB.sortBy=function(E,A,B){var D=Q(A);return AB.pluck(AB.map(E,function(M,I,F){return{value:M,index:I,criteria:D.call(B,M,I,F)}}).sort(function(N,F){var I=N.criteria,M=F.criteria;if(I!==M){if(I>M||void 0===I){return 1}if(M>I||void 0===M){return -1}}return N.index<F.index?-1:1}),"value")};var AN=function(I,D,E,F){var A={},B=Q(D||AB.identity);return X(I,function(N,M){var O=B.call(E,N,M,I);F(A,O,N)}),A};AB.groupBy=function(D,A,B){return AN(D,A,B,function(I,E,F){(AB.has(I,E)?I[E]:I[E]=[]).push(F)})},AB.countBy=function(D,A,B){return AN(D,A,B,function(F,E){AB.has(F,E)||(F[E]=0),F[E]++})},AB.sortedIndex=function(N,E,F,I){F=null==F?AB.identity:Q(F);for(var B=F.call(I,E),D=0,A=N.length;A>D;){var M=D+A>>>1;B>F.call(I,N[M])?D=M+1:A=M}return D},AB.toArray=function(A){return A?AB.isArray(A)?AJ.call(A):A.length===+A.length?AB.map(A,AB.identity):AB.values(A):[]},AB.size=function(A){return null==A?0:A.length===+A.length?A.length:AB.keys(A).length},AB.first=AB.head=AB.take=function(D,A,B){return null==D?void 0:null==A||B?D[0]:AJ.call(D,0,A)},AB.initial=function(D,A,B){return AJ.call(D,0,D.length-(null==A||B?1:A))},AB.last=function(D,A,B){return null==D?void 0:null==A||B?D[D.length-1]:AJ.call(D,Math.max(D.length-A,0))},AB.rest=AB.tail=AB.drop=function(D,A,B){return AJ.call(D,null==A||B?1:A)},AB.compact=function(A){return AB.filter(A,AB.identity)};var H=function(D,A,B){return X(D,function(E){AB.isArray(E)?A?AX.apply(B,E):H(E,A,B):B.push(E)}),B};AB.flatten=function(B,A){return H(B,A,[])},AB.without=function(A){return AB.difference(A,AJ.call(arguments,1))},AB.uniq=AB.unique=function(M,E,F,I){AB.isFunction(E)&&(I=F,F=E,E=!1);var B=F?AB.map(M,F,I):M,D=[],A=[];return X(B,function(N,O){(E?O&&A[A.length-1]===N:AB.contains(A,N))||(A.push(N),D.push(M[O]))}),D},AB.union=function(){return AB.uniq(AV.apply(AT,arguments))},AB.intersection=function(B){var A=AJ.call(arguments,1);return AB.filter(AB.uniq(B),function(D){return AB.every(A,function(E){return AB.indexOf(E,D)>=0})})},AB.difference=function(B){var A=AV.apply(AT,AJ.call(arguments,1));return AB.filter(B,function(D){return !AB.contains(A,D)})},AB.zip=function(){for(var E=AJ.call(arguments),A=AB.max(AB.pluck(E,"length")),B=Array(A),D=0;A>D;D++){B[D]=AB.pluck(E,""+D)}return B},AB.object=function(F,B){if(null==F){return{}}for(var D={},E=0,A=F.length;A>E;E++){B?D[F[E]]=B[E]:D[F[E][0]]=F[E][1]}return D},AB.indexOf=function(F,B,D){if(null==F){return -1}var E=0,A=F.length;if(D){if("number"!=typeof D){return E=AB.sortedIndex(F,B),F[E]===B?E:-1}E=0>D?Math.max(0,A+D):D}if(Z&&F.indexOf===Z){return F.indexOf(B,D)}for(;A>E;E++){if(F[E]===B){return E}}return -1},AB.lastIndexOf=function(F,B,D){if(null==F){return -1}var E=null!=D;if(AW&&F.lastIndexOf===AW){return E?F.lastIndexOf(B,D):F.lastIndexOf(B)}for(var A=E?D:F.length;A--;){if(F[A]===B){return A}}return -1},AB.range=function(I,D,E){1>=arguments.length&&(D=I||0,I=0),E=arguments[2]||1;for(var F=Math.max(Math.ceil((D-I)/E),0),A=0,B=Array(F);F>A;){B[A++]=I,I+=E}return B};var P=function(){};AB.bind=function(E,A){var B,D;if(E.bind===AO&&AO){return AO.apply(E,AJ.call(arguments,1))}if(!AB.isFunction(E)){throw new TypeError}return B=AJ.call(arguments,2),D=function(){if(!(this instanceof D)){return E.apply(A,B.concat(AJ.call(arguments)))}P.prototype=E.prototype;var F=new P;P.prototype=null;var I=E.apply(F,B.concat(AJ.call(arguments)));return Object(I)===I?I:F}},AB.bindAll=function(B){var A=AJ.call(arguments,1);return 0==A.length&&(A=AB.functions(B)),X(A,function(D){B[D]=AB.bind(B[D],B)}),B},AB.memoize=function(D,A){var B={};return A||(A=AB.identity),function(){var E=A.apply(this,arguments);return AB.has(B,E)?B[E]:B[E]=D.apply(this,arguments)}},AB.delay=function(D,A){var B=AJ.call(arguments,2);return setTimeout(function(){return D.apply(null,B)},A)},AB.defer=function(A){return AB.delay.apply(AB,[A,1].concat(AJ.call(arguments,1)))},AB.throttle=function(N,E){var F,I,B,D,A=0,M=function(){A=new Date,B=null,D=N.apply(F,I)};return function(){var R=new Date,O=E-(R-A);return F=this,I=arguments,0>=O?(clearTimeout(B),B=null,A=R,D=N.apply(F,I)):B||(B=setTimeout(M,O)),D}},AB.debounce=function(F,B,D){var E,A;return function(){var M=this,I=arguments,N=function(){E=null,D||(A=F.apply(M,I))},O=D&&!E;return clearTimeout(E),E=setTimeout(N,B),O&&(A=F.apply(M,I)),A}},AB.once=function(D){var A,B=!1;return function(){return B?A:(B=!0,A=D.apply(this,arguments),D=null,A)}},AB.wrap=function(B,A){return function(){var D=[B];return AX.apply(D,arguments),A.apply(this,D)}},AB.compose=function(){var A=arguments;return function(){for(var B=arguments,D=A.length-1;D>=0;D--){B=[A[D].apply(this,B)]}return B[0]}},AB.after=function(B,A){return 0>=B?A():function(){return 1>--B?A.apply(this,arguments):void 0}},AB.keys=AY||function(D){if(D!==Object(D)){throw new TypeError("Invalid object")}var A=[];for(var B in D){AB.has(D,B)&&(A[A.length]=B)}return A},AB.values=function(D){var A=[];for(var B in D){AB.has(D,B)&&A.push(D[B])}return A},AB.pairs=function(D){var A=[];for(var B in D){AB.has(D,B)&&A.push([B,D[B]])}return A},AB.invert=function(D){var A={};for(var B in D){AB.has(D,B)&&(A[D[B]]=B)}return A},AB.functions=AB.methods=function(D){var A=[];for(var B in D){AB.isFunction(D[B])&&A.push(B)}return A.sort()},AB.extend=function(A){return X(AJ.call(arguments,1),function(B){if(B){for(var D in B){A[D]=B[D]}}}),A},AB.pick=function(D){var A={},B=AV.apply(AT,AJ.call(arguments,1));return X(B,function(E){E in D&&(A[E]=D[E])}),A},AB.omit=function(E){var B={},D=AV.apply(AT,AJ.call(arguments,1));for(var A in E){AB.contains(D,A)||(B[A]=E[A])}return B},AB.defaults=function(A){return X(AJ.call(arguments,1),function(B){if(B){for(var D in B){null==A[D]&&(A[D]=B[D])}}}),A},AB.clone=function(A){return AB.isObject(A)?AB.isArray(A)?A.slice():AB.extend({},A):A},AB.tap=function(B,A){return A(B),B};var G=function(D,R,A,I){if(D===R){return 0!==D||1/D==1/R}if(null==D||null==R){return D===R}D instanceof AB&&(D=D._wrapped),R instanceof AB&&(R=R._wrapped);var O=AM.call(D);if(O!=AM.call(R)){return !1}switch(O){case"[object String]":return D==R+"";case"[object Number]":return D!=+D?R!=+R:0==D?1/D==1/R:D==+R;case"[object Date]":case"[object Boolean]":return +D==+R;case"[object RegExp]":return D.source==R.source&&D.global==R.global&&D.multiline==R.multiline&&D.ignoreCase==R.ignoreCase}if("object"!=typeof D||"object"!=typeof R){return !1}for(var E=A.length;E--;){if(A[E]==D){return I[E]==R}}A.push(D),I.push(R);var N=0,B=!0;if("[object Array]"==O){if(N=D.length,B=N==R.length){for(;N--&&(B=G(D[N],R[N],A,I));){}}}else{var M=D.constructor,F=R.constructor;if(M!==F&&!(AB.isFunction(M)&&M instanceof M&&AB.isFunction(F)&&F instanceof F)){return !1}for(var S in D){if(AB.has(D,S)&&(N++,!(B=AB.has(R,S)&&G(D[S],R[S],A,I)))){break}}if(B){for(S in R){if(AB.has(R,S)&&!N--){break}}B=!N}}return A.pop(),I.pop(),B};AB.isEqual=function(B,A){return G(B,A,[],[])},AB.isEmpty=function(B){if(null==B){return !0}if(AB.isArray(B)||AB.isString(B)){return 0===B.length}for(var A in B){if(AB.has(B,A)){return !1}}return !0},AB.isElement=function(A){return !(!A||1!==A.nodeType)},AB.isArray=AA||function(A){return"[object Array]"==AM.call(A)},AB.isObject=function(A){return A===Object(A)},X(["Arguments","Function","String","Number","Date","RegExp"],function(A){AB["is"+A]=function(B){return AM.call(B)=="[object "+A+"]"}}),AB.isArguments(arguments)||(AB.isArguments=function(A){return !(!A||!AB.has(A,"callee"))}),AB.isFunction=function(A){return"function"==typeof A},AB.isFinite=function(A){return isFinite(A)&&!isNaN(parseFloat(A))},AB.isNaN=function(A){return AB.isNumber(A)&&A!=+A},AB.isBoolean=function(A){return A===!0||A===!1||"[object Boolean]"==AM.call(A)},AB.isNull=function(A){return null===A},AB.isUndefined=function(A){return void 0===A},AB.has=function(B,A){return AS.call(B,A)},AB.noConflict=function(){return AK._=AE,this},AB.identity=function(A){return A},AB.times=function(F,B,D){for(var E=Array(F),A=0;F>A;A++){E[A]=B.call(D,A)}return E},AB.random=function(B,A){return null==A&&(A=B,B=0),B+(0|Math.random()*(A-B+1))};var C={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};C.unescape=AB.invert(C.escape);var L={escape:RegExp("["+AB.keys(C.escape).join("")+"]","g"),unescape:RegExp("("+AB.keys(C.unescape).join("|")+")","g")};AB.each(["escape","unescape"],function(A){AB[A]=function(B){return null==B?"":(""+B).replace(L[A],function(D){return C[A][D]})}}),AB.result=function(D,A){if(null==D){return null}var B=D[A];return AB.isFunction(B)?B.call(D):B},AB.mixin=function(A){X(AB.functions(A),function(B){var D=AB[B]=A[B];AB.prototype[B]=function(){var E=[this._wrapped];return AX.apply(E,arguments),Y.call(this,D.apply(AB,E))}})};var K=0;AB.uniqueId=function(B){var A=""+ ++K;return B?B+A:A},AB.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var AH=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\t|\u2028|\u2029/g;AB.template=function(D,O,A){A=AB.defaults({},A,AB.templateSettings);var F=RegExp([(A.escape||AH).source,(A.interpolate||AH).source,(A.evaluate||AH).source].join("|")+"|$","g"),N=0,E="__p+='";D.replace(F,function(S,T,b,R,c){return E+=D.slice(N,c).replace(V,function(a){return"\\"+W[a]}),T&&(E+="'+\n((__t=("+T+"))==null?'':_.escape(__t))+\n'"),b&&(E+="'+\n((__t=("+b+"))==null?'':__t)+\n'"),R&&(E+="';\n"+R+"\n__p+='"),N=c+S.length,S}),E+="';\n",A.variable||(E="with(obj||{}){\n"+E+"}\n"),E="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+E+"return __p;\n";try{var M=Function(A.variable||"obj","_",E)}catch(B){throw B.source=E,B}if(O){return M(O,AB)}var I=function(R){return M.call(this,R,AB)};return I.source="function("+(A.variable||"obj")+"){\n"+E+"}",I},AB.chain=function(A){return AB(A).chain()};var Y=function(A){return this._chain?AB(A).chain():A};AB.mixin(AB),X(["pop","push","reverse","shift","sort","splice","unshift"],function(B){var A=AT[B];AB.prototype[B]=function(){var D=this._wrapped;return A.apply(D,arguments),"shift"!=B&&"splice"!=B||0!==D.length||delete D[0],Y.call(this,D)}}),X(["concat","join","slice"],function(B){var A=AT[B];AB.prototype[B]=function(){return Y.call(this,A.apply(this._wrapped,arguments))}}),AB.extend(AB.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(){var q=this,O=q.Backbone,AB=[],M=AB.push,c=AB.slice,f=AB.splice,AC;AC="undefined"!==typeof exports?exports:q.Backbone={};AC.VERSION="0.9.9";var AD=q._;!AD&&"undefined"!==typeof require&&(AD=require("underscore"));AC.$=q.jQuery||q.Zepto||q.ender;AC.noConflict=function(){q.Backbone=O;return this};AC.emulateHTTP=!1;AC.emulateJSON=!1;var Z=/\s+/,m=function(B,A,F,E){if(!F){return !0}if("object"===typeof F){for(var C in F){B[A].apply(B,[C,F[C]].concat(E))}}else{if(Z.test(F)){F=F.split(Z);C=0;for(var D=F.length;C<D;C++){B[A].apply(B,[F[C]].concat(E))}}else{return !0}}},Y=function(B,A,E){var D,B=-1,C=A.length;switch(E.length){case 0:for(;++B<C;){(D=A[B]).callback.call(D.ctx)}break;case 1:for(;++B<C;){(D=A[B]).callback.call(D.ctx,E[0])}break;case 2:for(;++B<C;){(D=A[B]).callback.call(D.ctx,E[0],E[1])}break;case 3:for(;++B<C;){(D=A[B]).callback.call(D.ctx,E[0],E[1],E[2])}break;default:for(;++B<C;){(D=A[B]).callback.apply(D.ctx,E)}}},AB=AC.Events={on:function(B,A,C){if(!m(this,"on",B,[A,C])||!A){return this}this._events||(this._events={});(this._events[B]||(this._events[B]=[])).push({callback:A,context:C,ctx:C||this});return this},once:function(B,A,E){if(!m(this,"once",B,[A,E])||!A){return this}var D=this,C=AD.once(function(){D.off(B,C);A.apply(this,arguments)});C._callback=A;this.on(B,C,E);return this},off:function(K,J,I){var H,G,B,F,D,A,E,C;if(!this._events||!m(this,"off",K,[J,I])){return this}if(!K&&!J&&!I){return this._events={},this}F=K?[K]:AD.keys(this._events);D=0;for(A=F.length;D<A;D++){if(K=F[D],H=this._events[K]){B=[];if(J||I){E=0;for(C=H.length;E<C;E++){G=H[E],(J&&J!==(G.callback._callback||G.callback)||I&&I!==G.context)&&B.push(G)}}this._events[K]=B}}return this},trigger:function(B){if(!this._events){return this}var A=c.call(arguments,1);if(!m(this,"trigger",B,A)){return this}var D=this._events[B],C=this._events.all;D&&Y(this,D,A);C&&Y(this,C,arguments);return this},listenTo:function(B,A,E){var D=this._listeners||(this._listeners={}),C=B._listenerId||(B._listenerId=AD.uniqueId("l"));D[C]=B;B.on(A,E||this,this);return this},stopListening:function(B,A,E){var D=this._listeners;if(D){if(B){B.off(A,E,this),!A&&!E&&delete D[B._listenerId]}else{for(var C in D){D[C].off(null,null,this)}this._listeners={}}return this}}};AB.bind=AB.on;AB.unbind=AB.off;AD.extend(AC,AB);var l=AC.Model=function(B,A){var D,C=B||{};this.cid=AD.uniqueId("c");this.changed={};this.attributes={};this._changes=[];A&&A.collection&&(this.collection=A.collection);A&&A.parse&&(C=this.parse(C));(D=AD.result(this,"defaults"))&&AD.defaults(C,D);this.set(C,{silent:!0});this._currentAttributes=AD.clone(this.attributes);this._previousAttributes=AD.clone(this.attributes);this.initialize.apply(this,arguments)};AD.extend(l.prototype,AB,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(){return AD.clone(this.attributes)},sync:function(){return AC.sync.apply(this,arguments)},get:function(A){return this.attributes[A]},escape:function(A){return AD.escape(this.get(A))},has:function(A){return null!=this.get(A)},set:function(C,A,G){var F,E;if(null==C){return this}AD.isObject(C)?(E=C,G=A):(E={})[C]=A;var C=G&&G.silent,B=G&&G.unset;if(!this._validate(E,G)){return !1}this.idAttribute in E&&(this.id=E[this.idAttribute]);var D=this.attributes;for(F in E){A=E[F],B?delete D[F]:D[F]=A,this._changes.push(F,A)}this._hasComputed=!1;C||this.change(G);return this},unset:function(B,A){return this.set(B,void 0,AD.extend({},A,{unset:!0}))},clear:function(B){var A={},C;for(C in this.attributes){A[C]=void 0}return this.set(A,AD.extend({},B,{unset:!0}))},fetch:function(B){B=B?AD.clone(B):{};void 0===B.parse&&(B.parse=!0);var A=this,C=B.success;B.success=function(D){if(!A.set(A.parse(D),B)){return false}C&&C(A,D,B)};return this.sync("read",this,B)},save:function(B,A,H){var G,F,D;null==B||AD.isObject(B)?(G=B,H=A):null!=B&&((G={})[B]=A);H=H?AD.clone(H):{};if(H.wait){if(G&&!this._validate(G,H)){return !1}F=AD.clone(this.attributes)}B=AD.extend({},H,{silent:!0});if(G&&!this.set(G,H.wait?B:H)||!G&&!this._validate(null,H)){return !1}var E=this,C=H.success;H.success=function(J){D=true;var I=E.parse(J);H.wait&&(I=AD.extend(G||{},I));if(!E.set(I,H)){return false}C&&C(E,J,H)};A=this.isNew()?"create":H.patch?"patch":"update";"patch"==A&&(H.attrs=G);A=this.sync(A,this,H);!D&&H.wait&&(this.clear(B),this.set(F,B));return A},destroy:function(B){var B=B?AD.clone(B):{},A=this,E=B.success,D=function(){A.trigger("destroy",A,A.collection,B)};B.success=function(F){(B.wait||A.isNew())&&D();E&&E(A,F,B)};if(this.isNew()){return B.success(),!1}var C=this.sync("delete",this,B);B.wait||D();return C},url:function(){var A=AD.result(this,"urlRoot")||AD.result(this.collection,"url")||V();return this.isNew()?A:A+("/"===A.charAt(A.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(A){return A},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(B){var A=this._changing;this._changing=!0;var D=this._computeChanges(!0);this._pending=!!D.length;for(var C=D.length-2;0<=C;C-=2){this.trigger("change:"+D[C],this,D[C+1],B)}if(A){return this}for(;this._pending;){this._pending=!1,this.trigger("change",this,B),this._previousAttributes=AD.clone(this.attributes)}this._changing=!1;return this},hasChanged:function(A){this._hasComputed||this._computeChanges();return null==A?!AD.isEmpty(this.changed):AD.has(this.changed,A)},changedAttributes:function(B){if(!B){return this.hasChanged()?AD.clone(this.changed):!1}var A,E=!1,D=this._previousAttributes,C;for(C in B){if(!AD.isEqual(D[C],A=B[C])){(E||(E={}))[C]=A}}return E},_computeChanges:function(B){this.changed={};for(var A={},H=[],G=this._currentAttributes,E=this._changes,F=E.length-2;0<=F;F-=2){var D=E[F],C=E[F+1];A[D]||(A[D]=!0,G[D]!==C&&(this.changed[D]=C,B&&(H.push(D,C),G[D]=C)))}B&&(this._changes=[]);this._hasComputed=!0;return H},previous:function(A){return null==A||!this._previousAttributes?null:this._previousAttributes[A]},previousAttributes:function(){return AD.clone(this._previousAttributes)},_validate:function(B,A){if(!this.validate){return !0}var B=AD.extend({},this.attributes,B),C=this.validate(B,A);if(!C){return !0}A&&A.error&&A.error(this,C,A);this.trigger("error",this,C,A);return !1}});var i=AC.Collection=function(B,A){A||(A={});A.model&&(this.model=A.model);void 0!==A.comparator&&(this.comparator=A.comparator);this._reset();this.initialize.apply(this,arguments);B&&this.reset(B,AD.extend({silent:!0},A))};AD.extend(i.prototype,AB,{model:l,initialize:function(){},toJSON:function(A){return this.map(function(B){return B.toJSON(A)})},sync:function(){return AC.sync.apply(this,arguments)},add:function(B,A){var H,G,F,E,D=A&&A.at,C=null==(A&&A.sort)?!0:A.sort,B=AD.isArray(B)?B.slice():[B];for(H=B.length-1;0<=H;H--){(G=this._prepareModel(B[H],A))?(B[H]=G,(F=null!=G.id&&this._byId[G.id])||this._byCid[G.cid]?(A&&(A.merge&&F)&&(F.set(G.attributes,A),E=C),B.splice(H,1)):(G.on("all",this._onModelEvent,this),this._byCid[G.cid]=G,null!=G.id&&(this._byId[G.id]=G))):(this.trigger("error",this,B[H],A),B.splice(H,1))}B.length&&(E=C);this.length+=B.length;H=[null!=D?D:this.models.length,0];M.apply(H,B);f.apply(this.models,H);E&&(this.comparator&&null==D)&&this.sort({silent:!0});if(A&&A.silent){return this}for(;G=B.shift();){G.trigger("add",G,this,A)}return this},remove:function(B,A){var F,E,D,C;A||(A={});B=AD.isArray(B)?B.slice():[B];F=0;for(E=B.length;F<E;F++){if(C=this.get(B[F])){delete this._byId[C.id],delete this._byCid[C.cid],D=this.indexOf(C),this.models.splice(D,1),this.length--,A.silent||(A.index=D,C.trigger("remove",C,this,A)),this._removeReference(C)}}return this},push:function(B,A){B=this._prepareModel(B,A);this.add(B,AD.extend({at:this.length},A));return B},pop:function(B){var A=this.at(this.length-1);this.remove(A,B);return A},unshift:function(B,A){B=this._prepareModel(B,A);this.add(B,AD.extend({at:0},A));return B},shift:function(B){var A=this.at(0);this.remove(A,B);return A},slice:function(B,A){return this.models.slice(B,A)},get:function(A){return null==A?void 0:this._byId[null!=A.id?A.id:A]||this._byCid[A.cid||A]},at:function(A){return this.models[A]},where:function(A){return AD.isEmpty(A)?[]:this.filter(function(B){for(var C in A){if(A[C]!==B.get(C)){return !1}}return !0})},sort:function(A){if(!this.comparator){throw Error("Cannot sort a set without a comparator")}AD.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(AD.bind(this.comparator,this));(!A||!A.silent)&&this.trigger("sort",this,A);return this},pluck:function(A){return AD.invoke(this.models,"get",A)},update:function(J,I){var H,G,F,E,D=[],C=[],A={},B=this.model.prototype.idAttribute,I=AD.extend({add:!0,merge:!0,remove:!0},I);I.parse&&(J=this.parse(J));AD.isArray(J)||(J=J?[J]:[]);if(I.add&&!I.remove){return this.add(J,I)}G=0;for(F=J.length;G<F;G++){H=J[G],E=this.get(H.id||H.cid||H[B]),I.remove&&E&&(A[E.cid]=!0),(I.add&&!E||I.merge&&E)&&D.push(H)}if(I.remove){G=0;for(F=this.models.length;G<F;G++){H=this.models[G],A[H.cid]||C.push(H)}}C.length&&this.remove(C,I);D.length&&this.add(D,I);return this},reset:function(B,A){A||(A={});A.parse&&(B=this.parse(B));for(var D=0,C=this.models.length;D<C;D++){this._removeReference(this.models[D])}A.previousModels=this.models;this._reset();B&&this.add(B,AD.extend({silent:!0},A));A.silent||this.trigger("reset",this,A);return this},fetch:function(B){B=B?AD.clone(B):{};void 0===B.parse&&(B.parse=!0);var A=this,C=B.success;B.success=function(D){A[B.update?"update":"reset"](D,B);C&&C(A,D,B)};return this.sync("read",this,B)},create:function(B,A){var D=this,A=A?AD.clone(A):{},B=this._prepareModel(B,A);if(!B){return !1}A.wait||D.add(B,A);var C=A.success;A.success=function(F,E,G){G.wait&&D.add(F,G);C&&C(F,E,G)};B.save(null,A);return B},parse:function(A){return A},clone:function(){return new this.constructor(this.models)},chain:function(){return AD(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(B,A){if(B instanceof l){return B.collection||(B.collection=this),B}A||(A={});A.collection=this;var C=new this.model(B,A);return !C._validate(B,A)?!1:C},_removeReference:function(A){this===A.collection&&delete A.collection;A.off("all",this._onModelEvent,this)},_onModelEvent:function(B,A,D,C){("add"===B||"remove"===B)&&D!==this||("destroy"===B&&this.remove(A,C),A&&B==="change:"+A.idAttribute&&(delete this._byId[A.previous(A.idAttribute)],null!=A.id&&(this._byId[A.id]=A)),this.trigger.apply(this,arguments))}});AD.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min sortedIndex toArray size first head take initial rest tail last without indexOf shuffle lastIndexOf isEmpty".split(" "),function(A){i.prototype[A]=function(){var B=c.call(arguments);B.unshift(this.models);return AD[A].apply(AD,B)}});AD.each(["groupBy","countBy","sortBy"],function(A){i.prototype[A]=function(B,D){var C=AD.isFunction(B)?B:function(E){return E.get(B)};return AD[A](this.models,C,D)}});var U=AC.Router=function(A){A||(A={});A.routes&&(this.routes=A.routes);this._bindRoutes();this.initialize.apply(this,arguments)},d=/\((.*?)\)/g,b=/:\w+/g,a=/\*\w+/g,X=/[\-{}\[\]+?.,\\\^$|#\s]/g;AD.extend(U.prototype,AB,{initialize:function(){},route:function(B,A,C){AD.isRegExp(B)||(B=this._routeToRegExp(B));C||(C=this[A]);AC.history.route(B,AD.bind(function(D){D=this._extractParameters(B,D);C&&C.apply(this,D);this.trigger.apply(this,["route:"+A].concat(D));AC.history.trigger("route",this,A,D)},this));return this},navigate:function(B,A){AC.history.navigate(B,A);return this},_bindRoutes:function(){if(this.routes){for(var B,A=AD.keys(this.routes);null!=(B=A.pop());){this.route(B,this.routes[B])}}},_routeToRegExp:function(A){A=A.replace(X,"\\$&").replace(d,"(?:$1)?").replace(b,"([^/]+)").replace(a,"(.*?)");return RegExp("^"+A+"$")},_extractParameters:function(B,A){return B.exec(A).slice(1)}});var AA=AC.History=function(){this.handlers=[];AD.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},S=/^[#\/]|\s+$/g,W=/^\/+|\/+$/g,T=/msie [\w.]+/,R=/\/$/;AA.started=!1;AD.extend(AA.prototype,AB,{interval:50,getHash:function(A){return(A=(A||this).location.href.match(/#(.*)$/))?A[1]:""},getFragment:function(B,A){if(null==B){if(this._hasPushState||!this._wantsHashChange||A){var B=this.location.pathname,C=this.root.replace(R,"");B.indexOf(C)||(B=B.substr(C.length))}else{B=this.getHash()}}return B.replace(S,"")},start:function(B){if(AA.started){throw Error("Backbone.history has already been started")}AA.started=!0;this.options=AD.extend({},{root:"/"},this.options,B);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState);var B=this.getFragment(),A=document.documentMode,A=T.exec(navigator.userAgent.toLowerCase())&&(!A||7>=A);this.root=("/"+this.root+"/").replace(W,"/");A&&this._wantsHashChange&&(this.iframe=AC.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(B));this._hasPushState?AC.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange" in window&&!A?AC.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=B;B=this.location;A=B.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!A){return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0}this._wantsPushState&&(this._hasPushState&&A&&B.hash)&&(this.fragment=this.getHash().replace(S,""),this.history.replaceState({},document.title,this.root+this.fragment+B.search));if(!this.options.silent){return this.loadUrl()}},stop:function(){AC.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);AA.started=!1},route:function(B,A){this.handlers.unshift({route:B,callback:A})},checkUrl:function(){var A=this.getFragment();A===this.fragment&&this.iframe&&(A=this.getFragment(this.getHash(this.iframe)));if(A===this.fragment){return !1}this.iframe&&this.navigate(A);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(B){var A=this.fragment=this.getFragment(B);return AD.any(this.handlers,function(C){if(C.route.test(A)){return C.callback(A),!0}})},navigate:function(B,A){if(!AA.started){return !1}if(!A||!0===A){A={trigger:A}}B=this.getFragment(B||"");if(this.fragment!==B){this.fragment=B;var C=this.root+B;if(this._hasPushState){this.history[A.replace?"replaceState":"pushState"]({},document.title,C)}else{if(this._wantsHashChange){this._updateHash(this.location,B,A.replace),this.iframe&&B!==this.getFragment(this.getHash(this.iframe))&&(A.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,B,A.replace))}else{return this.location.assign(C)}}A.trigger&&this.loadUrl(B)}},_updateHash:function(B,A,C){C?(C=B.href.replace(/(javascript:|#).*$/,""),B.replace(C+"#"+A)):B.hash="#"+A}});AC.history=new AA;var Q=AC.View=function(A){this.cid=AD.uniqueId("view");this._configure(A||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},P=/^(\S+)\s*(.*)$/,N="model collection el id attributes className tagName events".split(" ");AD.extend(Q.prototype,AB,{tagName:"div",$:function(A){return this.$el.find(A)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},make:function(B,A,C){B=document.createElement(B);A&&AC.$(B).attr(A);null!=C&&AC.$(B).html(C);return B},setElement:function(B,A){this.$el&&this.undelegateEvents();this.$el=B instanceof AC.$?B:AC.$(B);this.el=this.$el[0];!1!==A&&this.delegateEvents();return this},delegateEvents:function(B){if(B||(B=AD.result(this,"events"))){this.undelegateEvents();for(var A in B){var E=B[A];AD.isFunction(E)||(E=this[B[A]]);if(!E){throw Error('Method "'+B[A]+'" does not exist')}var D=A.match(P),C=D[1],D=D[2],E=AD.bind(E,this),C=C+(".delegateEvents"+this.cid);""===D?this.$el.bind(C,E):this.$el.delegate(D,C,E)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(A){this.options&&(A=AD.extend({},AD.result(this,"options"),A));AD.extend(this,AD.pick(A,N));this.options=A},_ensureElement:function(){if(this.el){this.setElement(AD.result(this,"el"),!1)}else{var A=AD.extend({},AD.result(this,"attributes"));this.id&&(A.id=AD.result(this,"id"));this.className&&(A["class"]=AD.result(this,"className"));this.setElement(this.make(AD.result(this,"tagName"),A),!1)}}});var L={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};AC.sync=function(B,A,H){var G=L[B];AD.defaults(H||(H={}),{emulateHTTP:AC.emulateHTTP,emulateJSON:AC.emulateJSON});var F={type:G,dataType:"json"};H.url||(F.url=AD.result(A,"url")||V());if(null==H.data&&A&&("create"===B||"update"===B||"patch"===B)){F.contentType="application/json",F.data=JSON.stringify(H.attrs||A.toJSON(H))}H.emulateJSON&&(F.contentType="application/x-www-form-urlencoded",F.data=F.data?{model:F.data}:{});if(H.emulateHTTP&&("PUT"===G||"DELETE"===G||"PATCH"===G)){F.type="POST";H.emulateJSON&&(F.data._method=G);var E=H.beforeSend;H.beforeSend=function(I){I.setRequestHeader("X-HTTP-Method-Override",G);if(E){return E.apply(this,arguments)}}}"GET"!==F.type&&!H.emulateJSON&&(F.processData=!1);var C=H.success;H.success=function(I,K,J){C&&C(I,K,J);A.trigger("sync",A,I,H)};var D=H.error;H.error=function(I){D&&D(A,I,H);A.trigger("error",A,I,H)};B=AC.ajax(AD.extend(F,H));A.trigger("request",A,B,H);return B};AC.ajax=function(){return AC.$.ajax.apply(AC.$,arguments)};l.extend=i.extend=U.extend=Q.extend=AA.extend=function(B,A){var E=this,D;D=B&&AD.has(B,"constructor")?B.constructor:function(){E.apply(this,arguments)};AD.extend(D,E,A);var C=function(){this.constructor=D};C.prototype=E.prototype;D.prototype=new C;B&&AD.extend(D.prototype,B);D.__super__=E.prototype;return D};var V=function(){throw Error('A "url" property or function must be specified')}}).call(this);function encodeURIComp(A){return encodeURIComponent(A).replace(/\+/g,"%2b")}function decodeURIComp(A){return decodeURIComponent(A.replace(/\+/g," "))}jQuery.fn.redraw=function(){return this.each(function(){var B=this.style.display;this.style.display="none";var A=this.offsetHeight;this.style.display=B;if(this.fireEvent){this.fireEvent("onmove")}else{$(this).trigger("mousemove")}})};(function(A){A.fn.extend({center:function(){return this.each(function(){var C=(A(window).height()-A(this).outerHeight())/2;var B=(A(window).width()-A(this).outerWidth())/2;A(this).css({position:"absolute",margin:0,top:(C>0?C:0)+"px",left:(B>0?B:0)+"px"})})}})})(jQuery);function downloadPDF(D,A,B){var C=$("#downloadpdf").offset();$("#downloadpdf, #downloadnb").attr("disabled","disabled");$.ajax({url:"/input/pdf.jsp?id="+D+"&"+B.substring(1),complete:function(G,E){if(G.status==200){$("#download-popup").fadeOut(200);var F="pdfGet.jsp?id="+$.trim(G.responseText)+"&i="+A;window.location=F}else{$("#download-popup").fadeOut(200)}$("#download-popup").attr("disabled","")}});return false}function downloadNotebook(C,A,B){$("#downloadingnb").show();$("#downloadpdf, #downloadnb").attr("disabled","disabled");$.ajax({url:"/input/nb.jsp?id="+C+"&"+B.substring(1),complete:function(E,D){if(E.status==200){$("#download-popup").fadeOut(200);window.location="nbGet.jsp?id="+$.trim(E.responseText)+"&i="+A}else{$("#download-popup").fadeOut(200)}$("#download-popup").attr("disabled","")}});return false}String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};String.prototype.endsWith=function(A){return(this.match(A+"$")==A)};function getURLParam(C,B){if(B==null||B==""){B=window.location.href}C=C.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var A="[\\?&]"+C+"=([^&#]*)";var E=new RegExp(A);var D=E.exec(B);if(D==null){return""}else{return D[1]}}function getScrollPosition(){var A={};A.y=(typeof document.scrollTop!="undefined"?document.scrollTop:(typeof window.pageYOffset!="undefined"?window.pageYOffset:(typeof document.body.parentElement.scrollTop!="undefined"?document.body.parentElement.scrollTop:0)));A.x=(typeof document.scrollLeft!="undefined"?document.scrollLeft:(typeof window.pageXOffset!="undefined"?window.pageXOffset:(typeof document.body.parentElement.scrollTop!="undefined"?document.body.parentElement.scrollTop:0)));return A}function generateHiddenInputField(A,C){var B=$("<input />").attr({type:"hidden",name:A,value:C});return B}function getColoParam(B){if(typeof B=="undefined"&&typeof server!="undefined"){B=server}if(typeof B=="undefined"){return""}var C=B.replace("http://","").split(".");var A=C[0];if(A.length>3){return A.substring(3)}else{return""}}function getColoHost(A){if(typeof A=="undefined"&&typeof server!="undefined"){A=server}if($.browser.msie||$.browser.opera){return""}else{if(typeof A!="undefined"){return A}else{return""}}}function getAuthIns(){var A=window.location.host;if(A.indexOf("devel")!=-1){return"DEV"}if(A.indexOf("current")!=-1){return"CUR"}if(A.indexOf("test")!=-1){return"TST"}if(A.indexOf("preview")!=-1){return"PVW"}return""}function getAuthCookiesParamsObj(){var D=getAuthIns();var C=$.cookie("wa_pro_s"+D);var A=$.cookie("wa_pro_u"+D);var B=$.cookie("wa_pro_t"+D);return{as:C,au:A,at:B}}function getColoProofURL(B,C){if($.browser.msie||$.browser.opera){return"/input/subpodaction/?c="+getColoParam(C)+"&u="+encodeURIComponent(B)}else{var A="&";return getColoHost(C)+B+A+mapToURLParams(getAuthCookiesParamsObj())}}function mapToURLParams(C){var A="";for(var B in C){A+=B+"="+encodeURIComp(C[B])+"&"}return A}function arrayToURLParams(A,C){var B="";for(var D in A){B+=C+"="+encodeURIComp(A[D])+"&"}return B}function xssEscape(A){return A.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function utf8_to_b64(A){return window.btoa(unescape(encodeURIComponent(A)))}function b64_to_utf8(A){return decodeURIComponent(escape(window.atob(A)))}function removeURLAnchor(A){if(A.lastIndexOf("#")==-1){return A}return A.substring(0,A.lastIndexOf("#"))}function SelectText(B){var D=document;var E=B;if(D.body.createTextRange){var A=document.body.createTextRange();A.moveToElementText(E);A.select()}else{if(window.getSelection){var C=window.getSelection();var A=document.createRange();A.selectNodeContents(E);C.removeAllRanges();C.addRange(A)}}}function setupFiledrop(A,D,E,B){var C=$(A);if(C.length<1){return false}C=C.get(0);if(typeof E=="function"){C.addEventListener("dragover",E,false)}if(typeof B=="function"){C.addEventListener("dragleave",B,false)}if(typeof D=="function"){C.addEventListener("drop",D,false)}}function getQueryURL(){return window.location.pathname}function showTipPage(){$.get("/Calculate/tippage.jsp",function(A){if($("#answers").length>0){$("#answers").replaceWith(A)}else{$("#solutions").append(A)}if($("#newResults").length>0){$("#newResults").remove()}$(".hide-rcld").removeClass("hide-rcld");$(".hide-sidebar").removeClass("hide-sidebar")})}function recursiveSplat(B){var C=B;C=C.replace(/\+/g,"%2B");var A="/Calculate/splat.jsp?i="+C+"&recompute=splat&lev="+scoreLevel;if(handwritten==1){A=A+"&handwritten=1"}$.ajax({url:A,success:function(D){$("#solutions").append(D);$("#interpreting").html(B).parent("li").show();$("#parseUsed").html($("#parsedExp").html()).parent("li").show();$(".hide-rcld").removeClass("hide-rcld");$(".hide-sidebar").removeClass("hide-sidebar")},error:function(E,G,F){$("#attempts").html($("#attempts").html()+"{ "+B+" }").parent("li").show();var D=findInputs(B);if(D!=B){$("#using").html(D);$("#closest .use ul li:first").remove();if($(".use ul li").length<1){$(".use").remove()}recursiveSplat(D)}else{$(".use").hide();showTipPage()}$("#parseSorry").parent().removeClass("hide")}})}$(document).ready(function(){if($("#weather").length>0){$("html").removeClass("loading")}$("#weather").addClass("nofade");$(window).load(function(){$("#weather").removeClass("nofade")});$("body").on("click","#weather .btn a, #weather .menu a",function(A){A.preventDefault();postData={};postData.button="1";postData.state=$(this).attr("data-s");postData.expr=$(this).attr("data-e");postData.text=$(this).attr("data-b");postData.f="1";$.post("/input/weather.section.jsp",postData,function(C,B,D){$("#weather").replaceWith(C)}).error(function(C,B,D){})})});
/*
 * jScrollPane - v2.0.19 - 2013-11-16
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2013 Kelvin Luck
 * Dual licensed under the MIT or GPL licenses.
 */
!function(B,A,C){B.fn.jScrollPane=function(E){function D(Ag,Ae){function Ad(N){var M,L,K,J,I,H,G=!1,F=!1;if(Au=N,As===C){I=Ag.scrollTop(),H=Ag.scrollLeft(),Ag.css({overflow:"hidden",padding:0}),Ar=Ag.innerWidth(),Aq=Ag.innerHeight(),Ag.width(Ar),As=B('<div class="jspPane" />').css("padding",BJ).append(Ag.children()),Ap=B('<div class="jspContainer" />').css({width:Ar+"px",height:Aq+"px"}).append(As).appendTo(Ag)}else{if(Ag.css("width",""),G=Au.stickToBottom&&A9(),F=Au.stickToRight&&A8(),J=Ag.innerWidth()+BC!=Ar||Ag.outerHeight()!=Aq,J&&(Ar=Ag.innerWidth()+BC,Aq=Ag.innerHeight(),Ap.css({width:Ar+"px",height:Aq+"px"})),!J&&Ah==Ao&&As.outerHeight()==An){return Ag.width(Ar),void 0}Ah=Ao,As.css("width",""),Ag.width(Ar),Ap.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}As.css("overflow","auto"),Ao=N.contentWidth?N.contentWidth:As[0].scrollWidth,An=As[0].scrollHeight,As.css("overflow",""),Am=Ao/Ar,Al=An/Aq,Ak=Al>1,Aj=Am>1,Aj||Ak?(Ag.addClass("jspScrollable"),M=Au.maintainPosition&&(BE||AC),M&&(L=BB(),K=BA()),Ac(),AZ(),AW(),M&&(AH(F?Ao-Ar:L,!1),AI(G?An-Aq:K,!1)),A3(),A7(),Aw(),Au.enableKeyboardNavigation&&A1(),Au.clickOnTrack&&AR(),Ay(),Au.hijackInternalLinks&&Ax()):(Ag.removeClass("jspScrollable"),As.css({top:0,left:0,width:Ap.width()-BC}),A5(),A2(),Az(),AQ()),Au.autoReinitialise&&!BO?BO=setInterval(function(){Ad(Au)},Au.autoReinitialiseDelay):!Au.autoReinitialise&&BO&&clearInterval(BO),I&&Ag.scrollTop(0)&&AI(I,!1),H&&Ag.scrollLeft(0)&&AH(H,!1),Ag.trigger("jsp-initialised",[Aj||Ak])}function Ac(){Ak&&(Ap.append(B('<div class="jspVerticalBar" />').append(B('<div class="jspCap jspCapTop" />'),B('<div class="jspTrack" />').append(B('<div class="jspDrag" />').append(B('<div class="jspDragTop" />'),B('<div class="jspDragBottom" />'))),B('<div class="jspCap jspCapBottom" />'))),b=Ap.find(">.jspVerticalBar"),BL=b.find(">.jspTrack"),BI=BL.find(">.jspDrag"),Au.showArrows&&(AD=B('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",AU(0,-1)).bind("click.jsp",A4),c=B('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",AU(0,1)).bind("click.jsp",A4),Au.arrowScrollOnHover&&(AD.bind("mouseover.jsp",AU(0,-1,AD)),c.bind("mouseover.jsp",AU(0,1,c))),AV(BL,Au.verticalArrowPositions,AD,c)),A0=Aq,Ap.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){A0-=B(this).outerHeight()}),BI.hover(function(){BI.addClass("jspHover")},function(){BI.removeClass("jspHover")}).bind("mousedown.jsp",function(F){B("html").bind("dragstart.jsp selectstart.jsp",A4),BI.addClass("jspActive");var G=F.pageY-BI.position().top;return B("html").bind("mousemove.jsp",function(H){AO(H.pageY-G,!1)}).bind("mouseup.jsp mouseleave.jsp",AP),!1}),Aa())}function Aa(){BL.height(A0+"px"),BE=0,BF=Au.verticalGutter+BL.outerWidth(),As.width(Ar-BF-BC);try{0===b.position().left&&As.css("margin-left",BF+"px")}catch(F){}}function AZ(){Aj&&(Ap.append(B('<div class="jspHorizontalBar" />').append(B('<div class="jspCap jspCapLeft" />'),B('<div class="jspTrack" />').append(B('<div class="jspDrag" />').append(B('<div class="jspDragLeft" />'),B('<div class="jspDragRight" />'))),B('<div class="jspCap jspCapRight" />'))),BN=Ap.find(">.jspHorizontalBar"),BH=BN.find(">.jspTrack"),At=BH.find(">.jspDrag"),Au.showArrows&&(AE=B('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",AU(-1,0)).bind("click.jsp",A4),AA=B('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",AU(1,0)).bind("click.jsp",A4),Au.arrowScrollOnHover&&(AE.bind("mouseover.jsp",AU(-1,0,AE)),AA.bind("mouseover.jsp",AU(1,0,AA))),AV(BH,Au.horizontalArrowPositions,AE,AA)),At.hover(function(){At.addClass("jspHover")},function(){At.removeClass("jspHover")}).bind("mousedown.jsp",function(F){B("html").bind("dragstart.jsp selectstart.jsp",A4),At.addClass("jspActive");var G=F.pageX-At.position().left;return B("html").bind("mousemove.jsp",function(H){AM(H.pageX-G,!1)}).bind("mouseup.jsp mouseleave.jsp",AP),!1}),A6=Ap.innerWidth(),AX())}function AX(){Ap.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){A6-=B(this).outerWidth()}),BH.width(A6+"px"),AC=0}function AW(){if(Aj&&Ak){var F=BH.outerHeight(),G=BL.outerWidth();A0-=F,B(BN).find(">.jspCap:visible,>.jspArrow").each(function(){A6+=B(this).outerWidth()}),A6-=G,Aq-=G,Ar-=F,BH.parent().append(B('<div class="jspCorner" />').css("width",F+"px")),Aa(),AX()}Aj&&As.width(Ap.outerWidth()-BC+"px"),An=As.outerHeight(),Al=An/Aq,Aj&&(Af=Math.ceil(1/Am*A6),Af>Au.horizontalDragMaxWidth?Af=Au.horizontalDragMaxWidth:Af<Au.horizontalDragMinWidth&&(Af=Au.horizontalDragMinWidth),At.width(Af+"px"),AS=A6-Af,AL(AC)),Ak&&(AY=Math.ceil(1/Al*A0),AY>Au.verticalDragMaxHeight?AY=Au.verticalDragMaxHeight:AY<Au.verticalDragMinHeight&&(AY=Au.verticalDragMinHeight),BI.height(AY+"px"),Ai=A0-AY,AN(BE))}function AV(G,F,L,K){var J,I="before",H="after";"os"==F&&(F=/Mac/.test(navigator.platform)?"after":"split"),F==I?H=F:F==H&&(I=F,J=L,L=K,K=J),G[I](L)[H](K)}function AU(G,F,H){return function(){return AT(G,F,this,H),this.blur(),!1}}function AT(F,M,L,K){L=B(L).addClass("jspActive");var J,I,H=!0,G=function(){0!==F&&AF.scrollByX(F*Au.arrowButtonSpeed),0!==M&&AF.scrollByY(M*Au.arrowButtonSpeed),I=setTimeout(G,H?Au.initialDelay:Au.arrowRepeatFreq),H=!1};G(),J=K?"mouseout.jsp":"mouseup.jsp",K=K||B("html"),K.bind(J,function(){L.removeClass("jspActive"),I&&clearTimeout(I),I=null,K.unbind(J)})}function AR(){AQ(),Ak&&BL.bind("mousedown.jsp",function(F){if(F.originalTarget===C||F.originalTarget==F.currentTarget){var M,L=B(this),K=L.offset(),J=F.pageY-K.top-BE,I=!0,H=function(){var N=L.offset(),Q=F.pageY-N.top-AY/2,P=Aq*Au.scrollPagePercent,O=Ai*P/(An-Aq);if(0>J){BE-O>Q?AF.scrollByY(-P):AO(Q)}else{if(!(J>0)){return G(),void 0}Q>BE+O?AF.scrollByY(P):AO(Q)}M=setTimeout(H,I?Au.initialDelay:Au.trackClickRepeatFreq),I=!1},G=function(){M&&clearTimeout(M),M=null,B(document).unbind("mouseup.jsp",G)};return H(),B(document).bind("mouseup.jsp",G),!1}}),Aj&&BH.bind("mousedown.jsp",function(F){if(F.originalTarget===C||F.originalTarget==F.currentTarget){var M,L=B(this),K=L.offset(),J=F.pageX-K.left-AC,I=!0,H=function(){var N=L.offset(),Q=F.pageX-N.left-Af/2,P=Ar*Au.scrollPagePercent,O=AS*P/(Ao-Ar);if(0>J){AC-O>Q?AF.scrollByX(-P):AM(Q)}else{if(!(J>0)){return G(),void 0}Q>AC+O?AF.scrollByX(P):AM(Q)}M=setTimeout(H,I?Au.initialDelay:Au.trackClickRepeatFreq),I=!1},G=function(){M&&clearTimeout(M),M=null,B(document).unbind("mouseup.jsp",G)};return H(),B(document).bind("mouseup.jsp",G),!1}})}function AQ(){BH&&BH.unbind("mousedown.jsp"),BL&&BL.unbind("mousedown.jsp")}function AP(){B("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),BI&&BI.removeClass("jspActive"),At&&At.removeClass("jspActive")}function AO(G,F){Ak&&(0>G?G=0:G>Ai&&(G=Ai),F===C&&(F=Au.animateScroll),F?AF.animate(BI,"top",G,AN):(BI.css("top",G),AN(G)))}function AN(G){G===C&&(G=BI.position().top),Ap.scrollTop(0),BE=G;var F=0===BE,J=BE==Ai,I=G/Ai,H=-I*(An-Aq);(AB!=F||BK!=J)&&(AB=F,BK=J,Ag.trigger("jsp-arrow-change",[AB,BK,a,BD])),AK(F,J),As.css("top",H),Ag.trigger("jsp-scroll-y",[-H,F,J]).trigger("scroll")}function AM(G,F){Aj&&(0>G?G=0:G>AS&&(G=AS),F===C&&(F=Au.animateScroll),F?AF.animate(At,"left",G,AL):(At.css("left",G),AL(G)))}function AL(G){G===C&&(G=At.position().left),Ap.scrollTop(0),AC=G;var F=0===AC,J=AC==AS,I=G/AS,H=-I*(Ao-Ar);(a!=F||BD!=J)&&(a=F,BD=J,Ag.trigger("jsp-arrow-change",[AB,BK,a,BD])),AJ(F,J),As.css("left",H),Ag.trigger("jsp-scroll-x",[-H,F,J]).trigger("scroll")}function AK(G,F){Au.showArrows&&(AD[G?"addClass":"removeClass"]("jspDisabled"),c[F?"addClass":"removeClass"]("jspDisabled"))}function AJ(G,F){Au.showArrows&&(AE[G?"addClass":"removeClass"]("jspDisabled"),AA[F?"addClass":"removeClass"]("jspDisabled"))}function AI(G,F){var H=G/(An-Aq);AO(H*Ai,F)}function AH(G,F){var H=G/(Ao-Ar);AM(H*AS,F)}function AG(T,S,R){var Q,P,O,N,M,L,K,J,I,H=0,G=0;try{Q=B(T)}catch(F){return }for(P=Q.outerHeight(),O=Q.outerWidth(),Ap.scrollTop(0),Ap.scrollLeft(0);!Q.is(".jspPane");){if(H+=Q.position().top,G+=Q.position().left,Q=Q.offsetParent(),/^body|html$/i.test(Q[0].nodeName)){return }}N=BA(),L=N+Aq,N>H||S?J=H-Au.horizontalGutter:H+P>L&&(J=H-Aq+P+Au.horizontalGutter),isNaN(J)||AI(J,R),M=BB(),K=M+Ar,M>G||S?I=G-Au.horizontalGutter:G+O>K&&(I=G-Ar+O+Au.horizontalGutter),isNaN(I)||AH(I,R)}function BB(){return -As.position().left}function BA(){return -As.position().top}function A9(){var F=An-Aq;return F>20&&F-BA()<10}function A8(){var F=Ao-Ar;return F>20&&F-BB()<10}function A7(){Ap.unbind(BG).bind(BG,function(G,F,L,K){var J=AC,I=BE,H=G.deltaFactor||Au.mouseWheelSpeed;return AF.scrollBy(L*H,-K*H,!1),J==AC&&I==BE})}function A5(){Ap.unbind(BG)}function A4(){return !1}function A3(){As.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(F){AG(F.target,!1)})}function A2(){As.find(":input,a").unbind("focus.jsp")}function A1(){function F(){var K=AC,J=BE;switch(I){case 40:AF.scrollByY(Au.keyboardSpeed,!1);break;case 38:AF.scrollByY(-Au.keyboardSpeed,!1);break;case 34:case 32:AF.scrollByY(Aq*Au.scrollPagePercent,!1);break;case 33:AF.scrollByY(-Aq*Au.scrollPagePercent,!1);break;case 39:AF.scrollByX(Au.keyboardSpeed,!1);break;case 37:AF.scrollByX(-Au.keyboardSpeed,!1)}return H=K!=AC||J!=BE}var I,H,G=[];Aj&&G.push(BN[0]),Ak&&G.push(b[0]),As.focus(function(){Ag.focus()}),Ag.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(L){if(L.target===this||G.length&&B(L.target).closest(G).length){var K=AC,J=BE;switch(L.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:I=L.keyCode,F();break;case 35:AI(An-Aq),I=null;break;case 36:AI(0),I=null}return H=L.keyCode==I&&K!=AC||J!=BE,!H}}).bind("keypress.jsp",function(J){return J.keyCode==I&&F(),!H}),Au.hideFocus?(Ag.css("outline","none"),"hideFocus" in Ap[0]&&Ag.attr("hideFocus",!0)):(Ag.css("outline",""),"hideFocus" in Ap[0]&&Ag.attr("hideFocus",!1))}function Az(){Ag.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function Ay(){if(location.hash&&location.hash.length>1){var F,I,H=escape(location.hash.substr(1));try{F=B("#"+H+', a[name="'+H+'"]')}catch(G){return }F.length&&As.find(H)&&(0===Ap.scrollTop()?I=setInterval(function(){Ap.scrollTop()>0&&(AG(F,!0),B(document).scrollTop(Ap.position().top),clearInterval(I))},50):(AG(F,!0),B(document).scrollTop(Ap.position().top)))}}function Ax(){B(document.body).data("jspHijack")||(B(document.body).data("jspHijack",!0),B(document.body).delegate("a[href*=#]","click",function(O){var N,M,L,K,J,I,H=this.href.substr(0,this.href.indexOf("#")),G=location.href;if(-1!==location.href.indexOf("#")&&(G=location.href.substr(0,location.href.indexOf("#"))),H===G){N=escape(this.href.substr(this.href.indexOf("#")+1));try{M=B("#"+N+', a[name="'+N+'"]')}catch(F){return }M.length&&(L=M.closest(".jspScrollable"),K=L.data("jsp"),K.scrollToElement(M,!0),L[0].scrollIntoView&&(J=B(A).scrollTop(),I=M.offset().top,(J>I||I>J+B(A).height())&&L[0].scrollIntoView()),O.preventDefault())}}))}function Aw(){var G,F,K,J,I,H=!1;Ap.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(M){var L=M.originalEvent.touches[0];G=BB(),F=BA(),K=L.pageX,J=L.pageY,I=!1,H=!0}).bind("touchmove.jsp",function(O){if(H){var N=O.originalEvent.touches[0],M=AC,L=BE;return AF.scrollTo(G+K-N.pageX,F+J-N.pageY),I=I||Math.abs(K-N.pageX)>5||Math.abs(J-N.pageY)>5,M==AC&&L==BE}}).bind("touchend.jsp",function(){H=!1}).bind("click.jsp-touchclick",function(){return I?(I=!1,!1):void 0})}function Av(){var G=BA(),F=BB();Ag.removeClass("jspScrollable").unbind(".jsp"),Ag.replaceWith(BM.append(As.children())),BM.scrollTop(G),BM.scrollLeft(F),BO&&clearInterval(BO)}var Au,As,Ar,Aq,Ap,Ao,An,Am,Al,Ak,Aj,BI,Ai,BE,At,AS,AC,b,BL,BF,A0,AY,AD,c,BN,BH,A6,Af,AE,AA,BO,BJ,BC,Ah,AF=this,AB=!0,a=!0,BK=!1,BD=!1,BM=Ag.clone(!1,!1).empty(),BG=B.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===Ag.css("box-sizing")?(BJ=0,BC=0):(BJ=Ag.css("paddingTop")+" "+Ag.css("paddingRight")+" "+Ag.css("paddingBottom")+" "+Ag.css("paddingLeft"),BC=(parseInt(Ag.css("paddingLeft"),10)||0)+(parseInt(Ag.css("paddingRight"),10)||0)),B.extend(AF,{reinitialise:function(F){F=B.extend({},Au,F),Ad(F)},scrollToElement:function(G,F,H){AG(G,F,H)},scrollTo:function(G,F,H){AH(G,H),AI(F,H)},scrollToX:function(G,F){AH(G,F)},scrollToY:function(G,F){AI(G,F)},scrollToPercentX:function(G,F){AH(G*(Ao-Ar),F)},scrollToPercentY:function(G,F){AI(G*(An-Aq),F)},scrollBy:function(G,F,H){AF.scrollByX(G,H),AF.scrollByY(F,H)},scrollByX:function(G,F){var I=BB()+Math[0>G?"floor":"ceil"](G),H=I/(Ao-Ar);AM(H*AS,F)},scrollByY:function(G,F){var I=BA()+Math[0>G?"floor":"ceil"](G),H=I/(An-Aq);AO(H*Ai,F)},positionDragX:function(G,F){AM(G,F)},positionDragY:function(G,F){AO(G,F)},animate:function(G,F,J,I){var H={};H[F]=J,G.animate(H,{duration:Au.animateDuration,easing:Au.animateEase,queue:!1,step:I})},getContentPositionX:function(){return BB()},getContentPositionY:function(){return BA()},getContentWidth:function(){return Ao},getContentHeight:function(){return An},getPercentScrolledX:function(){return BB()/(Ao-Ar)},getPercentScrolledY:function(){return BA()/(An-Aq)},getIsScrollableH:function(){return Aj},getIsScrollableV:function(){return Ak},getContentPane:function(){return As},scrollToBottom:function(F){AO(Ai,F)},hijackInternalLinks:B.noop,destroy:function(){Av()}}),Ad(Ae)}return E=B.extend({},B.fn.jScrollPane.defaults,E),B.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){E[this]=E[this]||E.speed}),this.each(function(){var F=B(this),G=F.data("jsp");G?G.reinitialise(E):(B("script",F).filter('[type="text/javascript"],:not([type])').remove(),G=new D(F,E),F.data("jsp",G))})},B.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:C,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}}(jQuery,this);
/*
 * jQuery UI 1.8.6
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(C,B){function A(D){return !C(D).parents().andSelf().filter(function(){return C.curCSS(this,"visibility")==="hidden"||C.expr.filters.hidden(this)}).length}C.ui=C.ui||{};if(!C.ui.version){C.extend(C.ui,{version:"1.8.6",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});C.fn.extend({_focus:C.fn.focus,focus:function(E,D){return typeof E==="number"?this.each(function(){var F=this;setTimeout(function(){C(F).focus();D&&D.call(F)},E)}):this._focus.apply(this,arguments)},scrollParent:function(){var D;D=C.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(C.curCSS(this,"position",1))&&/(auto|scroll)/.test(C.curCSS(this,"overflow",1)+C.curCSS(this,"overflow-y",1)+C.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(C.curCSS(this,"overflow",1)+C.curCSS(this,"overflow-y",1)+C.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!D.length?C(document):D},zIndex:function(E){if(E!==B){return this.css("zIndex",E)}if(this.length){E=C(this[0]);for(var D;E.length&&E[0]!==document;){D=E.css("position");if(D==="absolute"||D==="relative"||D==="fixed"){D=parseInt(E.css("zIndex"),10);if(!isNaN(D)&&D!==0){return D}}E=E.parent()}}return 0},disableSelection:function(){return this.bind((C.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(D){D.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});C.each(["Width","Height"],function(E,D){function I(M,L,K,J){C.each(H,function(){L-=parseFloat(C.curCSS(M,"padding"+this,true))||0;if(K){L-=parseFloat(C.curCSS(M,"border"+this+"Width",true))||0}if(J){L-=parseFloat(C.curCSS(M,"margin"+this,true))||0}});return L}var H=D==="Width"?["Left","Right"]:["Top","Bottom"],G=D.toLowerCase(),F={innerWidth:C.fn.innerWidth,innerHeight:C.fn.innerHeight,outerWidth:C.fn.outerWidth,outerHeight:C.fn.outerHeight};C.fn["inner"+D]=function(J){if(J===B){return F["inner"+D].call(this)}return this.each(function(){C(this).css(G,I(this,J)+"px")})};C.fn["outer"+D]=function(K,J){if(typeof K!=="number"){return F["outer"+D].call(this,K)}return this.each(function(){C(this).css(G,I(this,K,true,J)+"px")})}});C.extend(C.expr[":"],{data:function(E,D,F){return !!C.data(E,F[3])},focusable:function(E){var D=E.nodeName.toLowerCase(),F=C.attr(E,"tabindex");if("area"===D){D=E.parentNode;F=D.name;if(!E.href||!F||D.nodeName.toLowerCase()!=="map"){return false}E=C("img[usemap=#"+F+"]")[0];return !!E&&A(E)}return(/input|select|textarea|button|object/.test(D)?!E.disabled:"a"==D?E.href||!isNaN(F):!isNaN(F))&&A(E)},tabbable:function(E){var D=C.attr(E,"tabindex");return(isNaN(D)||D>=0)&&C(E).is(":focusable")}});C(function(){var E=document.body,D=E.appendChild(D=document.createElement("div"));C.extend(D.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});C.support.minHeight=D.offsetHeight===100;C.support.selectstart="onselectstart" in D;E.removeChild(D).style.display="none"});C.extend(C.ui,{plugin:{add:function(E,D,G){E=C.ui[E].prototype;for(var F in G){E.plugins[F]=E.plugins[F]||[];E.plugins[F].push([D,G[F]])}},call:function(E,D,G){if((D=E.plugins[D])&&E.element[0].parentNode){for(var F=0;F<D.length;F++){E.options[D[F][0]]&&D[F][1].apply(E.element,G)}}}},contains:function(E,D){return document.compareDocumentPosition?E.compareDocumentPosition(D)&16:E!==D&&E.contains(D)},hasScroll:function(E,D){if(C(E).css("overflow")==="hidden"){return false}D=D&&D==="left"?"scrollLeft":"scrollTop";var F=false;if(E[D]>0){return true}E[D]=1;F=E[D]>0;E[D]=0;return F},isOverAxis:function(E,D,F){return E>D&&E<D+F},isOver:function(E,D,I,H,G,F){return C.ui.isOverAxis(E,I,G)&&C.ui.isOverAxis(D,H,F)}})}})(jQuery);
/*
 * jQuery UI Widget 1.8.6
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(A,D){if(A.cleanData){var C=A.cleanData;A.cleanData=function(E){for(var G=0,F;(F=E[G])!=null;G++){A(F).triggerHandler("remove")}C(E)}}else{var B=A.fn.remove;A.fn.remove=function(E,F){return this.each(function(){if(!F){if(!E||A.filter(E,[this]).length){A("*",this).add([this]).each(function(){A(this).triggerHandler("remove")})}}return B.call(A(this),E,F)})}}A.widget=function(E,I,H){var G=E.split(".")[0],F;E=E.split(".")[1];F=G+"-"+E;if(!H){H=I;I=A.Widget}A.expr[":"][F]=function(J){return !!A.data(J,E)};A[G]=A[G]||{};A[G][E]=function(J,K){arguments.length&&this._createWidget(J,K)};I=new I;I.options=A.extend(true,{},I.options);A[G][E].prototype=A.extend(true,I,{namespace:G,widgetName:E,widgetEventPrefix:A[G][E].prototype.widgetEventPrefix||E,widgetBaseClass:F},H);A.widget.bridge(E,A[G][E])};A.widget.bridge=function(E,F){A.fn[E]=function(J){var I=typeof J==="string",H=Array.prototype.slice.call(arguments,1),G=this;J=!I&&H.length?A.extend.apply(null,[true,J].concat(H)):J;if(I&&J.charAt(0)==="_"){return G}I?this.each(function(){var L=A.data(this,E),K=L&&A.isFunction(L[J])?L[J].apply(L,H):L;if(K!==L&&K!==D){G=K;return false}}):this.each(function(){var K=A.data(this,E);K?K.option(J||{})._init():A.data(this,E,new F(J,this))});return G}};A.Widget=function(E,F){arguments.length&&this._createWidget(E,F)};A.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(E,G){A.data(G,this.widgetName,this);this.element=A(G);this.options=A.extend(true,{},this.options,this._getCreateOptions(),E);var F=this;this.element.bind("remove."+this.widgetName,function(){F.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return A.metadata&&A.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(E,G){var F=E;if(arguments.length===0){return A.extend({},this.options)}if(typeof E==="string"){if(G===D){return this.options[E]}F={};F[E]=G}this._setOptions(F);return this},_setOptions:function(E){var F=this;A.each(E,function(H,G){F._setOption(H,G)});return this},_setOption:function(E,F){this.options[E]=F;if(E==="disabled"){this.widget()[F?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",F)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(E,I,H){var G=this.options[E];I=A.Event(I);I.type=(E===this.widgetEventPrefix?E:this.widgetEventPrefix+E).toLowerCase();H=H||{};if(I.originalEvent){E=A.event.props.length;for(var F;E;){F=A.event.props[--E];I[F]=I.originalEvent[F]}}this.element.trigger(I,H);return !(A.isFunction(G)&&G.call(this.element[0],I,H)===false||I.isDefaultPrevented())}}})(jQuery);
/*
 * jQuery UI Mouse 1.8.6
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(A){A.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var B=this;this.element.bind("mousedown."+this.widgetName,function(C){return B._mouseDown(C)}).bind("click."+this.widgetName,function(C){if(B._preventClickEvent){B._preventClickEvent=false;C.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(C){C.originalEvent=C.originalEvent||{};if(!C.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(C);this._mouseDownEvent=C;var B=this,E=C.which==1,D=typeof this.options.cancel=="string"?A(C.target).parents().add(C.target).filter(this.options.cancel).length:false;if(!E||D||!this._mouseCapture(C)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){B.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(C)&&this._mouseDelayMet(C)){this._mouseStarted=this._mouseStart(C)!==false;if(!this._mouseStarted){C.preventDefault();return true}}this._mouseMoveDelegate=function(F){return B._mouseMove(F)};this._mouseUpDelegate=function(F){return B._mouseUp(F)};A(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);C.preventDefault();return C.originalEvent.mouseHandled=true}},_mouseMove:function(B){if(A.browser.msie&&!(document.documentMode>=9)&&!B.button){return this._mouseUp(B)}if(this._mouseStarted){this._mouseDrag(B);return B.preventDefault()}if(this._mouseDistanceMet(B)&&this._mouseDelayMet(B)){(this._mouseStarted=this._mouseStart(this._mouseDownEvent,B)!==false)?this._mouseDrag(B):this._mouseUp(B)}return !this._mouseStarted},_mouseUp:function(B){A(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=B.target==this._mouseDownEvent.target;this._mouseStop(B)}return false},_mouseDistanceMet:function(B){return Math.max(Math.abs(this._mouseDownEvent.pageX-B.pageX),Math.abs(this._mouseDownEvent.pageY-B.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(A){A.widget("ui.draggable",A.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(C){var B=this.options;if(this.helper||B.disabled||A(C.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(C);if(!this.handle){return false}return true},_mouseStart:function(C){var B=this.options;this.helper=this._createHelper(C);this._cacheHelperProportions();if(A.ui.ddmanager){A.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};A.extend(this.offset,{click:{left:C.pageX-this.offset.left,top:C.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(C);this.originalPageX=C.pageX;this.originalPageY=C.pageY;B.cursorAt&&this._adjustOffsetFromHelper(B.cursorAt);B.containment&&this._setContainment();if(this._trigger("start",C)===false){this._clear();return false}this._cacheHelperProportions();A.ui.ddmanager&&!B.dropBehaviour&&A.ui.ddmanager.prepareOffsets(this,C);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(C,true);return true},_mouseDrag:function(C,B){this.position=this._generatePosition(C);this.positionAbs=this._convertPositionTo("absolute");if(!B){B=this._uiHash();if(this._trigger("drag",C,B)===false){this._mouseUp({});return false}this.position=B.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}A.ui.ddmanager&&A.ui.ddmanager.drag(this,C);return false},_mouseStop:function(C){var B=false;if(A.ui.ddmanager&&!this.options.dropBehaviour){B=A.ui.ddmanager.drop(this,C)}if(this.dropped){B=this.dropped;this.dropped=false}if(!this.element[0]||!this.element[0].parentNode){return false}if(this.options.revert=="invalid"&&!B||this.options.revert=="valid"&&B||this.options.revert===true||A.isFunction(this.options.revert)&&this.options.revert.call(this.element,B)){var D=this;A(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){D._trigger("stop",C)!==false&&D._clear()})}else{this._trigger("stop",C)!==false&&this._clear()}return false},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(C){var B=!this.options.handle||!A(this.options.handle,this.element).length?true:false;A(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==C.target){B=true}});return B},_createHelper:function(C){var B=this.options;C=A.isFunction(B.helper)?A(B.helper.apply(this.element[0],[C])):B.helper=="clone"?this.element.clone():this.element;C.parents("body").length||C.appendTo(B.appendTo=="parent"?this.element[0].parentNode:B.appendTo);C[0]!=this.element[0]&&!/(fixed|absolute)/.test(C.css("position"))&&C.css("position","absolute");return C},_adjustOffsetFromHelper:function(B){if(typeof B=="string"){B=B.split(" ")}if(A.isArray(B)){B={left:+B[0],top:+B[1]||0}}if("left" in B){this.offset.click.left=B.left+this.margins.left}if("right" in B){this.offset.click.left=this.helperProportions.width-B.right+this.margins.left}if("top" in B){this.offset.click.top=B.top+this.margins.top}if("bottom" in B){this.offset.click.top=this.helperProportions.height-B.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var B=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&A.ui.contains(this.scrollParent[0],this.offsetParent[0])){B.left+=this.scrollParent.scrollLeft();B.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&A.browser.msie){B={top:0,left:0}}return{top:B.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:B.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var B=this.element.position();return{top:B.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:B.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var C=this.options;if(C.containment=="parent"){C.containment=this.helper[0].parentNode}if(C.containment=="document"||C.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,A(C.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(A(C.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(C.containment)&&C.containment.constructor!=Array){var B=A(C.containment)[0];if(B){C=A(C.containment).offset();var D=A(B).css("overflow")!="hidden";this.containment=[C.left+(parseInt(A(B).css("borderLeftWidth"),10)||0)+(parseInt(A(B).css("paddingLeft"),10)||0)-this.margins.left,C.top+(parseInt(A(B).css("borderTopWidth"),10)||0)+(parseInt(A(B).css("paddingTop"),10)||0)-this.margins.top,C.left+(D?Math.max(B.scrollWidth,B.offsetWidth):B.offsetWidth)-(parseInt(A(B).css("borderLeftWidth"),10)||0)-(parseInt(A(B).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,C.top+(D?Math.max(B.scrollHeight,B.offsetHeight):B.offsetHeight)-(parseInt(A(B).css("borderTopWidth"),10)||0)-(parseInt(A(B).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else{if(C.containment.constructor==Array){this.containment=C.containment}}},_convertPositionTo:function(C,B){if(!B){B=this.position}C=C=="absolute"?1:-1;var E=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&A.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,D=/(html|body)/i.test(E[0].tagName);return{top:B.top+this.offset.relative.top*C+this.offset.parent.top*C-(A.browser.safari&&A.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():D?0:E.scrollTop())*C),left:B.left+this.offset.relative.left*C+this.offset.parent.left*C-(A.browser.safari&&A.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():D?0:E.scrollLeft())*C)}},_generatePosition:function(C){var B=this.options,G=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&A.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,E=/(html|body)/i.test(G[0].tagName),F=C.pageX,D=C.pageY;if(this.originalPosition){if(this.containment){if(C.pageX-this.offset.click.left<this.containment[0]){F=this.containment[0]+this.offset.click.left}if(C.pageY-this.offset.click.top<this.containment[1]){D=this.containment[1]+this.offset.click.top}if(C.pageX-this.offset.click.left>this.containment[2]){F=this.containment[2]+this.offset.click.left}if(C.pageY-this.offset.click.top>this.containment[3]){D=this.containment[3]+this.offset.click.top}}if(B.grid){D=this.originalPageY+Math.round((D-this.originalPageY)/B.grid[1])*B.grid[1];D=this.containment?!(D-this.offset.click.top<this.containment[1]||D-this.offset.click.top>this.containment[3])?D:!(D-this.offset.click.top<this.containment[1])?D-B.grid[1]:D+B.grid[1]:D;F=this.originalPageX+Math.round((F-this.originalPageX)/B.grid[0])*B.grid[0];F=this.containment?!(F-this.offset.click.left<this.containment[0]||F-this.offset.click.left>this.containment[2])?F:!(F-this.offset.click.left<this.containment[0])?F-B.grid[0]:F+B.grid[0]:F}}return{top:D-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(A.browser.safari&&A.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():E?0:G.scrollTop()),left:F-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(A.browser.safari&&A.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():E?0:G.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(C,B,D){D=D||this._uiHash();A.ui.plugin.call(this,C,[B,D]);if(C=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return A.Widget.prototype._trigger.call(this,C,B,D)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});A.extend(A.ui.draggable,{version:"1.8.6"});A.ui.plugin.add("draggable","connectToSortable",{start:function(C,B){var F=A(this).data("draggable"),D=F.options,E=A.extend({},B,{item:F.element});F.sortables=[];A(D.connectToSortable).each(function(){var G=A.data(this,"sortable");if(G&&!G.options.disabled){F.sortables.push({instance:G,shouldRevert:G.options.revert});G._refreshItems();G._trigger("activate",C,E)}})},stop:function(C,B){var E=A(this).data("draggable"),D=A.extend({},B,{item:E.element});A.each(E.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;E.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(C);this.instance.options.helper=this.instance.options._helper;E.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",C,D)}})},drag:function(C,B){var E=A(this).data("draggable"),D=this;A.each(E.sortables,function(){this.instance.positionAbs=E.positionAbs;this.instance.helperProportions=E.helperProportions;this.instance.offset.click=E.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=A(D).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return B.helper[0]};C.target=this.instance.currentItem[0];this.instance._mouseCapture(C,true);this.instance._mouseStart(C,true,true);this.instance.offset.click.top=E.offset.click.top;this.instance.offset.click.left=E.offset.click.left;this.instance.offset.parent.left-=E.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=E.offset.parent.top-this.instance.offset.parent.top;E._trigger("toSortable",C);E.dropped=this.instance.element;E.currentItem=E.element;this.instance.fromOutside=E}this.instance.currentItem&&this.instance._mouseDrag(C)}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",C,this.instance._uiHash(this.instance));this.instance._mouseStop(C,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();E._trigger("fromSortable",C);E.dropped=false}}})}});A.ui.plugin.add("draggable","cursor",{start:function(){var C=A("body"),B=A(this).data("draggable").options;if(C.css("cursor")){B._cursor=C.css("cursor")}C.css("cursor",B.cursor)},stop:function(){var B=A(this).data("draggable").options;B._cursor&&A("body").css("cursor",B._cursor)}});A.ui.plugin.add("draggable","iframeFix",{start:function(){var B=A(this).data("draggable").options;A(B.iframeFix===true?"iframe":B.iframeFix).each(function(){A('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(A(this).offset()).appendTo("body")})},stop:function(){A("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});A.ui.plugin.add("draggable","opacity",{start:function(C,B){C=A(B.helper);B=A(this).data("draggable").options;if(C.css("opacity")){B._opacity=C.css("opacity")}C.css("opacity",B.opacity)},stop:function(C,B){C=A(this).data("draggable").options;C._opacity&&A(B.helper).css("opacity",C._opacity)}});A.ui.plugin.add("draggable","scroll",{start:function(){var B=A(this).data("draggable");if(B.scrollParent[0]!=document&&B.scrollParent[0].tagName!="HTML"){B.overflowOffset=B.scrollParent.offset()}},drag:function(C){var B=A(this).data("draggable"),E=B.options,D=false;if(B.scrollParent[0]!=document&&B.scrollParent[0].tagName!="HTML"){if(!E.axis||E.axis!="x"){if(B.overflowOffset.top+B.scrollParent[0].offsetHeight-C.pageY<E.scrollSensitivity){B.scrollParent[0].scrollTop=D=B.scrollParent[0].scrollTop+E.scrollSpeed}else{if(C.pageY-B.overflowOffset.top<E.scrollSensitivity){B.scrollParent[0].scrollTop=D=B.scrollParent[0].scrollTop-E.scrollSpeed}}}if(!E.axis||E.axis!="y"){if(B.overflowOffset.left+B.scrollParent[0].offsetWidth-C.pageX<E.scrollSensitivity){B.scrollParent[0].scrollLeft=D=B.scrollParent[0].scrollLeft+E.scrollSpeed}else{if(C.pageX-B.overflowOffset.left<E.scrollSensitivity){B.scrollParent[0].scrollLeft=D=B.scrollParent[0].scrollLeft-E.scrollSpeed}}}}else{if(!E.axis||E.axis!="x"){if(C.pageY-A(document).scrollTop()<E.scrollSensitivity){D=A(document).scrollTop(A(document).scrollTop()-E.scrollSpeed)}else{if(A(window).height()-(C.pageY-A(document).scrollTop())<E.scrollSensitivity){D=A(document).scrollTop(A(document).scrollTop()+E.scrollSpeed)}}}if(!E.axis||E.axis!="y"){if(C.pageX-A(document).scrollLeft()<E.scrollSensitivity){D=A(document).scrollLeft(A(document).scrollLeft()-E.scrollSpeed)}else{if(A(window).width()-(C.pageX-A(document).scrollLeft())<E.scrollSensitivity){D=A(document).scrollLeft(A(document).scrollLeft()+E.scrollSpeed)}}}}D!==false&&A.ui.ddmanager&&!E.dropBehaviour&&A.ui.ddmanager.prepareOffsets(B,C)}});A.ui.plugin.add("draggable","snap",{start:function(){var C=A(this).data("draggable"),B=C.options;C.snapElements=[];A(B.snap.constructor!=String?B.snap.items||":data(draggable)":B.snap).each(function(){var E=A(this),D=E.offset();this!=C.element[0]&&C.snapElements.push({item:this,width:E.outerWidth(),height:E.outerHeight(),top:D.top,left:D.left})})},drag:function(T,S){for(var R=A(this).data("draggable"),P=R.options,Q=P.snapTolerance,O=S.offset.left,H=O+R.helperProportions.width,I=S.offset.top,G=I+R.helperProportions.height,N=R.snapElements.length-1;N>=0;N--){var M=R.snapElements[N].left,K=M+R.snapElements[N].width,L=R.snapElements[N].top,J=L+R.snapElements[N].height;if(M-Q<O&&O<K+Q&&L-Q<I&&I<J+Q||M-Q<O&&O<K+Q&&L-Q<G&&G<J+Q||M-Q<H&&H<K+Q&&L-Q<I&&I<J+Q||M-Q<H&&H<K+Q&&L-Q<G&&G<J+Q){if(P.snapMode!="inner"){var F=Math.abs(L-G)<=Q,E=Math.abs(J-I)<=Q,D=Math.abs(M-H)<=Q,C=Math.abs(K-O)<=Q;if(F){S.position.top=R._convertPositionTo("relative",{top:L-R.helperProportions.height,left:0}).top-R.margins.top}if(E){S.position.top=R._convertPositionTo("relative",{top:J,left:0}).top-R.margins.top}if(D){S.position.left=R._convertPositionTo("relative",{top:0,left:M-R.helperProportions.width}).left-R.margins.left}if(C){S.position.left=R._convertPositionTo("relative",{top:0,left:K}).left-R.margins.left}}var B=F||E||D||C;if(P.snapMode!="outer"){F=Math.abs(L-I)<=Q;E=Math.abs(J-G)<=Q;D=Math.abs(M-O)<=Q;C=Math.abs(K-H)<=Q;if(F){S.position.top=R._convertPositionTo("relative",{top:L,left:0}).top-R.margins.top}if(E){S.position.top=R._convertPositionTo("relative",{top:J-R.helperProportions.height,left:0}).top-R.margins.top}if(D){S.position.left=R._convertPositionTo("relative",{top:0,left:M}).left-R.margins.left}if(C){S.position.left=R._convertPositionTo("relative",{top:0,left:K-R.helperProportions.width}).left-R.margins.left}}if(!R.snapElements[N].snapping&&(F||E||D||C||B)){R.options.snap.snap&&R.options.snap.snap.call(R.element,T,A.extend(R._uiHash(),{snapItem:R.snapElements[N].item}))}R.snapElements[N].snapping=F||E||D||C||B}else{R.snapElements[N].snapping&&R.options.snap.release&&R.options.snap.release.call(R.element,T,A.extend(R._uiHash(),{snapItem:R.snapElements[N].item}));R.snapElements[N].snapping=false}}}});A.ui.plugin.add("draggable","stack",{start:function(){var C=A(this).data("draggable").options;C=A.makeArray(A(C.stack)).sort(function(E,D){return(parseInt(A(E).css("zIndex"),10)||0)-(parseInt(A(D).css("zIndex"),10)||0)});if(C.length){var B=parseInt(C[0].style.zIndex)||0;A(C).each(function(D){this.style.zIndex=B+D});this[0].style.zIndex=B+C.length}}});A.ui.plugin.add("draggable","zIndex",{start:function(C,B){C=A(B.helper);B=A(this).data("draggable").options;if(C.css("zIndex")){B._zIndex=C.css("zIndex")}C.css("zIndex",B.zIndex)},stop:function(C,B){C=A(this).data("draggable").options;C._zIndex&&A(B.helper).css("zIndex",C._zIndex)}})})(jQuery);(function(F){var B,C,K,N,M,J,G,E,I,A,L;var H=new Image();H.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAANCAYAAAB2HjRBAAAAg0lEQVQoz2P4//8/A7mYIWvRifVAvB+IFcjR/B6I/0MNcSABC4BNgNr8n0SsANMcQKLG82Bnw9wPFLhPguYGdM0JJGg2QNcsgBR4+PB7eGgjBz3IOURono9VM9QABWxxDooejHjGoug9FAsgiRWg24pLMzweydFsAAtNtMB0QHYNCAMA60YZWowmRuAAAAAASUVORK5CYII=";B=document.namespaces&&parseInt(F.browser.version)<9;has_canvas=!!document.createElement("canvas").getContext;if(!(has_canvas||B)){F.fn.maphilight=function(){return this};return }if(has_canvas){G=function(Q,P,O){if(P<=1){Q.style.opacity=P;window.setTimeout(G,10,Q,P+0.1,10)}};E=function(O){return Math.max(0,Math.min(parseInt(O,16),255))};I=function(O,P){return"rgba("+E(O.substr(0,2))+","+E(O.substr(2,2))+","+E(O.substr(4,2))+","+P+")"};C=function(O){var P=F('<canvas style="background:transparent;width:'+O.width+"px;height:"+O.height+'px;"></canvas>').get(0);P.getContext("2d").clearRect(0,0,P.width,P.height);return P};K=function(Q,T,V,W,O){var S,P=Q.getContext("2d");P.beginPath();if(T=="rect"){P.lineWidth=1;P.strokeStyle=I(W.strokeColor,W.strokeOpacity);P.fillStyle=I(W.strokeColor,W.strokeOpacity);if(W.dash){var U=V[2];var R=V[0];P.moveTo(V[0],V[3]+0.5);while(U>R){P.lineTo(R++,V[3]+0.5);P.moveTo(R++,V[3]+0.5)}}else{P.moveTo(V[0],V[3]+1.5>=Q.height?Q.height-1.5:V[3]+1.5);P.lineTo(V[2],V[3]+1.5>=Q.height?Q.height-1.5:V[3]+1.5)}if(W.cart){P.drawImage(H,V[2]-12,V[3]-8.5,12,9)}P.stroke()}else{if(T=="poly"){P.moveTo(V[0],V[1]);for(S=2;S<V.length;S+=2){P.lineTo(V[S],V[S+1])}}else{if(T=="circ"){P.arc(V[0],V[1],V[2],0,Math.PI*2,false)}else{if(T=="underline"){P.lineWidth=1;P.strokeStyle=I(W.fillColor,W.fillOpacity);P.fillStyle=I(W.fillColor,W.fillOpacity);if(W.dash){var U=V[2];var R=V[0];P.moveTo(V[0],V[3]+1.5);while(U>R){P.lineTo(R++,V[3]+1.5);P.moveTo(R++,V[3]+1.5)}}else{P.moveTo(V[0],V[3]+1.5>=Q.height?Q.height-0.5:V[3]+1.5);P.lineTo(V[2],V[3]+1.5>=Q.height?Q.height-0.5:V[3]+1.5)}P.stroke()}}}}P.closePath();if(W.fill&&T!="underline"&&T!="rect"){P.fillStyle=I(W.fillColor,W.fillOpacity);P.fill()}if(W.stroke&&T!="underline"&&T!="rect"){P.strokeStyle=I(W.strokeColor,W.strokeOpacity);P.lineWidth=W.strokeWidth;P.stroke()}if(W.fade&&T!="underline"){G(Q,0)}};N=function(O){O.getContext("2d").clearRect(0,0,O.width,O.height)}}else{C=function(O){return F('<var style="zoom:1;overflow:hidden;display:block;width:'+O.width+"px;height:"+O.height+'px;"></var>').get(0)};K=function(P,S,T,W,O){var U,V,Q,R;U='<v:fill type="solid" color="#'+W.fillColor+'" opacity='+W.fillOpacity+'" />';V=(W.stroke?'strokeweight="'+W.strokeWidth+'" stroked="t" strokecolor="#'+W.strokeColor+'"':'stroked="f"');Q='<v:stroke opacity="'+W.strokeOpacity+'"/>';if(S=="rect"){R=F('<v:rect name="'+O+'" filled="t" strokeweight="1px" strokecolor="#'+W.strokeColor+'" style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+T[0]+"px;top:"+(T[3]-2)+"px;width:"+(T[2]-T[0])+'px;height:1px;"></v:rect>');U='<v:fill type="solid" color="#'+W.strokeColor+'" opacity='+W.strokeOpacity+'" />'}else{if(S=="poly"){R=F('<v:shape name="'+O+'" filled="t" '+V+' coordorigin="0,0" coordsize="'+P.width+","+P.height+'" path="m '+T[0]+","+T[1]+" l "+T.join(",")+' x e" style="zoom:1;margin:0;padding:0;display:block;position:absolute;top:0px;left:0px;width:'+P.width+"px;height:"+P.height+'px;"></v:shape>')}else{if(S=="circ"){R=F('<v:oval name="'+O+'" filled="t" '+V+' style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+(T[0]-T[2])+"px;top:"+(T[1]-T[2])+"px;width:"+(T[2]*2)+"px;height:"+(T[2]*2)+'px;"></v:oval>')}else{if(S=="underline"){R=F('<v:rect name="'+O+'" filled="t" strokeweight="1px" strokecolor="#'+W.fillColor+'" style="zoom:1;margin:0;padding:0;display:block;position:absolute;left:'+T[0]+"px;top:"+(T[3]-1)+"px;width:"+(T[2]-T[0])+'px;height:0px;"></v:rect>')}}}}if(S!="underline"){R.get(0).innerHTML=U+Q}F(P).append(R)};N=function(O){F(O).find("[name=highlighted]").remove();F(O).find("[name=underlined]").remove()};clear_highlights=function(O){F(O).find("[name=highlighted]").remove()}}M=function(P){var O,Q=P.getAttribute("coords").split(",");for(O=0;O<Q.length;O++){Q[O]=parseFloat(Q[O])}return[P.getAttribute("shape").toLowerCase().substr(0,4),Q]};L=function(P,O){return{fill:true,fillColor:F.fn.maphilight.defaults.alwaysOn?"ff0000":"b6d4df",fillOpacity:1,stroke:true,strokeColor:"709ec5",strokeOpacity:1,strokeWidth:1,fade:false,alwaysOn:F.fn.maphilight.defaults.alwaysOn||false,neverOn:false,groupBy:false}};A=function(O){if(!O.complete){return false}if(typeof O.naturalWidth!="undefined"&&O.naturalWidth==0){return false}return true};J={position:"absolute",left:0,top:0,padding:0,border:0};var D=false;F.fn.maphilight=function(Q){Q=F.extend({},F.fn.maphilight.defaults,Q);if(F.browser.msie&&F.browser.version<9&&!D){document.namespaces.add("v","urn:schemas-microsoft-com:vml");try{var P=document.createStyleSheet("vml.css")}catch(R){var P=document.styleSheets[document.styleSheets.length-1]}var O=["shape","rect","oval","circ","fill","stroke","imagedata","group","textbox"];F.each(O,function(){P.addRule("v\\:"+this,"behavior: url(#default#VML); antialias:true")});D=true}return this.each(function(){var Y,U,c,T,W,Z,b,V,a;Y=F(this);if(!A(this)){return window.setTimeout(function(){Y.maphilight(Q)},200)}c=F.extend({},Q,F.metadata?Y.metadata():false,Y.data("maphilight"));a=Y.get(0).getAttribute("usemap");if(a==null){return }T=F('map[name="'+a.substr(1)+'"]');if(!(Y.is("img")&&a&&T.size()>0)){return }if(Y.hasClass("maphilighted")){var S=Y.parent();Y.insertBefore(S);S.remove();F(T).unbind(".maphilight").find("area[coords]").unbind(".maphilight")}U=F("<div></div>").css({display:"block",background:"url("+this.src+")","background-repeat":"no-repeat",position:"relative",padding:0,width:F(this).width()==0?parseFloat(F(this).attr("width")):F(this).width(),height:F(this).height()==0?parseFloat(F(this).attr("height")):F(this).height()});if(c.wrapClass){if(c.wrapClass===true){U.addClass(F(this).attr("class"))}else{U.addClass(c.wrapClass)}}Y.before(U).css("opacity",0).css(J).remove();if(F.browser.msie&&F.browser.version<9){Y.css("filter","Alpha(opacity=0)")}U.append(Y);W=C(this);F(W).css(J);W.height=this.height;W.width=this.width;b=function(g){var d,f;f=L(this,c);if(F(this).attr("href")!=null){if(F(this).attr("href").indexOf("bestbuy")!=-1){f.fillColor=f.strokeColor="6AA2C8";f.fillColor=f.dash="true";if(F(this).attr("href")!="http://www.bestbuy.com"){f.cart="true"}}}if(!f.neverOn&&!f.alwaysOn){d=M(this);if(F(this).attr("href")){K(W,d[0],d[1],f,"highlighted")}if(f.groupBy&&F(this).attr(f.groupBy)){var h=this;T.find("area["+f.groupBy+"="+F(this).attr(f.groupBy)+"]").each(function(){if(this!=h){var i=L(this,c);if(!i.neverOn&&!i.alwaysOn){var e=M(this);K(W,e[0],e[1],i,"highlighted")}}})}}};podmouseover=function(){F(this).find("map area[href]").each(function(){var d=M(this);var e=L(this,c);if(F(this).attr("data-color")){e.fillColor=e.strokeColor="6AA2C8"}if(F(this).attr("data-color")){e.fillColor=e.dash="true"}if(this.href){K(W,"underline",d[1],e,"underlined")}})};var X=Y.parents("div[id*=subpod]");X.bind("mouseover",podmouseover).bind("mouseout",function(d){if(F.browser.msie&&F.browser.version<9){F("var").not(W).each(function(){N(this)})}if(!(d.relatedTarget!=null&&(d.relatedTarget.nodeName=="AREA"||d.relatedTarget.nodeName=="IMG"))){N(W);if(F.browser.msie&&F.browser.version<9){F("var").each(function(){N(this)})}}});F(T).bind("alwaysOn.maphilight",function(){if(Z){N(Z)}if(!has_canvas){F(W).empty()}F(T).find("area[coords]").each(function(){var d,e;e=L(this,c);if(e.alwaysOn){if(!Z&&has_canvas){Z=C(Y.get());F(Z).css(J);Z.width=Y.width();Z.height=Y.height();Y.before(Z)}d=M(this);if(has_canvas){K(Z,"underline",d[1],e,"underlined")}else{K(Z,"underline",d[1],e,"underlined")}}})});if(c.alwaysOn){F(T).find("area[coords]").each(function(){var d,e;e=L(this,c);if(e.alwaysOn){if(!Z&&has_canvas){Z=C(Y.get());F(Z).css(J);Z.width=Y.width();Z.height=Y.height();Y.before(Z)}d=M(this);if(has_canvas){K(Z,"underline",d[1],e,"underlined")}else{K(Z,"underline",d[1],e,"underlined")}}})}else{F(T).find("area[coords]").trigger("alwaysOn.maphilight").bind("mouseover.maphilight",b).bind("mouseout.maphilight",function(d){if(F.browser.msie&&F.browser.version<9){clear_highlights(W)}else{N(W)}})}Y.before(W);Y.addClass("maphilighted")})};F.fn.maphilight.defaults={}})(jQuery);$(document).ready(function(){if(navigator.userAgent.indexOf("iPhone")!=-1){if($.cookie("iphone_app")==null){$.cookie("iphone_app",null,{expires:365,path:"/",domain:".wolframalpha.com"});$("#popanchor").append('<div id="iphoneOverlay"></div><div id="iphoneAppAdContainer"><a id="closeIphoneAd" href=""></a><a id="downloadIphoneApp" href="http://www.itunes.com/apps/wolframalpha"></a></div>');$("#iphoneOverlay").css("height",$(document).height()).css("width",$(document).width());$("#closeIphoneAd").click(function(A){A.preventDefault();$.cookie("iphone_app","hide",{expires:7,path:"/",domain:".wolframalpha.com"});$("#iphoneOverlay").remove();$("#iphoneAppAdContainer").remove()})}}});$(document).ready(function(){$("body").append('<div id="popanchor"></div>');$(".popup .close, .callout .close, #subpod_zoom .close, #subpod_cdf .close").live("click",function(A){A.preventDefault();$(A.target).closest("[id]").hide();if(!$(this).parent(".popup").hasClass("sbs")){$("#lightboxOverlay").hide()}$(".traypopup").remove();if($(this).parent().attr("id")=="subpod_zoom"){$(".sub.subpod-hover").removeClass("subpod-hover")}});$(".popup pre, .popup input").live("click",function(A){SelectText(this)});$("#downloadnbpopup .close").live("click",function(A){A.preventDefault();$(A.target).closest("[id]").hide()})});function popup(E,A,B,C){var F;F=$('<div class="popup"><a class="close">X</a>'+E+"</div>");for(var D in B){if(D==="className"||D==="class"){F.addClass(B[D])}else{F.attr(D,B[D])}}if(A){F.css("top",A.top+"px");F.css("left",A.left+"px")}$("body").append(F);if(!C){F.draggable({cancel:"pre,textarea"})}return F}function callout(D,A,B,C){if(B){if(B.className){B.className=B.className+" callout"}else{B.className="callout"}}else{B={className:"callout"}}return popup(D,A,B,{draggable:false})}function didYouKnow(E,A,C,D){var F=E;var B=C?C:{};B.className+=" dyk";F=F+'<a class="bubblebtn si">Sign In</a><label class="donotshow"><input type="checkbox" name="donotshow" />Don\'t show this again</label>';popupElement=callout(F,A,B,D);return popupElement}$("body").live("click",'.dyk[name="donotshow"]',function(){$.cookie("WolframAlphaNoProCallouts",1)});var alphaInfoReqTimeout;function getPopupTextHeight(B){B=B.replace(/\n/g,"<br />");B=B.replace(/\s\s/g,"&nbsp; ");if($("#ieHeightCorrection").length>0){$("#ieHeightCorrection").html(B)}else{$("#popanchor").before('<div id="ieHeightCorrection" class="popup-text">'+B+"</div>")}$("#ieHeightCorrection").css("text-align","left").css("left","-10000px");var A=$("#ieHeightCorrection").height();$("#ieHeightCorrection").remove();if($.browser.msie&&$.browser.version=="6.0"){A=A*1.2+2}return A+"px"}function buildPopup(D){var B="mov_"+D.attr("id")+"_popup_dyn";var G="";var A=b64_to_utf8(D.attr("data-s")).replace(/^\s\s*/,"").replace(/\s\s*$/,"");var H=b64_to_utf8(D.attr("data-mi")).replace(/^\s\s*/,"").replace(/\s\s*$/,"");var F=b64_to_utf8(D.attr("data-mo"));if((A=="- Graphics -"||A=="")||(!A&&!H&&!F)){A="No copyable plaintext"}var C="";if(A=="No copyable plaintext"&&(!H&&!F)){C=' style="padding-bottom: 3px;"'}G+='      <div class="popup-label pdrag">';if(A){if(A=="No copyable plaintext"){if(!H&&!F){G+="(No copyable plaintext)";if(navigator.userAgent.indexOf("iPad")<=0){}}}else{G+="Copyable plaintext:"}}G+="     </div>";if(A&&A!="No copyable plaintext"){if($.browser.msie){var E=getPopupTextHeight(A);A=A.replace(/\<br\/\>/g,"\n");G+='  <textarea style="height:'+E+';" cols="87">'+A+"</textarea>"}else{G+="   <pre>"+A+"</pre>"}}if(H){G+='    <div class="popup-label pdrag"><i class="pdrag">Wolfram Language</i> plaintext input:</div>';if($.browser.msie){var E=getPopupTextHeight(H);G+='    <textarea style="height:'+E+';" cols="87">'+H+"</textarea>"}else{G+="    <pre>"+H+"</pre>"}}if(F){G+='    <div class="popup-label pdrag"><i class="pdrag">Wolfram Language</i> plaintext output:</div>';if($.browser.msie){var E=getPopupTextHeight(F);G+='    <textarea style="height:'+E+';" cols="87">'+F+"</textarea>"}else{G+="    <pre>"+F+"</pre>"}}if(typeof exportdata!="undefined"&&exportdata=="1"){G+='<span class="labelDlAs">Download as:</span> <select name="dlAs" class="dlAs" id="dlAs_'+D+'"><option></option><option value="XLS">xls</option><option value="XLSX">xlsx</option><option value="ODS">ods</option><option value="GIF">gif</option><option value="PNG">png</option><option value="JPEG">jpeg</option><option value="TIFF">tiff</option><option value="PDF">pdf</option><option value="NB">nb</option><option value="CSV">csv</option><option value="TSV">tsv</option><option value="TeX">TeX</option><option value="MathML">MathML</option><option value="HTML">html</option><option value="EPS">eps</option><option value="SVG">svg</option></select>'}return G}function showpopnew(A,B){if(B=="sbs"){return popup(buildPopup(A),{top:A.offset().top,left:A.offset().left+70},{id:"mov_"+A.attr("id")+"_popup_dyn",className:"sbs"})}else{return popup(buildPopup(A),A.offset(),{id:"mov_"+A.attr("id")+"_popup_dyn"})}}function showmathpop(D){var A="math_form_popup";var E="#scannerresult_0100_1";if(D==""){return }if($("#"+A).length!=0){$("#"+A).css("display","block");return }$.get("popup.txt?mathform=true");var C="";C+='<div class="popup pdrag" id="'+A+'">';C+='<a class="close">x</a>';C+='<div class="popup-label pdrag"><i class="pdrag">Mathematica&nbsp;</i>plaintext:';C+="</div>";if($.browser.msie){var B=getPopupTextHeight(D);C+='    <textarea style="height:'+B+';">'+D+"</textarea>"}else{C+="    <pre>"+D+"</pre>"}C+="</div>";$("#popanchor").append($(C));if($.browser.msie&&$.browser.version=="6.0"){$("#"+A+" .popup-label .close").replaceWith('<a href="#" class="close">x</a>')}$(".popup").draggable({handle:".pdrag",cancel:"pre,textarea"});$(".popup-text").onclick="";$(".popup textarea").focus(function(){$(this).blur()});var F=$(E).offset();$("#"+A).css("top",F.top);$("#"+A).css("left",F.left);$("#"+A+" textarea").each(function(){$(this).get(0).spellcheck=false})}function showunits(F,B){var G=$(F.target).offset().top;var E=$(F.target).offset().left;var D=$(F.target).parent("div[id^='units-']").attr("id");D=D.substr(D.indexOf("-MSP")+4);D=D.split("?")[0];var A=D+"units_dyn";$("div.units.pdrag").each(function(H){var I=this.id;$("#units-"+D).parents().map(function(){if((this.id).indexOf("pod_")>=0&&(this.id).indexOf("subpod")==-1){if(this.id==jQuery.data($("#"+I).get(0),"parentID")){$("#"+I).remove()}}})});if($("#"+A).length!=0){$("#"+A).css({top:G,left:E,display:"block"});return }var C="";C+='<div id="'+A+'" class="popup units">';C+='      <a class="close">x</a>';C+='    <img src="'+B+'" alt="Units not available.  Refresh your query." />';C+="</div>";$("#popanchor").append($(C));$("#"+A).css("top",G);$("#"+A).css("left",E);if(navigator.userAgent.indexOf("iPad")==-1){$(".units").draggable({})}$("#units-"+D).parents().map(function(){if((this.id).indexOf("pod_")>=0&&(this.id).indexOf("subpod")==-1){jQuery.data($("#"+A).get(0),"parentID",this.id)}})}function shownotes(G,B){var H=G.pageY;var F=G.pageX;var E=$(G.target).parents(".sub");var D=$(G.target).parent("div[id^='notes-']").attr("id");D=D.substr(D.indexOf("-MSP")+4);var A=D+"units_dyn";$("div.notes.pdrag").each(function(I){var J=this.id;$("#notes-"+D).parents().map(function(){if((this.id).indexOf("pod_")>=0&&(this.id).indexOf("subpod")==-1){if(this.id==jQuery.data($("#"+J).get(0),"parentID")){$("#"+J).remove()}}})});if($("#"+A).length!=0){$("#"+A).css({left:-10000,display:"block"});setTimeout(function(){var I=$("#"+A+" img").height();if(H-(I+65)>195){if(I>350){$("#"+A).css("top",H-400)}else{$("#"+A).css("top",H-(I+70))}}else{$("#"+A).css("top",195)}},100);$("#"+A).css({left:F-460,display:"block"});return }var C="";C+='<div id="'+A+'" class="popup notes">';C+='      <a class="close">x</a>';C+='<div class="content"><img src="'+B+'" /></div>';C+="</div>";$("#popanchor").append($(C));$("#notes-"+D).parents().map(function(){if((this.id).indexOf("pod_")>=0&&(this.id).indexOf("subpod")==-1){jQuery.data($("#"+A).get(0),"parentID",this.id)}});$("#"+A+" img").load(function(){var I=$("#"+A+" img").height();if(I>350){$("#"+A+" .content").jScrollPane({showArrows:true,scrollbarWidth:11,scrollbarMargin:0,dragMaxHeight:60,verticalGutter:11});if(H-(I+65)>195){$("#"+A).css("top",H-400)}else{$("#"+A).css("top",195)}}else{$("#"+A+" .content").css("height",I+15);if(H-(I+65)>195){$("#"+A).css("top",H-(I+70))}else{$("#"+A).css("top",195)}}$("#"+A).css("left",F-460);if($("object").length>0){var J=E.offset();J.left=J.left+E.width();$("#"+A).css("top",J.top+"px");$("#"+A).css("left",J.left+"px")}$(".notes").draggable({handle:".pdrag",cancel:".content"}).css("opacity",".99").css("opacity","1")})}var timeoutfade;function podtimeout(E,F,C){var B=E.substring(4)+"_podtimeout_dyn";$("#"+E+".pod > h2 div.progress").remove();if($("#"+B).length!=0){$("#"+B).css("display","block").fadeIn(0.1)}else{var D="";if(F==403){D+='<div id="'+B+'" class="timeout-pop popup">Computation timed out.</div>'}else{if(F=="interactive"){D+='<div id="'+B+'" class="timeout-pop popup">Interactive unavailable.</div>'}else{D+='<div  id="'+B+'" class="timeout-pop popup">No results available.<br/>Try your query again.</div>'}}$("#popanchor").append($(D))}var G=$(".btn.loading").first().offset();if(!G){G=$("#"+E).offset();G.left=G.left+454}$("#"+B).css("top",G.top+30).css("left",(G.left)+"px").css("float","left");if(timeoutfade!=null){$("#"+B).stop();clearTimeout(timeoutfade)}if(C){var A=$.cookie("wa_sbs");if(typeof user!="undefined"&&user!=""&&user.isEnabled("signedin")&&!user.isEnabled("hastrial")&&!user.isEnabled("haspaid")){$.cookie("wa_sbs",A-1,{domain:".wolframalpha.com",path:"/",expires:1})}if($("#showsteps #loader").length>0){$("#showsteps .close").trigger("click");var G=$("#"+E).offset();$("#"+B).css("top",G.top+30).css("left",(G.left+454)+"px").css("float","left")}else{$("#"+B).remove();if($("#"+B).length!=0){$("#"+B).css("display","block").fadeIn(0.1)}else{var D="";if(F==403){D+='<div id="'+B+'" class="timeout-pop popup">Computation timed out.</div>'}else{if(F=="interactive"){D+='<div id="'+B+'" class="timeout-pop popup">Interactive unavailable.</div>'}else{D+='<div  id="'+B+'" class="timeout-pop popup">No results available.<br/>Try your query again.</div>'}}}$(".stepsprog").remove();$(".sbs-bot").first().append($(D));$("#"+B).css("top","40px").css("left","3px").css("z-index","500").css("font-size","11px").css("font-family","arial").css("font-weight","normal").css("position","absolute")}}timeoutfade=setTimeout(function(){if($.browser.msie){$("#"+B).hide()}else{$("#"+B).fadeOut("slow")}},4000)}function feedbackconfirm(){var A="feedback-confirm";if($("#"+A).length!=0){$("#"+A).css("display","block");return }var B="";B+='<div id="'+A+'" class="email-confirm">';B+='  <div class="content">';B+="    <p>Please include a valid email address if you want to make a response possible.</p>";B+="    <div>";B+='      <input id="ecInput" type="text" />';B+='      <input id="ecSend" type="image" src="/images/calculate-feedbackopen-send.gif"/>';B+="      <br/>";B+="      <span>We will keep your email address private.</span>";B+="    </div>";B+='    <p><a class="inv" id="ecBlankSend">Send without a return email address &raquo;</a></p>';B+="  </div>";B+="</div>";$("#feedback").append($(B));$("#"+A).css("top","160px");$("#"+A).css("right","0px");$("#ecInput").focus()}function hideclass(A){document.getElementById(A).className="hide"}function showclass(A){document.getElementById(A).className="show"}function splattips(){var A="tip";if($("#"+A).length!=0){$("#"+A).css("display","block");return }var B="";B+='<div id="'+A+'">';B+='<div class="top">&nbsp;</div>';B+='<img id="tip-close" src="/images/gray-close.png" alt="Close" title="Close"/>';B+='<div class="content">';B+='<div class="title">Important things to know about Wolfram<span style="color:#949494;">|</span>Alpha:</div>';B+="<ul>";B+="<li>Wolfram|Alpha answers specific questions <br/>rather than explaining general topics";B+='<p>Enter "2 cups of sugar", not "nutrition information"</p></li>';B+="<li>You can only get answers about objective facts";B+='<p>Try "highest mountain", not "most beautiful painting"</p></li>';B+="<li>Only what is known is known to Wolfram|Alpha";B+='<p>Ask "how many men in Mauritania", not "how many monsters in Loch Ness"</p></li>';B+="<li>Only public information is available";B+='<p>Request "GDP of France", not "home phone of Michael Jordan"</p></li>';B+="</ul>";B+='<div class="title">If Wolfram<span style="color:#949494;">|</span>Alpha is still not sure what to do, try the following:</div>';B+="<ul>";B+="<li>Don't use long complete sentences; just enter the minimum number of words needed to communicate</li>";B+="<li>Try different words or notations </li>";B+="<li>Use whole words instead of abbreviations </li>";B+="<li>Check your spelling </li>";B+="</ul>";B+='<div class="links">';B+='<p>&raquo;<a href="http://community.wolframalpha.com">Ask the Wolfram<span style="color:#949494;">|</span>Alpha Community for Help</a></p><br/>';B+='<p>&raquo;<a href="/examples/">Examples by Topic</a></p>';B+='<p>&raquo;<a href="/screencast/introducingwolframalpha.html">Quick Video Overview</a></p>';B+="</div>";B+="</div>";B+='<div class="bot">&nbsp;</div>';B+="</div>";$("#popanchor").append($(B));var C=$("#tips").offset();$("#"+A).draggable({handle:".pdrag",cancel:"pre,textarea"});$("#"+A).css("top",C.top-127);$("#"+A).css("left",C.left-240);if($.browser.msie&$.browser.version<7){$("#tip-close").attr("src","/images/ie6-gray-close-btn-gray.gif");$("#tip-close").mouseover(function(D){$("#tip-close").attr("src","/images/ie6-gray-close-btn-red.gif")}).mouseout(function(D){$("#tip-close").attr("src","/images/ie6-gray-close-btn-gray.gif")}).click(function(D){$("#tip").hide()})}else{$("#tip-close").mouseover(function(D){$("#tip-close").attr("src","/images/gray-close-red.png")}).mouseout(function(D){$("#tip-close").attr("src","/images/gray-close.png")}).click(function(D){$("#tip").hide()})}}$(".sbs-example").mouseover(function(){var A="sbs-example";var D=parseInt(this.id.replace(A,""));var C="algebra-01.png";document.getElementById("sbs-example-image").scrollTop=0;for(var B=1;B<9;B++){$("#"+A+B).removeClass("sbs-hovered");$("#"+A+B+" .sbs-arrow").hide();$("#sbsEx"+B).hide()}$("#"+this.id).addClass("sbs-hovered");$("#"+this.id+" .sbs-arrow").show();$("#sbsEx"+D).show()});$("#SBSPopSignIn").click(function(A){A.preventDefault();closeOtherLightboxes();sendTracking("showSignin","sbsAdPopup");showStepsSignIn()});$("#sbs-tooltip-button").mouseover(function(){$("#sbs-tooltip").show()});$("#sbs-tooltip-button").mouseout(function(){$("#sbs-tooltip").hide()});$("#sbsGoBack").live("click",function(){$("#auth-popup").fadeOut();$("#sbs-ad-popup").fadeIn()});$(document).ready(function(){$(".popup .close").live("click",function(A){A.preventDefault();$(A.target).parents(".popup").hide()});if(!$.browser.mozilla){$(".menu").live("mouseover",function(){$(".timeout-pop-container").hide(1000)})}$("#whats").live("click",function(A){A.preventDefault();if($("#popanchor #tip").length>0){$("#popanchor #tip").show()}else{$.get("/input/whatisthis.jsp",function(B){$("#popanchor").append(B);var C=$("#whats").offset();$("#popanchor #tip").css("top",C.top-100).css("left",C.left-229);$("#betterResults").toggle(function(){$(this).addClass("clicked");$("#betterResults + .betterResults").show();$("#tip").addClass("refresh").removeClass("refresh")},function(){$(this).removeClass("clicked");$("#betterResults + .betterResults").hide();$("#tip").addClass("refresh").removeClass("refresh")})})}});$("html").keyup(function(A){if(A.which==27){$(".popup:visible, .units:visible, .notes:visible, #tip").hide()}});$("#tips").click(function(){splattips()});$("#splatWebSend").click(function(){$("#splatWeb").submit()});$("#debug-toggle").click(function(){toggleDebug()});$("#moreDebug").click(function(A){A.preventDefault();window.location.href=window.location.href+"&debug=1"})});$("#relatedInputs .prevarrow, #p1").data("pageNum",1);$("#relatedInputs .nextarrow, #p2").data("pageNum",2);$("#p3").data("pageNum",3);$("#p4").data("pageNum",4);$("#relatedInputs .nextprev p").click(function(A){var B=new Number($(A.target).data("pageNum"));$(".nextprev").find("p").removeClass("currentp");$("#relatedInputs .prevarrow").data("pageNum",B-1);$("#relatedInputs .nextarrow").data("pageNum",B+1);if(B==1){$("#relatedInputs .prevarrow").hide()}else{$("#relatedInputs .prevarrow").show()}if($("#splat-category-"+((B-1)*4+4)).length<=0){$("#relatedInputs .nextarrow").hide()}else{$("#relatedInputs .nextarrow").show()}$("#p"+B).addClass("currentp");B=(B-1)*4+1;$("#relatedInputs").find(".category-div").hide();$("#splat-category-"+B).show();$("#splat-category-"+(B+1)).show();$("#splat-category-"+(B+2)).show();$("#splat-category-"+(B+3)).show();$("#results").css("display","").css("display","block");if($.browser.opera){$(".menu").live("mouseover",function(C){$(this).find("ul").css("left","-1px")})}});$(document).ready(function(A){$("#financialMore").live("click",function(B){B.preventDefault();$("#toSources").click()})});var removeArrow;var arrow;$(document).ready(function(){if($("#newbie").length>0){$.get("/input/newbie.txt")}if($.browser.msie&&$.browser.version<9){if($("#relatedlinks .related-content").size()<4&&$("#relatedlinks .related-content").size()>0){$("#relatedlinks .related-content").slice(-1).css("padding-bottom","2px")}}$("#sendfeedback").click(function(C){C.preventDefault();$("#tmpMessage").focus();$("#feedback-textarea").focus()});$("#askcommunity").click(function(){$("#askForm").submit()});$("#relatedlinks img").each(function(){var E=$(this).attr("id");var D=$(this).attr("src");var C=new Image();C.onerror=function(F){$("#"+E+", #"+E+" + .sidebar-image-frame").addClass("hide")};C.src="http://"+window.location.hostname+D});$("div[id^=relatedLink]").click(function(E){if(!$(E.target).is("a[target='_blank']")){var C=$(this).attr("id");C=C.substring(C.indexOf("relatedLink")+11,C.length);var D=$("#siteLink"+C).attr("href");window.open(D,"")}});$("body").on("click","#relatedQueries a",function(C){if($(this).hasClass("heading")){C.preventDefault();return }else{if(C.metaKey||C.ctrlKey){}else{$("html").addClass("loading");WolframAlphaLatencyAnimation.start(C,0,500)}}});$("#expand-sidebar").click(function(){$("div[id^=relatedLink].collapse").removeClass("hide");$("#expand-sidebar").addClass("hide");$("#collapse-sidebar").removeClass("hide");if($.browser.msie&&$.browser.version=="7.0"){$("#relatedlinks .bot").css("top","0");$("#relatedlinks .bot").css("top","auto")}});$("#collapse-sidebar").click(function(){$("div[id^=relatedLink].collapse").addClass("hide");$("#expand-sidebar").removeClass("hide");$("#collapse-sidebar").addClass("hide");if($.browser.msie&&$.browser.version=="7.0"){$("#relatedlinks .bot").css("top","0");$("#relatedlinks .bot").css("top","auto")}});$("#compair").click(function(){window.open("http://www.wolframalpha.com/input/?i="+escapedInput)});$("#sidebar .screenshot").each(function(E){var D=$(this).attr("src");var C=D.substring(D.lastIndexOf("/")+1);C=encodeURIComponent(C);D=D.substring(0,D.lastIndexOf("/")+1);$(this).attr("src",D+C)});$("#share .mail, #share .twitter, #share .facebook, #share li > .more, #share .widget, #share #sharethis a").mouseover(function(C){$.get("/mouseover.txt",{type:"share",id:$(this).attr("class"),i:decodeURIComponent(getURLParam("i",window.location.href))},function(D){return })});$("#relatedlinks .related-content").mouseover(function(D){var C=$(this).attr("class").replace(/related-content/,"").replace(/ hide/,"").replace(/ not/,"").replace(/ collapse/,"").replace(/ show/,"").trim();if($(this).children(".mouseover-tracer").length<=0){$(this).prepend('<img class="mouseover-tracer" src="/mouseover.txt?link='+C+"&amp;type=rel&amp;url="+$(this).find(".more-link").attr("href")+'"/>')}});$("#ads .related-content").mouseover(function(D){var C=$(this).attr("class").replace(/related-content/,"").replace(/ hide/,"").replace(/ not/,"").replace(/ collapse/,"").replace(/ show/,"").trim();if($(this).children(".mouseover-tracer").length<=0){$(this).prepend('<img class="mouseover-tracer" src="/mouseover.txt?link='+C+"&amp;type=ads&amp;url="+$(this).find(".more-link").attr("href")+'"/>')}});$("#relatedlinks .related-content, #ads .related-content, #iphone .related-content, #ipad .related-content, #widget .related-content, #android .related-content, #share ul").hover(function(){$("#sidebar").css("z-index","223");$("#sidebar .related-content").removeClass("show");if((navigator.userAgent.match(/iPhone/i))||(navigator.userAgent.match(/iPod/i))||(navigator.userAgent.match(/iPad/i))){$(this).addClass("show")}setTimeout(function(){$(this).addClass("show");$(".timeout-pop-container").hide()},250)},function(){$("#sidebar").css("z-index","220");$(this).removeClass("show")});var A='<img class="hide" src="'+$("#adsurl").attr("title")+"&sheight="+screen.height+"&swidth="+screen.width+'"/>';$("#sponsor-ad").prepend(A);$("#adsurl").remove();$("#spons-bound").hover(function(){$("#sponsor-ad .main-img").css("display","none");$("#sponsor-ad .hover-img").css("display","block");if($(".mouseover-tracer",this).length<=0){var D=$(this).attr("href");D=D.substring(D.indexOf("&url=")+5);var C=$("#sponsor-ad .main-img").attr("src").substring(38);$(this).prepend('<img class="mouseover-tracer" src="/mouseover.txt?name='+C+"&amp;type=ads&amp;url="+D+'"/>')}},function(){$("#sponsor-ad .main-img").css("display","block");$("#sponsor-ad .hover-img").css("display","none")});var B=$.cookie("WolframResultsPageVisits");if(B==null){B=0}$.cookie("WolframResultsPageVisits",++B,{expires:365,domain:".wolframalpha.com"});$("#devmode").live("click",function(C){if(localStorage.getItem("devmode")=="1"){localStorage.setItem("devmode","0")}else{localStorage.setItem("devmode","1")}})});$(function(){window.fbAsyncInit=function(){FB.init({appId:"d61d915e9d09e594b64115612d87039e",version:"v1.0",status:true,cookie:true,xfbml:false})};if($.browser.msie&&$.browser.version<8){$("#widget,#fb,#sharethis").append('<b class="ot"></b><b class="it"></b>')}if($.browser.msie&&$.browser.version<7){$(".widget,.fb,#share .more").mouseover(function(){$(this).next().css("display","block")});$("#widget,#fb,#sharethis").mouseleave(function(J){$(this).css("display","none")})}if((isFileInput==="True"||isDataInput=="true")&&getURLParam("examplefile")!=="1"){$("#share a").attr("href","");return }$("#share .mail").click(function(J){$.get($(this).attr("href"))});window.wa_fbImgSelect=function(K){if(typeof wa_fbImg!=="undefined"){K(wa_fbImg);return }if(wa_fbImgSelect.candidates===undefined||wa_fbImgSelect.candidates===null){wa_fbImgSelect.candidates=$(".pod img")}var J=wa_fbImgSelect.candidates.map(function(){return this.src}).get().join(" ");$.post("/input/fbimg.jsp",{urls:J},function(L){window.wa_fbImg=$('img[src="'+L.trim()+'"]');K(wa_fbImg)})};window.shortUrl=undefined;var A="/input/shorturl.jsp";var G={longUrl:location.href};function D(J){return function(K){if(K===undefined){return }var N=K.success,L=K.failure,M=K.complete;if(shortUrl!==undefined){if(N){N(shortUrl)}if(M){M()}return }$.ajax({url:A,data:G,timeout:2000,type:"GET",dataType:"text",async:J}).success(function(O){shortUrl=O.trim();N(shortUrl)}).error(function(P,Q,O){if(L!==undefined){L(P,Q,O)}}).complete(function(){if(M!==undefined){M()}})}}var C=D(true);var F=D(false);$("#share .more").click(function(J){J.preventDefault();$("#share").addClass("target");$(".digg").attr("style","");$(".linkedin").attr("style","");$(".stumbleupon").attr("style","");$(".mail").attr("style","")});$("#share .less").click(function(J){J.preventDefault();$("#share").removeClass("target");$(".digg").attr("style","display:none");$(".linkedin").attr("style","display:none");$(".stumbleupon").attr("style","display:none");$(".mail").attr("style","display:none")});$("#shortUrlBox").one("mousedown",function(){var J=this;C({success:function(K){$(J).val(K)},failure:function(L,M,K){$(J).val(location.href)},complete:function(){$(J).click(function(){$(J).select()})}})});$("#share").one("mouseover",function(){var K=document.createElement("script");K.async=true;K.src=document.location.protocol+"//connect.facebook.net/en_US/all.js";document.getElementById("fb-root").appendChild(K);var J="";wa_fbImgSelect(function(L){J=L.attr("src")});$("#share a.facebook, #fbad .fb").click(function(N){N.preventDefault();var M=this;var L;F({success:function(O){M.href=M.href.replace(/&url=.*&/,"&url="+O+"&");L=O},failure:function(){L=/&url=(.*)&/.exec(M.href)[1]},complete:function(){FB.ui({method:"feed",name:$("title").val(),display:"popup",link:L,picture:J,caption:"Compute information about "+$("#i").val()+"."})}})})});$("#share a.mail").click(function(K){K.preventDefault();var J=this;C({success:function(L){location.href=J.href.replace(/http.*%3d1%0D/,L+"%0D")},error:function(){location.href=J.href}})});$('#share a[class!="fb on"][class!="reddit"][class!="linkedin"][class!="stumbleupon"][class!="close"][id!="moreSocialLink"]').click(function(K){var J=this;F({success:function(L){J.href=J.href.replace(/&url=.*&/,"&url="+encodeURIComp(L)+"&")}})});var I=function(K,M){var L="a."+K,J="section#"+M;$(L).mouseover(function(){if($(this).closest("#share").hasClass("disabled")){return }$("#share section").removeClass("show");$(L).addClass("pressdown");$(J).addClass("show")}).mouseout(function(N){if($(N.relatedTarget).is(J)){return false}if($(N.relatedTarget).closest(J).length>0){return false}$(L).removeClass("pressdown");$(J).removeClass("show")});$(J).mouseleave(function(N){if($(N.relatedTarget).is(L,J)){return false}if($(N.relatedTarget).is($(L).closest("li"))){return false}if($(N.relatedTarget).closest(J).length>0){return false}$(L).removeClass("pressdown");$(J).removeClass("show")})};var E=["facebook","more","widget"];var H=["fb","sharethis","widget"];for(var B=0;B<E.length;B++){I(E[B],H[B])}});if($("#headerad-pro").length!=0){$("#share").addClass("withBannerAd")}$("#feedback").live("keyup",function(A){if($(A.target).is("#tmpMessage,#tmpSend,#giveus")){var B=this.value;if(!document.getElementById("feedbackCSS")){$.get("/Calculate/feedback.jsp",function(D,E,C){$("#feedback").replaceWith(D);$("#feedback-textarea").val(B?B:"").focus();$("#spin").removeClass("active")})}else{$.get("/Calculate/feedback.jsp",function(D,E,C){$("#feedback").replaceWith(D);$("#feedback-textarea").val(B?B:"").focus();$("#spin").removeClass("active")},"html")}}});$("#feedback").live("click",function(A){if($(A.target).is("#tmpMessage,#tmpSend,#giveus")){var B=this.value;$.get("/Calculate/feedback.jsp",function(E,F,D){$("#feedback").replaceWith(E);$("#spin").removeClass("active");$("#feedback").show();$("#feedback-textarea").val(B?B:"").focus();var C=$("#feedback").offset().top;$("html, body").scrollTop(C)})}});$("#feedback #feedback-form-submit ").live("click",function(A){A.preventDefault();reqFeed="required";if($("#feedback-textarea").val().length==0||$("#feedback-textarea").val()==reqFeed){$("#feedback-textarea").blur().css("color","red").val(reqFeed).one("focus",function(){$(this).val("").css("color","black")});return false}else{if($("#Email").val()==""){feedbackconfirm()}else{if($("#Remember").is(":checked")){$.cookie("WolframAlphaName",$("#Name").val(),{expires:90,domain:".wolframalpha.com"});$.cookie("WolframAlphaEmail",$("#Email").val(),{expires:90,domain:".wolframalpha.com"});$.cookie("WolframAlphaOccupation",$("#Occupation").val(),{expires:90,domain:".wolframalpha.com"});$.cookie("WolframAlphaOrganization",$("#Organization").val(),{expires:90,domain:".wolframalpha.com"});$.cookie("WolframAlphaCountry",$("#Country").val(),{expires:90,domain:".wolframalpha.com"})}else{$.cookie("WolframAlphaName",null,{domain:".wolframalpha.com"});$.cookie("WolframAlphaEmail",null,{domain:".wolframalpha.com"});$.cookie("WolframAlphaOccupation",null,{domain:".wolframalpha.com"});$.cookie("WolframAlphaOrganization",null,{domain:".wolframalpha.com"});$.cookie("WolframAlphaCountry",null,{domain:".wolframalpha.com"})}$("#feedback hr.top,#feedback hr.bot, #feedback table, #feedback-confirm").css("display","none");$("#feedback").append('<div style="height:150px;">&nbsp;</div>');sendFeedback_internal()}}});$("#feedback #ecSend").unbind("click").live("click",function(A){A.preventDefault();if($("#ecInput").val().indexOf("@")==-1){$("#ecInput").blur().css("color","red").val("enter valid email").one("focus",function(){$(this).val("").css("color","black")})}else{$("#Email").val($("#ecInput").val());sendFeedback_internal()}});$("#feedback #ecBlankSend").unbind("click").live("click",function(A){A.preventDefault();$("#Email").val("Anonymous");sendFeedback_internal()});function sendFeedback_internal(){var A=$("#feedback").serializeArray();$("#feedback-wrapper").hide();$("#feedback-confirm").hide();$("#feedback").load("/input/sendmessage.jsp #thanks",A,function(D,C,B){$("#thanks .close").click(function(){$(this).parent().remove()});$("#thanks .close").mouseover(function(){$(this).attr("src","/images/thanks-close-red.png")}).mouseout(function(){$(this).attr("src","/images/thanks-close.png")});$("#feedback").append("<fieldset></fieldset>");$("#feedback fieldset").load("/input/feedback.form.jsp fieldset *",{i:"i"})}).toggleClass("open closed")}$(document).ready(function(){$(".feedback-close").live("click",function(){$("#feedback").html("<fieldset></fieldset>");$("#feedback fieldset").load("/input/feedback.form.jsp fieldset *",{i:"i"});$("#feedback").toggleClass("closed open")})});function assumptionSubmit(){$("html").addClass("loading");if(typeof WolframAlphaLatencyAnimation!="undefined"&&WolframAlphaLatencyAnimation){if(!WolframAlphaLatencyAnimation.alive){WolframAlphaLatencyAnimation.init(document.getElementById("solutions"))}WolframAlphaLatencyAnimation.start(false,0,500)}$("#assumptions").unbind().submit()}function applyAssumption(A,B){document.getElementById("a"+A).value=unescape(B);return assumptionSubmit()}function prefillGeoIPAssumptions(){$("#assumptions input.assuming-input-expandable").filter(function(){return $(this).get(0).alt=="User$Location"}).val("location").addClass("empty")}function trackAssumption(D,A){var C=$(".diagramContain img");var B=getURLParam("f",$("#assumptions").serialize());var F=B.substring(0,B.indexOf("."));var E={ts:new Date().getSeconds(),type:"assumption",action:D};if(F!==""){E.src=F}if(C.length>0){E.image=C[0].src.substring(C[0].src.lastIndexOf("/")+1)}$.get("/click.txt?"+$.param(E),A)}$(document).ready(function(){var A=$("form#assumptions");if(A.length>0){if(A[0].f!==undefined){trackAssumption("view")}}$("#assumptions").submit(function(B){if(A.length>0){if($("form#assumptions")[0].f!==undefined){B.preventDefault();trackAssumption("submit",function(){window.location.href="/input/?"+$("#assumptions").serialize()})}}if(typeof WolframAlphaLatencyAnimation!="undefined"&&WolframAlphaLatencyAnimation){if(!WolframAlphaLatencyAnimation.alive){WolframAlphaLatencyAnimation.init(document.getElementById("solutions"))}WolframAlphaLatencyAnimation.start(false,0,500)}$("html").addClass("loading")});$("#assumptions input").filter("[name^='f']").focus(function(B){$("#equal"+this.name.substring(1)).css("left","auto");$("[id^='equal']").filter("[id!='equal"+this.name.substring(1)+"']").css("left","-10000px");$("#assumptions .warn").html("")}).keyup(function(B){$("#"+this.name).val(this.alt+"_"+this.value);if(B.which==13){$("#assumptions").submit()}});$("#assumptions input").filter("[id='equal']").focus(function(){$(this).show()});prefillGeoIPAssumptions();$("#assumptions input.assuming-input-expandable").live("focus",function(B){if($(this).hasClass("empty")){$(this).val("").removeClass("empty")}$(this).animate({width:120},160,"swing",function(){$("#assumptions").addClass("redraw").removeClass("redraw")}).addClass("focus")}).live("blur",function(C){if($(this).val()==""){$(this).val("location").addClass("empty")}var B=this;setTimeout(function(){$(B).animate({width:60},160,"swing",function(){$("#assumptions").addClass("redraw").removeClass("redraw")}).removeClass("focus")},200)});$("#assumptions .assuming-input-expandable-equals").live("click",function(B){B.preventDefault();var C=$(this).prev(".assuming-input-expandable").val();if(C!="location"){$("#assumptions").submit()}})});function getInputPosition(B){var C,D,A;if(B.selectionEnd){return[B.selectionStart,B.selectionEnd]}else{if(B.selectionStart){return[0,B.selectionStart]}else{if(document.selection){B.focus();C=document.selection.createRange();if(C!=null){return[0,0]}A=B.createTextRange();D=A.duplicate();A.moveToBookmark(C.getBookmark());D.setEndPoint("EndToStart",A);return D.text.length}else{return[0,0]}}}}function setInputPosition(B,C){var A;if(B.setSelectionRange){return B.setSelectionRange(C,C)}else{if(B.createTextRange){A=B.createTextRange();A.collapse(true);A.moveEnd("character",C);A.moveStart("character",C);return A.select()}}}function cleanupFileInputTagLoading(){$("#calculate #i").removeClass("fileinput-tagloading");$("#calculate #fileinput-tagloading-text").remove()}function setupFileInputTagInitQuery(){var E=getURLParam("dataset")!=""||getURLParam("datasetfile")!="";cleanupFileInputTagLoading();if($.trim(getURLParam("fileinput"))!=""){var F=xssEscape(unescape(getURLParam("fileinput")));var D="";var C=extractFileExtension(F);var A=removeFirstSlash(fromLastDir(F));if(isImageExtension(C)){D="image"}else{if(C=="DATA"){D="rawdata"}else{D="generic"}}if(getURLParam("examplefile")=="1"){selectFileInput(A,F,D+" sample",{initQuery:true})}else{selectFileInput(A,F,D,{initQuery:true})}}else{if(E||isPost){if(getURLParam("datasetfile")!=""){var F=unescape(getURLParam("datasetfile"));var C=extractFileExtension(F);var A=removeFirstSlash(fromLastDir(F));var B=getURLParam("autosaved")=="1";if(getURLParam("examplefile")=="1"){selectFileInput(A,F,"rawdata sample",{initQuery:true})}else{if(B){selectFileInput("",F,"rawdata-min",{initQuery:true})}else{selectFileInput(A,F,"rawdata",{initQuery:true})}}}else{selectFileInput("",savedDataInput,"rawdata-min",{initQuery:true})}}}}$(document).ready(function(){setupFileInputTagInitQuery();$("#equal").replaceWith('<div id="equal" title="compute"></div>');$("#calculate").click(function(A){if($(A.target).is("#i")){$("[id^='equal']").css("left","-10000px");$("#input > #equal").css("left","auto")}});$("#calculate").submit(function(J){$("html").addClass("loading");if(typeof WolframAlphaLatencyAnimation!="undefined"&&WolframAlphaLatencyAnimation){if(!WolframAlphaLatencyAnimation.alive){WolframAlphaLatencyAnimation.init(document.getElementById("solutions"))}WolframAlphaLatencyAnimation.start(false,0,500)}var G=$(".ac .selected");if(G.length>0){$("#calculate").append('<input type="hidden" name="lk" value="4" />').append('<input type="hidden" name="num" value="'+G.data("pos")+'" />')}$("#imath").remove();$("#input").removeClass("imath");$("#calcform-samplequeries, #genfiles-allsamples").fadeOut();if($("#i").val().replace(/\s*/g,"")==""&&($("#dataset-input").val()==""&&$("#calculate .inputfile-tag").length<1)){J.preventDefault();window.location="/";return }if($("#i").val().indexOf("showlinks")!=-1){$("#i").val($("#i").val().replace(/showlinks/g,""));$("#calculate").append('<input type="hidden" name="showLinks" value="1" />')}$("#calculate input.fileinput, #calculate input[name=genfileup], #calculate input[name=genfilesepother]").remove();$("#calculate .fileinput").remove();$("#calculate input[name=filetype]").remove();if($("#calculate .inputfile-tag").length>0){if($.trim($("#calculate #i").val())==""){$("#calculate #i").val(" ")}var M=$("#calculate .inputfile-tag");if(!M.hasClass("infile-ignore")){var B=M.data("filepath");var L=M.hasClass("infile-dset");var H=M.hasClass("infile-rawdata")||M.hasClass("infile-rawdata-min");var E=M.hasClass("infile-rawdata-min");var F=M.hasClass("infile-sample");if(!H){var K=$("<input />").attr({type:"hidden",name:"fileinput",value:B})}else{var K=$("<input />").attr({type:"hidden",name:"datasetfile",value:B});if(E){var C=$("<input />").attr({type:"hidden",name:"autosaved",value:"1"}).appendTo("#calculate")}}if(F){var I=$("<input />").attr({type:"hidden",name:"examplefile",value:"1"}).appendTo("#calculate")}$("#dataset-input").remove();$("#calculate").append(K);if(L){var A=$("<input />").attr({type:"hidden",name:"filetype",value:"dset"});$("#calculate").append(A)}$("#calculate input[name=dataset]").remove()}}else{$("#calculate #dataset-input").remove();$("#calculate").attr("method","get")}$("#calculate textarea[name=genfiletext]").attr({disabled:"disabled"});var D=$("#calculate input[name=dataset]");if(D.length>0&&$.trim(D.val())==""){D.attr({disabled:"disabled"})}else{if(D.length>0&&$.trim(D.val())!=""){$("form#calculate").attr("method","POST")}}closeInputMethodTabs();$("html").addClass("loading")}).keypress(function(A){if(A.which==13){if($(A.target).is("#genfiles-textarea")){return true}$("#i").blur();$("#calculate").submit()}});$("#i").keydown(function(C){if(!(C.which<=40&&C.which>=35)&&!(C.which<=18&&C.which>=16)&&C.which!=13){closeInputDropDown();clearTimeout(iMathTimeout);if(!isTrayOpen()&&!hasFileInput()){iMathTimeout=setTimeout("inputDropdown()",150)}}if(C.which==40||C.which==38){selectInput(C.which,$(this));selected=$(".ac a.selected")}if(C.which==8){var B=getInputPosition($("#calculate #i")[0]);var A=$("#calculate .inputfile-tag");if(B[0]<=0&&B[1]<=0&&B[0]==B[1]&&A.length>0){if(A.hasClass("inputfile-tagselected")){removeFileInput()}else{A.addClass("inputfile-tagselected")}}}else{$("#calculate .inputfile-tag").removeClass("inputfile-tagselected")}}).blur(function(A){$("#calculate .inputfile-tag").removeClass("inputfile-tagselected")});$("#calculate div#equal").live("click",function(A){$("#calculate").submit()});$("#imath .moreInput .inputtab").live("click",function(B){B.preventDefault();closeInputDropDown();var A=$(this).data("tab");if(A==="keyboard"&&!$("inputtab-keyboard").hasClass("active")){return openKeyboardInputTab(function(){openInputMethodTab(A)})}else{openInputMethodTab(A)}});$(".ac-a > a").live("click",function(A){A.preventDefault();$("#i").val($(this).data("input"));$("#calculate").append('<input type="hidden" name="lk" value="4" />').append('<input type="hidden" name="num" value="'+$(this).data("pos")+'" />').submit()});$("#i").blur(function(A){setTimeout(function(){closeInputDropDown(true)},200)});$(".ac-a").live("mousemove",function(B){if(!$("a",this).hasClass("selected")){var A=$("a",this).data("sb");$(".ac-a > a").removeClass("selected");$("> a",this).addClass("selected");showSummaryBox(A,$(this))}});$(".ac-a").live("mouseleave",function(A){$("a",this).removeClass("selected");$("#sb-con",this).remove();$(".ac").removeClass("sb");if(summaryBoxReq){summaryBoxReq.abort()}});$("#sb-con").live("mousemove",function(A){$.each($(".ac a"),function(B,C){if($(C).data("pos")==$("#imath").data("sb-pos")){$(C).addClass("selected");$("#imath").data("sb-input",$(C).data("input"))}})});$("#sb-con").live("click",function(E){E.preventDefault();E.stopPropagation();var C=$("#sb-con .wasb-title .wasb-invlink").attr("href");if(C.indexOf("*City")!=-1||C.indexOf("*Movie")!=-1){var D=getURLParam("a",C);var A=getURLParam("i",C);D=decodeURIComponent(D);A=decodeURIComponent(A);A=A.replace("+"," ");var F=$("<input/>",{type:"hidden",id:"aSB",name:"a",value:D});var B=$("<input/>",{type:"hidden",id:"aSB",name:"sb",value:"click"});F.appendTo("#calculate");B.appendTo("#calculate")}$("#i").val($("#imath").data("sb-input"));$("#calculate").submit()});$("#sb-con a").live("click",function(A){A.preventDefault()})});window.alphaExamples=[];$(document).ready(function(){$("#searchRandom").click(function(A){A.preventDefault();$("#imath, a#star-inputfield").hide();if(window.alphaExamples.length==0){$.get("/alphaExamples.txt",function(B){window.alphaExamples=B.split("\n");randomInput()})}else{randomInput()}})});function randomInput(){if($("input[name='random']").length>0){$("input[name='random']").val("true")}else{$("#calculate").append('<input type="hidden" name="random" value="true" />')}var B=Math.floor(Math.random()*window.alphaExamples.length);var A=window.alphaExamples[B];$(".inputfile-tag").remove();$("#i").val(A).focus();$("#fadeall").remove();animation=false;$.get("/rand.txt?e="+$("#i").val())}if(getURLParam("pro")=="0"){$(".output area, #queries a").live("mouseenter",function(){var A=$(this).get(0).href;if(typeof A!="undefined"&&A.indexOf("&pro=")==-1){$(this).get(0).href=A+"&pro=0"}})}function isTrayOpen(){var A=false;if($("#moreInput").hasClass("open")){A=true}return A}function playSound(A){if(A){var B=getURLParam("MSPStoreType",A);if(B=="audio/midi"){B="audio/x-wav"}$("#popanchor object, #popanchor embed").remove();if(navigator.userAgent.indexOf("iPhone")!=-1){window.location=A}else{if($.browser.mozilla||$.browser.webkit){$("#popanchor").append('<object type="'+B+'" data="'+A+'" width="1" height="1">');$("#popanchor").append('<param name="FileName"value="'+A+'"><param name="autoplay" value="true"><param name="AutoStart" value="true">');$("#popanchor").append("</object>")}else{if($.browser.safari&&$.browser.version>=5&&navigator.userAgent.indexOf("iPad")==-1&&A.indexOf("wav")>0&&navigator.userAgent.indexOf("Chrome")==-1){$("#popanchor").append('<audio autoplay="autoplay" src="'+A+'"></audio>')}else{$("#popanchor").append('<embed hidden="true" autostart="true" loop="false" src="'+A+'">');$("#popanchor").append('<audio src="'+A+'" autoplay ><embed src="'+A+'" hidden="true" autostart="true" loop="false"></audio>')}}}}$(".btn.loading").removeClass("loading")}function dataSources(C,A,B){if(typeof B!="undefined"&&B=="cdf"&&$("#sourceHolder").length<1){$("#cdfSources").append('<div id="sourceHolder"></div>')}else{if($("#sources").length>0){$("#sources").show();return }else{if($("#sourceHolder").length<1){$("#popanchor").append('<div id="sourceHolder"></div>')}}}if(!A){A=$(C.target).attr("href")}$("#sourceHolder").load(A+"&contentOnly=1",function(){if(typeof B=="undefined"){var G=$("#computed").offset();var E=G.top-380>20?G.top-380:20;$("#sources").css({top:E+"px",right:G.left+"px"})}else{if(B=="cdf"){var D=$("#sources").find("h1");var F=$("#sources").find(".close");D.append(F);$("#sources").prepend(D).css("position","relative").find("h1").wrap("<div id='cdfSourcesHeader' />").append(F);$("#sources .close").unbind().click(function(H){H.preventDefault();H.stopPropagation();$(this).closest("#sources").hide()})}}$("#sources").addClass("popup").addClass("pdrag").show();if($("#sources h3").length<=2){$("#sources h3:not(.open)").addClass("open")}else{$("#sources h3:not(.open)").addClass("closed")}$("#sources h3").unbind().click(function(I){I.preventDefault();if($.browser.msie&&$.browser.version<8){var H;if($(this).next().is("ul")){H=$(this).next()}else{H=$(this).siblings("div.primary")}if($(I.target).is(".open")){H.hide()}else{H.show()}}if($(I.target).is(".open")){$(I.target).removeClass("open").addClass("closed")}else{$(I.target).removeClass("closed").addClass("open")}$("#sources").addClass("dummy-redraw").removeClass("dummy-redraw");$("#sources .content").jScrollPane({showArrows:true,scrollbarWidth:11,scrollbarMargin:0,dragMaxHeight:60})});$("#sources .popup-close").click(function(H){H.preventDefault();$(this).parent().hide()});$("#sources .content").jScrollPane({showArrows:true,scrollbarWidth:11,scrollbarMargin:0,dragMaxHeight:60});if(B!="cdf"){$("#sources").draggable({cancel:"ul,.jScrollPaneTrack"})}if($.browser.safari){$("#sources h1").css("position","relative").css("left","1px")}})}function openCdfSources(F){var E="/input/sources.jsp?sources=";var D=new RegExp("http://www.wolframalpha.com/sources/(.*)SourceInformationNotes.html");var A={};for(var C in F){var B=F[C];if(typeof A[B]=="undefined"){A[B]="t"}else{F.splice(B,1)}}$.each(F,function(G,H){if(G==0){E+=H.replace(D,"$1")}else{E+="&sources="+H.replace(D,"$1")}});dataSources(null,E,"cdf")}$(document).ready(function(){$("#sources a:not(#air)").click(function(A){A.preventDefault();url=$(this).attr("href");window.open(url,"");return false});$(".subpod-sourcespop.pagesrc .closebtn").live("click",function(A){$("#toSources").removeClass("open")});$("#toSources").live("click",function(A){if(navigator.userAgent.indexOf("iPad")!=-1){return true}A.preventDefault();if(typeof dataSources=="function"&&!$(this).hasClass("open")){showSubpodSources(null);$(this).addClass("open")}else{$(".subpod-sourcespop.pagesrc").remove();$(this).removeClass("open")}})});function progressBar(A){}function crosshair(D){if($(D).is("[data-attribution],[data-img],[data-color]")){return }var C,A,F,E=D.getAttribute("coords").split(",");for(C=0;C<E.length;C++){E[C]=parseFloat(E[C])}var B=null;if($(D).parents(".sub").find("canvas").length>0){B=$(D).parents(".sub").find("canvas").get(0);A=$(D).parents(".sub").find("img").get(0)}F=$(D).parent();$(D).appendTo(F);$(B).addClass("ch");if(!A||!E){return }if(B==null){B=document.createElement("canvas");A.parentNode.replaceChild(B,A)}$(D).unbind().mousemove(function(I){if($.browser.msie&&$.browser.version<9){return }var H=B.getContext("2d");var M=0,J=0,K=B;do{M+=K.offsetLeft;J+=K.offsetTop}while(K=K.offsetParent);var G=I.pageX-M;var L=I.pageY-J;H.clearRect(E[0],E[1],E[2],E[3]);H.beginPath();H.strokeStyle="rgba(20,20,20,.3)";H.moveTo(G+0.5,E[1]);H.lineTo(G+0.5,E[3]);H.moveTo(E[0],L+0.5);H.lineTo(E[2],L+0.5);H.stroke();H.closePath()}).mouseleave(function(G){B.getContext("2d").clearRect(E[0],E[1],E[2],E[3])})}function loadStepByStep(D,B,C,A){if(!user.isEnabled("hastrial")&&!user.isEnabled("haspaid")&&!stepByStepInfo.isExample){sendTracking("showSBSPopup","results");$("#lightboxOverlay").show();var F=$("#sbs-ad-popup");F.show();adjustInputCss();var E;if($.browser.msie){E=window.getScrollPosition().y+100}else{E=(-1*$("html").offset().top)+100}F.css("top",E+"px")}else{hideCDFContent();$("#lightboxOverlay").show();showLightboxLoading();$.get("showsteps.popup.jsp",function(I){if($("#showsteps").length>0){$("#showsteps").remove()}$("#showsteps .close").live("click",function(J){$("#"+D+"poppedup").attr("id",D+"");$(".sub","#"+D).each(function(){var K=$(this).attr("id");K=K.substring(0,K.indexOf("poppedup"));$(this).attr("id",K)});$("#showsteps").remove()});$("body").append(I);var H=$("#"+D)[0].outerHTML;$(".sub","#"+D).each(function(){var J=$(this).attr("id");$(this).attr("id",J+"poppedup")});$("#"+D).attr("id",D+"poppedup");$("#showstepspod").append(H);$("#"+D).hide().addClass("sbs");if(typeof user=="undefined"||user==""){var G=waproPodButtonTrigger();if(G){asynchronousPod(B+"&state=1&scroll=0&text="+A+"&format=png&btntype=sbs&first=true",D,escapedInput,0,0)}}else{asynchronousPod(B+"&state=1&scroll=0&text="+A+"&format=png&btntype=sbs&first=true",D,escapedInput,0,0);if(exportdata=="1"){}}$("#showsteps").css("top",$(window).scrollTop()+50);$("#showsteps").show();hideLightboxLoading()})}}function adjustInputCss(){$(".input").each(function(){if($(this).height()>15){$(this).closest(".sbs-example").addClass("large")}})}$(document).ready(function(){$("#results .pod img").load(function(A){$(this).parents("div.loading").removeClass("loading")}).each(function(){if(this.complete){$(this).parents("div.loading").removeClass("loading")}});$(".sub").live("mouseenter",function(){$(".subpod-hover").removeClass("subpod-hover")});$("#answers").on("click","area[href^='/input/']",function(A){$("html").addClass("loading");WolframAlphaLatencyAnimation.start(A,0,500)});$("area[data-attribution], img[data-attribution]").live("click",function(H){if($(this).data("attribution")==undefined||$(this).data("attribution").length<1||$(this).attr("href")){return }var A=($(H.target).attr("src")!=undefined)?$(H.target).attr("src"):$(H.target).data("img");var I=this;var J={top:H.pageY,left:H.pageX};var F=new Image();var C=$(this).attr("data-popup");var G=$(this).attr("data-attribution");var L=$(this).attr("data-popup-img-maxwidth");var K=$(this).attr("data-popup-img-maxheight");if(C==undefined){var D=$(this).data("attribution");C=D.substring(0,D.indexOf("|"));G=D.substring(D.indexOf("|")+1)}var B=C.indexOf("http")!=0?"//www.wolframcdn.com/waimage/"+C:C;$.get("popup.txt?type=attribution&src="+$(H.target).attr("src"));if(this.width>250){F.BIG="true"}var E=(L?"max-width:"+L+"px;":"max-width:none;")+(K?"max-height:"+K+"px;":"max-height:none;");$('<div id="attribution_'+$(I).parents(".sub").attr("id")+"_"+$(I).index()+'" class="popup attribution"'+(L||K?'style="width:auto;'+E+'"':"")+'><a class="close">X</a><a href="'+G+'" target="_blank"><img src="'+B+'" '+(F.BIG?'width="100%" style="max-width: 250px"':(L||K?'style="'+E+'"':""))+" /></a></div>").appendTo("#popanchor").css("top",(J.top-3)+"px").css("left",(J.left-3)+"px").draggable({cancel:"a,img"})});$("id[^attribution] a").live("click",function(A){A.preventDefault();window.open(this.url)});$("#answers").on("click","area[href^='/input/'], area[href='']",function(A){$("html").addClass("loading");WolframAlphaLatencyAnimation.start(A,0,500)});$("#answers").on("click","area[href='']",function(A){A.preventDefault();location.reload(true)});if(!(navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1)){if(!$.browser.msie||parseInt($.browser.version)>=9){$("img[usemap]").one("mouseover",function(){$(this).maphilight()});setTimeout(function(){$('area[alt="Frame"]').each(function(){crosshair(this)})},500)}else{if($.browser.version>=6){$(".bubblebtn:not(.bb) a").append('<i class="l"></i><i class="r"></i>');if(!(navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1)){$("img[usemap]").one("mouseover",function(){$(this).maphilight()})}}}}$(".pod a.jump").live("click",function(A){if(A.button!=0){return true}A.preventDefault();return });$("body").on("click",".si",function(A){$("#oauth_signin").click()});$(".pod .btn:not(.bb, .close) a:not(.pod-interactive)").live("click",function(H){H.preventDefault();H.stopPropagation();var B=$(this).attr("href");var E=$(this).text();if($(this).is("a:not(.popupbutton")){$(this).parent().addClass("loading")}if(getURLParam("MSPStoreType",B).indexOf("audio")!=-1){H.preventDefault();playSound(B);return }var I=$(H.target).closest(".sub,.pod").attr("id");if($(H.target).hasClass("pod-interactive")){I=$(H.target).closest(".pod").attr("id")}var D=encodeURIComponent($.trim($(H.target).parents(".pod").find("h2").text()));var C=I.indexOf("sub")==-1?I.substring(4):I.substring(7);var G=$(H.target).parents(".pod").find("a").index(H.target);var A=$(this).closest("form").attr("action");if(!A){A=$(H.target).attr("href")}if(A.indexOf("subpod.jsp")!=-1){A=A.substring(A.indexOf("subpod.jsp"))}else{A=A.substring(A.indexOf("pod.jsp"))}if($(this).hasClass("popupbutton")){loadStepByStep(I,$(this).data("url"),$(this),E)}else{if(getURLParam("btntype",A)=="sbs"){$(".stepsprog").remove();$("#"+I+" h2").append('<img class="stepsprog" src="//www.wolframcdn.com/stepbystep/stepsloading.gif?ts='+new Date().getTime()+'" />')}if(typeof user=="undefined"||user==""){var F=waproPodButtonTrigger();if(F){asynchronousPod(A+"&state=1&scroll=0&text="+E+"&podTitle="+D,I,escapedInput,0,0)}}else{asynchronousPod(A+"&state=1&scroll=0&text="+E+"&podTitle="+D,I,escapedInput,0,0);if(exportdata=="1"){}}}return false});$(".pod").not("#related,#examples *").each(function(){if(!document.getElementById(this.id+"_button")){$(this).append('<b class="pt fish" id="'+this.id+'_button"><a href="#" class="saveAsImg">Save as image &raquo;</a><a href="#" class="copyablept">Copyable plaintext &raquo;</a></b>')}});if($.browser.opera){$("head").append('<style type="text/css">.h li a.jump]+ .menu{top:14px;} .h li+li a.jump+ .menu{top:13px;} .h li+li+li a.jump+ .menu{top:12px;} .h li+li+li+li a.jump+ .menu{top:11px;} .menu li {clear:both;}*/</style>');$('.pod a[rel="jump"]').live("mousemove",function(){if($(this).closest(".pod").css("background-color")!="#fffffe"){$(this).closest(".pod").css("background-color","#fffffe")}else{$(this).closest(".pod").css("background-color","#fff")}})}$("#results .pod .copyablept, #results .subpod-controls .subpod-copyablept, #showsteps .subpod-controls .subpod-copyablept").live("click",function(B){B.preventDefault();var A=$("img",$(B.target).parent(".output"));podactionTrack("#results .pod .copyablept, #results .subpod-controls .subpod-copyablept","copy");if($(this).hasClass("sbs")){showpopnew($("#showsteps .sub"),"sbs")}else{showpopnew($(B.target).closest(".sub"))}if($(this).closest(".sub").find(".output img").height()>1000){$("html, body").animate({scrollTop:$(this).closest(".sub").offset().top},1000)}});$(".pod .menu a").live("click",function(F){if(F.button!=0){return true}$(this).closest(".menu").siblings(".menu").addClass("loading");F.preventDefault();var E=$(F.target).closest(".sub,.pod").attr("id");var D=E.indexOf("sub")==-1?E.substring(4):E.substring(7);var C=$(F.target).closest(".pod").find("a").index(F.target);$(".timeout-pop-container").hide(1000);var B=$(F.target).attr("href");if(B.indexOf("subpod.jsp")!=-1){B=B.substring(B.indexOf("subpod.jsp"))}else{B=B.substring(B.indexOf("pod.jsp"))}if(getURLParam("btntype",B)=="sbs"){$(".stepsprog").remove();$("#"+E+" h2").append('<img class="stepsprog" src="//www.wolframcdn.com/stepbystep/stepsloading.gif?ts='+new Date().getTime()+'" />')}if(typeof user=="undefined"||user==""){var A=waproPodButtonTrigger();if(A){asynchronousPod(B+"&state=1&scroll=0",E,escapedInput,0,0)}}else{asynchronousPod(B+"&state=1&scroll=0",E,escapedInput,0,0)}return });$(".popup-links a").live("click",function(B){B.preventDefault();var A=this;$.get("/input/popup.txt?i="+$("#i").val()+"&txt="+$(this).html(),function(){window.location.href=$(A).attr("href")})});$("div[id^='units'] a").live("click",function(A){A.preventDefault();showunits(A,this.href)});$("div[id^='notes'] a").live("click",function(A){A.preventDefault();shownotes(A,this.href)});$("#downloadnbpopup a.popup-close").live("click",function(A){$("#downloadnbpopup").hide();return false});$("#downloadnbpopup div.button").live("click",function(A){$("#downloadnbpopup").hide();if($("input:radio[name=dlnbpop]:checked").val()=="yes"){if($("#downloadnb").data("downloadKey")&&$("#downloadnb").data("downloadKey").length>0){downloadNotebook($("#downloadnb").data("downloadKey"),$("#downloadnb").data("escInput"),$("#downloadnb").data("window.search"))}else{downloadNotebook(downloadKey,inputEsc,window.location.search)}$.cookie("has_mathematica","yes",{expires:365,domain:".wolframalpha.com"})}else{window.location="http://www.wolfram.com/products/player"}return false});$(".premium .available").live("click",function(A){A.preventDefault();$("#lightboxOverlay").show();if($("#lightbox-premium").length>0){$("#lightbox-premium").show();return }$('<div id="lp_" class="lightbox-premium"><h2 class="premium-data-header">Wolfram|Alpha Premium Data <span class="premium-data-icon"></span></h2><a class="close">x</a><h3>Zacks predictive analysis</h3><div class="premium-t">'+jsonArray.popups.pod_0100[0]["stringified"]+'</div><a class="buy bubblebtn">Buy Now</a><div class="premium-price">Price: $0.99</div><div class="premium-description">ZACKS investment research, Inc. provides Zacks Rank (a short term recommendation based on trends in earnings estimate revisions), Zacks Recommendation (6+ month recommendation), Zacks Industry Rank, and Target Price in the next 6 months. Supporting data and charts are included.</div><div class="premium-note">Content will be accessible for 24 hours following purchase.</div></div>').appendTo("body");$(".lightbox-premium").css({top:(getScrollPosition().y+($(window).height()/2)-145),left:(($(window).width()/2)-227)+"px"}).show();$(".lightbox-premium .close").unbind("click").click(function(B){B.preventDefault();$(".lightbox-premium").hide();$("#lightboxOverlay").hide()});$(".lightbox-premium .buy").unbind("click").click(function(B){B.preventDefault();$("#lightboxOverlay").hide();$(".lightbox-premium").hide();$(".premium + .sub, .premium + hr").show();var C=$(".premium").find("h2").first().text();C=C.substring(0,C.length-1);C='<em class="premium-data-icon"></em>'+C+":";$(".premium").find("h2").first().html(C);$(".premium").css("display","none").removeClass("premium").addClass("paid").slideDown(800);$(".teaser, .available").hide()})});$(".pod:not(.pod-closed) > h2").live("click",function(A){A.preventDefault();$(this).closest(".pod").addClass("pod-closed").find(".pod-content").slideUp(200)});$(".pod.pod-closed > h2").live("click",function(A){A.preventDefault();$(this).closest(".pod").removeClass("pod-closed").find(".pod-content").slideDown(200)})});$(document).ready(function(){$("#ftForm").live("submit",function(B){B.preventDefault();if($("#ftEmail").val().indexOf("@")==-1){$("#ftEmail").blur().css("color","red").val("enter valid email address").one("focus",function(){$(this).val("").css("color","black")})}else{var A=$("#ftForm").serializeArray();$("#tya").load("/input/futureTopicMessage.jsp #thanks",A,function(){$("#tya").css("display","block");$("#thanks.ft .close").click(function(){$(this).parent().remove()});if($.browser.msie&&$.browser.version=="6.0"){$("#thanks.ft .close").attr("src","/images/ie6-thanks-close-gray.gif");$("body").css("display","none").css("display","block");$("#thanks.ft .close").mouseover(function(){$(this).attr("src","/images/ie6-thanks-close-red.gif")}).mouseout(function(){$(this).attr("src","/images/ie6-thanks-close-gray.gif")})}else{$("#thanks.ft .close").mouseover(function(){$(this).attr("src","/images/thanks-close-red.png")}).mouseout(function(){$(this).attr("src","/images/thanks-close.png")})}});$("#results .bot").css("top","0").css("top","auto");$("#splat").removeClass("open").addClass("closed");return true}});$("div#ftSend,#ftEmail").live("click",function(){$("#splat").addClass("open");$("#ftSend").removeClass("closed");if($("#i").length>0){$("#ftYourInput").text($("#i").get(0).defaultValue)}else{$("#ftYourInput").text(getURLParam("i",window.location.href))}});if($("#i").length>0){$("#ftYourInput").text($("#i").get(0).defaultValue)}else{$("#ftYourInput").text(getURLParam("i",window.location.href))}});$(document).ready(function(){if(typeof adInfoVersion=="number"){var A=new Date();$.get("/click.txt?action=showbanner&src=banner"+adInfoVersion+"&ts="+A.getTime())}if($("#oauth_signin[class^=co]").length>0){var A=new Date();$.get("/prompt.txt?action=display&src=prompt&feature=headerad&type="+$("#oauth_signin").attr("class")+"&ts="+A.getTime())}$(window).load(function(){setTimeout(function(){if($("#waChromeExtInstalled").length){$.cookie("WolframAlphaChromeExtension","true");$("#chrome-ext-ad").fadeOut()}else{if(!$.cookie("WolframAlphaChromeExtension")){$.cookie("WolframAlphaChromeExtension","false")}}},500)});if($.cookie("WolframAlphaChromeExtension")&&$.cookie("WolframAlphaChromeExtension")=="false"){if($(".co0, .co1, .co2").length==0){$(".chrome-ext-button").on("click",function(C){C.preventDefault();var B=new Date();$.get("/click.txt?action=install&src=banner&type=chromebanner"+((this.className.indexOf("b")==-1)?"0":"1")+"&signedin="+user.isEnabled("signedin")+"&ts="+B.getTime());if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){chrome.webstore.install("https://chrome.google.com/webstore/detail/icncamkooinmbehmkeilcccmoljfkdhp")}else{alert("Sorry, your browser does not support installing the Chrome extension.")}})}}$("#chrome-ext-ad .close").on("click",function(B){B.preventDefault();$("#chrome-ext-ad").remove();$.cookie("WolframAlphaChromeExtension","true");$.get("/click.txt?action=close&src=banner&type=chromebanner"+((this.className.indexOf("b")==-1)?"0":"1")+"&signedin="+user.isEnabled("signedin")+"&ts="+new Date().getTime())});if($("#chrome-ext-ad").length>0){$.get("/prompt.txt?ts="+new Date().getSeconds()+"&feature=chromeExt&type="+(($("#chrome-ext-ad").get(0).className.indexOf("b")==-1)?"a":"b"))}});$(document).ready(function(){$("#air").live("click",function(B){B.preventDefault();clearTimeout(alphaInfoReqTimeout);var A;if($("#alphaInfoRequest").length!=0){if($("#alphaInfoRequest .popup.submitted").length!=0){A=$("#alphaInfoRequest").parent()}else{$("#alphaInfoRequest").show();return false}}else{$("#popanchor").appendTo("body");A=$("<div></div>").appendTo("#popanchor")}A.load("/input/alphaInfoRequest.jsp #alphaInfoRequest",function(){$("#alphaInfoRequest").css({}).show().draggable();$("#dInput").val(decodeURIComponent(escapedInput));pos=$(B.target).offset();if(navigator.userAgent.indexOf("iPad")!=-1){$("#alphaInfoRequest").css("top","150px");$("#alphaInfoRequest").css("left","250px")}else{$("#alphaInfoRequest").css("top",pos.top-120);$("#alphaInfoRequest").css("left",pos.left)}if($.browser.msie&$.browser.version<8){$('#alphaInfoRequest div.half input[type="text"]').css({width:"189px","font-size":"11px"})}$("#airSend").click(function(){sendAir()});$("#sources .content a").not("#air").attr("target","_blank");$('#alphaInfoRequest div.half input[id="refName"]').focus();$("#alphaInfoRequest #refName").click(function(C){$('#alphaInfoRequest div.half input[id="refName"]').focus();C.stopPropagation()});$("#alphaInfoRequest #refEmail").click(function(C){$('#alphaInfoRequest div.half input[id="refEmail"]').focus();C.stopPropagation()});$("#alphaInfoRequest #Organization").click(function(C){$('#alphaInfoRequest div.half input[id="Organization"]').focus();C.stopPropagation()});$("#alphaInfoRequest #Occupation").click(function(C){$('#alphaInfoRequest div.half input[id="Occupation"]').focus();C.stopPropagation()})})})});function sendAir(){var C=true;var B="required";var A="enter valid email address";if($("#alphaInfoRequest #refEmail").val().indexOf("@")==-1){$("#alphaInfoRequest #refEmail").blur().css("color","red").val(A).one("focus",function(){$(this).val("").css("color","black")});C=false}if($("#alphaInfoRequest #refName").val()==""||$("#refName").val()==B){$("#alphaInfoRequest #refName").blur().css("color","red").val(B).one("focus",function(){$(this).val("").css("color","black")});C=false}if($("#alphaInfoRequest #Organization").val()==""||$("#alphaInfoRequest #Organization").val()==B){$("#alphaInfoRequest #Organization").blur().css("color","red").val(B).one("focus",function(){$(this).val("").css("color","black")});C=false}if($("#alphaInfoRequest #Occupation").val()==""||$("#alphaInfoRequest #Occupation").val()==B){$("#alphaInfoRequest #Occupation").blur().css("color","red").val(B).one("focus",function(){$(this).val("").css("color","black")});C=false}if($("#air_source").val()==""||$("#air_source").val()==B){$("#air_source").blur().css("color","red").val(B).one("focus",function(){$(this).val("").css("color","black")});C=false}if($("#air_purpose").val()==""||$("#air_purpose").val()==B){$("#air_purpose").blur().css("color","red").val(B).one("focus",function(){$(this).val("").css("color","black")});C=false}if($("#air_deadline").val()==""||$("#air_deadline").val()==B){$("#air_deadline").blur().css("color","red").val(B).one("focus",function(){$(this).val("").css("color","black")});C=false}if(C){var D=$("#alphaInfoRequest").serializeArray();$("#alphaInfoRequest div.content").load("/input/sendDataSourceForm.jsp #dthanks",D,function(){$("#alphaInfoRequest .popup").addClass("submitted");alphaInfoReqTimeout=setTimeout('$("#alphaInfoRequest").remove()',10000)})}}function crosshair(D){if($(D).is('[data-attribution],[data-img],[data-color],[data-callout-tmpl="Facebook"]')){return }var C,A,F,E=D.getAttribute("coords").split(",");for(C=0;C<E.length;C++){E[C]=parseFloat(E[C])}var B=null;if($(D).parents(".sub").find("canvas").length>0){B=$(D).parents(".sub").find("canvas").get(0);A=$(D).parents(".sub").find("img").get(0)}F=$(D).parent();$(D).appendTo(F);if(!A||!E){return }if(B==null){B=document.createElement("canvas");A.parentNode.replaceChild(B,A)}$(B).addClass("ch");$(D).unbind().mousemove(function(I){if($.browser.msie&&$.browser.version<9){return }var H=B.getContext("2d");var M=0,J=0,K=B;do{M+=K.offsetLeft;J+=K.offsetTop}while(K=K.offsetParent);var G=I.pageX-M;var L=I.pageY-J;H.clearRect(E[0],E[1],E[2],E[3]);H.beginPath();H.strokeStyle="rgba(20,20,20,.3)";H.moveTo(G+0.5,E[1]);H.lineTo(G+0.5,E[3]);H.moveTo(E[0],L+0.5);H.lineTo(E[2],L+0.5);H.stroke();H.closePath()}).mouseleave(function(G){})}$(document).ready(function(){$("area[data-img], area[data-callout-tmpl]").live({mouseout:function(C){if($(C.relatedTarget).is("details")){return }var B="product";var A=$(this).attr("data-callout-tmpl");if(A){if(A=="Facebook"){B="fb_callout"}else{if(A=="CustomTooltip"){B="cstooltip_callout"}}}$(this).parents(".output").find("details."+B).remove()},mouseover:function(O){if(!$(this).attr("data-callout-tmpl")&&($(this).attr("data-attribution")||!$(this).attr("data-description"))){return }var D="";var A="";var P="product";var C=$(this).attr("data-callout-tmpl");if(C){if(C=="Facebook"){var R=$(this).attr("data-callout-name");var Q=$(this).attr("data-callout-image");var J=$(this).attr("data-callout-profile");var E=$(this).attr("data-callout-networks").split("|");var K="";for(var M=0;M<E.length;M++){if(M!=0){K+="<br />"}K+=E[M]}P="fb_callout";D='<summary><a href="'+J+'" target="_blank">'+R+"</a>"+(K!=""?'<br /><span class="fb_co_networks">'+K+"</span>":"")+'</summary><img src="'+Q+'" title="'+R+'" />';A=Q}else{if(C=="CustomTooltip"){var B=$(this).attr("data-callout-content");P="cstooltip_callout";D="<summary>"+B+"</summary>"}}}else{var N=$(this).attr("data-description");var I=$(this).attr("data-price");var Q=$(this).attr("data-img");var J=$(this).attr("data-url");D="<summary><span>"+N+'</span><br /><a href="'+J+'" target="_blank" class="price">$'+I+'</a></summary><img src="'+Q+'" title="'+N+'" />';A=Q}if(A!=""){$("."+P).remove();var L=$(this).attr("coords").split(",");var G=L[2]-L[0];var F=L[3]-L[1];$('<details open="open" class="'+P+' result_callout callout loading"><summary>Loading...<summary></details>').appendTo($(this).parents(".output").find("div").get(0)).css({left:+L[0]-30+(G/2)+"px",top:+L[1]+14+(F/2)+"px"}).mouseleave(function(S){$(this).fadeOut(function(){})});var H=new Image();H.src=A;$(H).load(function(){var S=H.width;var T=H.height>35?H.height:35;$("."+P).css({"padding-left":+S+20+"px",height:+T+"px"}).html(D);$("."+P+".loading").removeClass("loading");$("."+P+" summary").css("margin-top",$("."+P+" summary").height()/-2+"px")})}else{$(this).parents(".output").find("details."+P).remove();$('<details open="open" class="'+P+' result_callout callout loading"><summary>Loading...<summary></details>').appendTo($(this).parents(".output").find("div").get(0)).css({left:+(O.pageX-$(this).offset().left)-29+"px",top:+(O.pageY-$(this).offset().top)+14+"px"}).mouseleave(function(S){$(this).fadeOut(function(){$(this).remove()})});$("."+P).html(D);$("."+P+".loading").removeClass("loading")}}});$("details.fb_callout").live("click",function(A){window.open($(this).find("summary a:first").attr("href"))});$("details.fb_callout summary a:first").live("click",function(A){A.preventDefault()});$("area[data-callout-tmpl=CustomTooltip]").live("mousemove",function(A){$(this).parents(".output").find("details").css({left:+(A.pageX-$(this).offset().left)-29+"px",top:+(A.pageY-$(this).offset().top)+14+"px"})});$(".product img").live("click",function(A){window.open($(this).next("a").attr("href"))})});if(typeof window.waFade=="undefined"){window.waFade={}}waFade.results={unloadFn:function(A){if(typeof A!="undefined"&&A.ctrlKey){return }$("#results #loadingResults").hide();$("footer.common, #solutions, #weather, #lsidebar, #calcform-samplequeries").fadeOut(1000,function(){$("#results").children().hide();$("footerad").addClass("hide");$("#results, #results #loadingResults").show()})},setupExit:function(){$("#proside-related-q .content a, .pod area[href]:not([target]), aside#queries a, #assumptions a:not(.jump)").live("click",this.unloadFn);return this},init:function(){this.setupExit();return this}};$(document).ready(function(){waFade.results.init()});$(document).ready(function(){$("#proKeyboards a.key:not(.disabled)").live("mousedown",function(A){A.preventDefault();$(this).addClass("pressed");addChar($(this).data("key-value"));A=$.Event("keydown");A.which=65;$("input#i").trigger(A)});$("#proKeyboards").live("mouseup",function(){$(this).find(".pressed").removeClass("pressed");var A=document.getElementById("i");var B=A.value;setCaret(A,B.length,B.length);A.focus()});$("#i").focus(function(){firstFocus=false}).blur(function(A){if(!$(A.targetElement).hasClass("key")){firstFocus=true}else{firstFocus=false}});tooltip='<div class="tooltipArrow"></div><span class="tooltip"></span>';$("#proKeyboards a.key:not(.disabled)").live("mouseover",function(B){var A;$(this).append(tooltip);A=$(this).find(".tooltip");A.html($(this).data("key-string"));if($(this).data("key-string").length<5){A.addClass("short_ttip")}return A.css("margin-right","-"+(A.width()/2)+"px")});$("#proKeyboards a.key:not(.disabled)").live("mouseout",function(A){return $(this).find(".tooltip, .tooltipArrow").remove()});$("#proKeyboards a.key.disabled").live("click",function(A){A.preventDefault()})});var firstFocus=true;function setCaret(C,D,A){var B;if(C.setSelectionRange){C.focus();C.setSelectionRange(D,A)}else{if(C.createTextRange){var B=C.createTextRange();B.collapse(true);B.moveEnd("character",A);B.moveStart("character",D);B.select()}}}function addChar(B){var A=document.getElementById("i");var C=A.value;if(firstFocus){setCaret(A,C.length,C.length);firstFocus=false}var D=getCaret(A);A.value=C.substring(0,D[0])+B+C.substring(D[1],C.length);setCaret(A,D[0]+1,D[0]+1);prevFocus=D[0]+1}function getCaret(E){var H=0,C=0,G,D,B,A,F;if(typeof E.selectionStart=="number"&&typeof E.selectionEnd=="number"){H=E.selectionStart;C=E.selectionEnd}else{D=document.selection.createRange();if(D&&D.parentElement()==E){A=E.value.length;G=E.value.replace(/\r\n/g,"\n");B=E.createTextRange();B.moveToBookmark(D.getBookmark());F=E.createTextRange();F.collapse(false);if(B.compareEndPoints("StartToEnd",F)>-1){H=C=A}else{H=-B.moveStart("character",-A);H+=G.slice(0,H).split("\n").length-1;if(B.compareEndPoints("EndToEnd",F)>-1){C=A}else{C=-B.moveEnd("character",-A);C+=G.slice(0,C).split("\n").length-1}}}}return[H,C]}$(document).ready(function(){$("#footerad  iframe").load(function(){$("#footerad").removeClass("hide")})});if(typeof XMLHttpRequest.prototype.sendAsBinary=="undefined"){XMLHttpRequest.prototype.sendAsBinary=function(D){var C=new ArrayBuffer(D.length);var A=new Uint8Array(C,0);for(var B=0;B<D.length;B++){A[B]=(D.charCodeAt(B)&255)}this.send(C)}}function generateRandomBoundaryNumber(){return""+Math.floor(Math.random()*1000)+""+Math.floor(Math.random()*1000)+""+Math.floor(Math.random()*1000)+""}function fileapiUpload(N){var B=N.url;var G=N.fieldname;var K=N.success;var A=N.progress;var H=N.file;var I=N.error;var E=N.data;var J=N.dataMethod=="url";var C="---"+generateRandomBoundaryNumber()+"---";var L=new XMLHttpRequest();if(typeof E!="undefined"&&J){var M="";for(var D in E){if(M!=""){M+="&"}M+=D+"="+escape(E[D])}B+="?"+M}var F=new FileReader();F.onload=function(Q){if(typeof L.addEventListener!="undefined"){if(typeof A!="undefined"){L.upload.addEventListener("progress",A,false)}if(typeof K!="undefined"){L.addEventListener("load",function(T){var R=this;var U=R.response;var S=R.status;K(U,S,T)},false)}}L.open("POST",B,true);L.setRequestHeader("Content-Type",'multipart/form-data; charset=ISO-8859-1; boundary="'+C+'"');var O="";if(typeof E!="undefined"&&!J){for(var P in E){O+="--"+C+'\r\nContent-Disposition: form-data; name="'+P+'"\r\n\r\n'+E[P]+"\r\n"}}O+="--"+C+'\r\nContent-Disposition: form-data; name="'+G+'"; filename="'+H.name+'"\r\nContent-Type: application/octet-stream; charset=ISO-8859-1\r\n\r\n'+Q.target.result+"\r\n";O+="--"+C+"--";L.sendAsBinary(O)};F.readAsBinaryString(H);return L}(function(D){var B="ar"+ +new Date,E=C.defaults={onResize:function(){},animate:{duration:200,complete:function(){}},extraSpace:50,minHeight:"original",maxHeight:500,minWidth:"original",maxWidth:500};C.cloneCSSProperties=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","paddingTop","paddingLeft","paddingBottom","paddingRight","width"];C.cloneCSSValues={position:"absolute",top:-9999,left:-9999,opacity:0,overflow:"hidden"};C.resizableFilterSelector=["textarea:not(textarea."+B+")","input:not(input[type])","input[type=text]","input[type=password]","input[type=email]","input[type=url]"].join(",");C.AutoResizer=A;D.fn.autoResize=C;function C(F){this.filter(C.resizableFilterSelector).each(function(){new A(D(this),F)});return this}function A(G,F){if(G.data("AutoResizer")){G.data("AutoResizer").destroy()}F=this.config=D.extend({},C.defaults,F);this.el=G;this.nodeName=G[0].nodeName.toLowerCase();this.originalHeight=G.height();this.previousScrollTop=null;this.value=G.val();if(F.maxWidth==="original"){F.maxWidth=G.width()}if(F.minWidth==="original"){F.minWidth=G.width()}if(F.maxHeight==="original"){F.maxHeight=G.height()}if(F.minHeight==="original"){F.minHeight=G.height()}if(this.nodeName==="textarea"){G.css({resize:"none",overflowY:"hidden"})}G.data("AutoResizer",this);this.createClone();this.injectClone();this.bind()}A.prototype={bind:function(){var F=D.proxy(function(){this.check();return true},this);this.unbind();this.el.bind("keyup.autoResize",F).bind("change.autoResize",F).bind("paste.autoResize",function(){setTimeout(function(){F()},0)});this.check(null,true)},unbind:function(){this.el.unbind(".autoResize")},createClone:function(){var F=this.el,G=this.nodeName==="textarea"?F.clone():D("<span/>");this.clone=G;D.each(C.cloneCSSProperties,function(H,I){G[0].style[I]=F.css(I)});G.removeAttr("name").removeAttr("id").addClass(B).attr("tabIndex",-1).css(C.cloneCSSValues);if(this.nodeName==="textarea"){G.height("auto")}else{G.width("auto").css({whiteSpace:"nowrap"})}},check:function(L,J){var I=this.config,M=this.clone,H=this.el,N=H.val();if(this.nodeName==="input"){M.text(N);var O=M.width(),K=(O+I.extraSpace)>=I.minWidth?O+I.extraSpace:I.minWidth,G=H.width();K=Math.min(K,I.maxWidth);if((K<G&&K>=I.minWidth)||(K>=I.minWidth&&K<=I.maxWidth)){I.onResize.call(H);H.scrollLeft(0);I.animate&&!J?H.stop(1,1).animate({width:K},I.animate):H.width(K)}return }M.width(H.width()).height(0).val(N).scrollTop(10000);var F=M[0].scrollTop;if(this.previousScrollTop===F){return }this.previousScrollTop=F;if(F+I.extraSpace>=I.maxHeight){H.css("overflowY","");F=I.maxHeight;J=true}else{if(F<=I.minHeight){F=I.minHeight}else{H.css("overflowY","hidden");F+=I.extraSpace}}I.onResize.call(H);I.animate&&!J?H.stop(1,1).animate({height:F},I.animate):H.height(F)},destroy:function(){this.unbind();this.el.removeData("AutoResizer");this.clone.remove();delete this.el;delete this.clone},injectClone:function(){(C.cloneContainer||(C.cloneContainer=D("<arclones/>").appendTo("body"))).append(this.clone)}}})(jQuery);(function(Q,P,O){function K(R,U){var T=P.createElement(R||"div"),S;for(S in U){T[S]=U[S]}return T}function J(S){for(var R=1,T=arguments.length;R<T;R++){S.appendChild(arguments[R])}return S}function H(Z,Y,X,W){var V=["opacity",Y,~~(Z*100),X,W].join("-"),U=0.01+X/W*100,T=Math.max(1-(1-Z)/Y*(100-U),Z),S=L.substring(0,L.indexOf("Animation")).toLowerCase(),R=S&&"-"+S+"-"||"";return M[V]||(I.insertRule("@"+R+"keyframes "+V+"{0%{opacity:"+T+"}"+U+"%{opacity:"+Z+"}"+(U+0.01)+"%{opacity:1}"+(U+Y)%100+"%{opacity:"+Z+"}100%{opacity:"+T+"}}",0),M[V]=1),V}function G(S,R){var V=S.style,U,T;if(V[R]!==O){return R}R=R.charAt(0).toUpperCase()+R.slice(1);for(T=0;T<N.length;T++){U=N[T]+R;if(V[U]!==O){return U}}}function F(S,R){for(var T in R){S.style[G(S,T)||T]=R[T]}return S}function E(S){for(var R=1;R<arguments.length;R++){var U=arguments[R];for(var T in U){S[T]===O&&(S[T]=U[T])}}return S}function D(S){var R={x:S.offsetLeft,y:S.offsetTop};while(S=S.offsetParent){R.x+=S.offsetLeft,R.y+=S.offsetTop}return R}var N=["webkit","Moz","ms","O"],M={},L,I=function(){var R=K("style");return J(P.getElementsByTagName("head")[0],R),R.sheet||R.styleSheet}(),C={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:0.25,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto"},B=function A(R){if(!this.spin){return new A(R)}this.opts=E(R||{},A.defaults,C)};B.defaults={},E(B.prototype,{spin:function(n){this.stop();var l=this,g=l.opts,f=l.el=F(K(0,{className:g.className}),{position:"relative",zIndex:g.zIndex}),Z=g.radius+g.length+g.width,Y,X;n&&(n.insertBefore(f,n.firstChild||null),X=D(n),Y=D(f),F(f,{left:(g.left=="auto"?X.x-Y.x+(n.offsetWidth>>1):g.left+Z)+"px",top:(g.top=="auto"?X.y-Y.y+(n.offsetHeight>>1):g.top+Z)+"px"})),f.setAttribute("aria-role","progressbar"),l.lines(f,l.opts);if(!L){var W=0,V=g.fps,U=V/g.speed,T=(1-g.opacity)/(U*g.trail/100),S=U/g.lines;!function R(){W++;for(var b=g.lines;b;b--){var c=Math.max(1-(W+b*S)%U*T,g.opacity);l.opacity(f,g.lines-b,c,g)}l.timeout=l.el&&setTimeout(R,~~(1000/V))}()}return l},stop:function(){var R=this.el;return R&&(clearTimeout(this.timeout),R.parentNode&&R.parentNode.removeChild(R),this.el=O),this},lines:function(S,R){function T(W,X){return F(K(),{position:"absolute",width:R.length+R.width+"px",height:R.width+"px",background:W,boxShadow:X,transformOrigin:"left",transform:"rotate("+~~(360/R.lines*V+R.rotate)+"deg) translate("+R.radius+"px,0)",borderRadius:(R.width>>1)+"px"})}var V=0,U;for(;V<R.lines;V++){U=F(K(),{position:"absolute",top:1+~(R.width/2)+"px",transform:R.hwaccel?"translate3d(0,0,0)":"",opacity:R.opacity,animation:L&&H(R.opacity,R.trail,V,R.lines)+" "+1/R.speed+"s linear infinite"}),R.shadow&&J(U,F(T("#000","0 0 4px #000"),{top:"2px"})),J(S,J(U,T(R.color,"0 0 1px rgba(0,0,0,.1)")))}return S},opacity:function(S,R,T){R<S.childNodes.length&&(S.childNodes[R].style.opacity=T)}}),!function(){function S(U,T){return K("<"+U+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',T)}var R=F(K("group"),{behavior:"url(#default#VML)"});!G(R,"transform")&&R.adj?(I.addRule(".spin-vml","behavior:url(#default#VML)"),B.prototype.lines=function(h,a){function X(){return F(S("group",{coordsize:Y+" "+Y,coordorigin:-Z+" "+-Z}),{width:Y,height:Y})}function T(c,f,d){J(V,J(F(X(),{rotation:360/a.lines*c+"deg",left:~~f}),J(F(S("roundrect",{arcsize:1}),{width:Z,height:a.width,left:a.radius,top:-a.width>>1,filter:d}),S("fill",{color:a.color,opacity:a.opacity}),S("stroke",{opacity:0}))))}var Z=a.length+a.width,Y=2*Z,W=-(a.width+a.length)*2+"px",V=F(X(),{position:"absolute",top:W,left:W}),U;if(a.shadow){for(U=1;U<=a.lines;U++){T(U,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(U=1;U<=a.lines;U++){T(U)}return J(h,V)},B.prototype.opacity=function(U,T,X,W){var V=U.firstChild;W=W.shadow&&W.lines||0,V&&T+W<V.childNodes.length&&(V=V.childNodes[T+W],V=V&&V.firstChild,V=V&&V.firstChild,V&&(V.opacity=X))}):L=G(R,"animation")}(),Q.Spinner=B})(window,document);$.fn.extend({fadeOutRemove:function(A){$(this).fadeOut(A||300,function(){$(this).remove()})}});var prefboxRequest;var resetPreferencesSidebar=function(A,C){if(typeof prefboxRequest!="undefined"){prefboxRequest.abort()}var B=findOpenProsideItem();if(C){$("body.proside-layer2").removeClass("proside-layer2")}else{$("body.proside-layer2").removeClass("proside-layer2");$("#lightboxOverlay").hide()}$("#proSidebar .heading.open").removeClass("open");$("#historyctrl-deletepop").remove();$("#proSidebar .subsectionNav.openSubNav").removeClass("openSubNav");if(!$(B).hasClass("expanded")){closeExpandedSidebar()}$("#addToFavForm").fadeOut();if($("#subpanel #subpanel-customize").length>0){$("#subpanel").fadeOut(300,function(){$(this).remove()})}closeDidYouKnow();$("#proSidebar .heading span.arrow, #proSidebar .subsectionNav span.arrow").hide();$("#preferenceBox").fadeOut(200);cleanupFileCtrlPopups()};var findOpenProsideItem=function(){return $("#proSidebar").find(".open, .openSubNav")};var closeExpandedSidebar=function(){$("#proSidebar").find(".expanded.expands").trigger("click.submenu")};var closeDidYouKnow=function(){var A=$("#favs-didyouknow");if(A.length>0){A.fadeOutRemove()}};function unexpandLeftSidebarMenu(A){$("body").removeClass("proside-layer2");$("#lsidebar .arrow").hide();if(typeof A!=="undefined"&&A){resetPreferencesSidebar("",A)}else{resetPreferencesSidebar()}}var manipPrefArrow=function(A){$("#lsidebar span.arrow").remove();$(A).append('<span class="arrow"></span>');arrowel=$("#lsidebar span.arrow");if($(A).is("li")){arrowel.addClass("list-arrow")}else{if(A.parent("#proside-favorites").length>0){arrowel.addClass("favorites-arrow")}}};var setupSpinner=function(A){var C={lines:12,length:10,width:4,radius:10,color:"#555",speed:0.9,trail:60,shadow:false};$("#lsidebar .proside-loading2-subnav, #lsidebar .proside-loading2").remove();var D=new Spinner(C).spin();var B=A.is(".subsectionNav")?"proside-loading2-subnav":"proside-loading2";$(D.el).addClass(B);return D};var preferenceBoxLoad=function(A,C){$("#addToFavForm").fadeOut();$("#historyctrl-deletepop").remove();showLsidebar();if(user.isEnabled("signedin")!==null){$(".proside-loading").remove();$("ul.subnav").hide();var D=setupSpinner(A);$("#preferenceBox").html("<div id='spinContainer' style='position: absolute; right: 300px; top: 150px; display: block;'></div>");D.el.style["float"]="none";$("#spinContainer").html(D.el);$("#preferenceBox").fadeIn(200);var B=$.get(C,{_:""+new Date().getTime()},function(F,E){$("#preferenceBox").html(F);$(D.el).removeClass();D.stop();A.removeClass("empty")}).done(function(){if(A.parent("#proside-uploads").length>0||A.is(".subsectionNav")){$("ul.subnav").show();$("#proSidebar .heading.open").addClass("open")}});if(typeof prefboxRequest!="undefined"){prefboxRequest.abort()}prefboxRequest=B}else{$("#preferenceBox").fadeIn(100);A.removeClass("empty")}if(A.is(".heading")){$("#proSidebar .heading.open").removeClass("open")}$("#proSidebar .subsectionNav.openSubNav").removeClass("openSubNav");$("body").addClass("proside-layer2");$("#verify-popup.lightbox").fadeOutRemove(300);$("#popanchor").children().fadeOutRemove();if(!A.parent("#proside-history").length>0){closeDidYouKnow()}hideCDFContent();$("body").trigger("click.removeAuthbox");$("#lightboxOverlay").show();if(A.is(".heading")){A.addClass("open")}else{A.addClass("openSubNav")}};function prefBoxPopupsCleanup(){$("#filectrl-deletepop, #filectrl-renamepop, #rawdatauploads-editpop").remove()}var recentlyOpened=false;var preferenceBox=function(A,C,B){if(typeof B!=="undefined"&&typeof A[0]!=="undefined"){if(A[0].id==="proside-downloaddata"||(A[0].id==="proside-preferences"&&!user.isEnabled("signedin"))||A[0].id==="proside-uploads-images"||A[0].id==="proside-uploads-rawdata"||A[0].id==="proside-uploads-generic"||A.closest("#proside-uploads").length>0){C=determineTrialButton(C,B)}else{if(!user.isEnabled("signedin")){C=B}}}if(A.not("li").length>0){A=A.find(".heading")}A.live("click.prefbox",function(J){J.preventDefault();J.stopPropagation();prefBoxPopupsCleanup();var E=$(A[0]).hasClass("subsectionNav")?true:false;var F=$("#proside-uploads").find(".expanded").length>0?true:false;var D=(A.is(".open")||A.is(".openSubNav"))?true:false;var H=$(A[0]).hasClass("expands")?true:false;if(H&&!F){var G=$(A[0]);G.addClass("expanded");G.siblings("ul.subnav").slideDown("fast")}else{if(H&&F){return }}if(A){if(A.parent()[0]){if(A&&A.parent()&&((A.parent()[0].id==="proside-account"&&!user.isEnabled("signedin"))||A.parent()[0].id==="proside-uploads")&&typeof B=="function"){B();return }}}if((user.isEnabled("signedin")&&A.is("a#proside-preference"))&&typeof C=="function"){console.log("gree");C();return }if(D){}else{if(!D&&F&&!E&&!recentlyOpened&&typeof C!="undefined"){var I=$("#proSidebar").find(".expanded");if(I.hasClass("expanded")){I.removeClass("expanded")}$("#proside-uploads").find("ul.subnav").slideUp("fast");preferenceBoxLoad(A,C)}else{if(typeof C!="undefined"){preferenceBoxLoad(A,C)}}}})};var resetProBar=function(){var A=$("#proSidebar");$("#proSidebar .heading span.arrow, #proSidebar .subsectionNav span.arrow").hide();A.find("ul.subnav").slideUp("fast");var C=A.find(".expanded");if(C.length>0){$(C[0]).removeClass("expanded")}var B=A.find(".openSubNav");if(B.length>0){$(B[0]).removeClass("openSubNav")}var D=A.find(".open");if(D.length>0){$(D[0]).removeClass("open")}};var determineTrialButton=function(E,C){var B="?";var D=C+"";var A=C;if(D.indexOf("?")>-1){B="&"}if(user.isEnabled("hassubscription")||((E=="/input/pro/leftsidebar/uploads/images.jsp"||E=="/input/pro/leftsidebar/uploads/rawdata.jsp"||E=="/input/pro/leftsidebar/uploads/fileuploads.jsp")&&user.isEnabled("signedin"))){A=E;if(user.isEnabled("hasCancelled")||user.isEnabled("hadpaidsubscription")){A+="?cancelled=1"}}else{if(user.isEnabled("trialeligible")&&user.isEnabled("signedin")){A=C+B+"freetrial=1";if(user.isEnabled("hasCancelled")||user.isEnabled("hadpaidsubscription")){A+="&cancelled=1"}}else{if(user.isEnabled("needsupgrade")){A=C+B+"upgrade=1";if(user.isEnabled("hasCancelled")||user.isEnabled("hadpaidsubscription")){A+="&cancelled=1"}}else{A=C;if(user.isEnabled("hasCancelled")||user.isEnabled("hadpaidsubscription")){A+=B+"cancelled=1"}}}}return A};var showFirstSubNav=function(A){return function(){var B=A.find("a.heading");if(!B.hasClass("open")&&B.siblings("ul.subnav").find("li.openSubNav").length<1){var C=A.find("li").first();setTimeout(function(){C.click()},40)}else{B.addClass("shutdown");resetPreferencesSidebar()}}};var showAccountSignin=function(){var B=function(){window.location.href=removeTrailingPound(window.location.href)};var A=function(){$.cookie("wa_pro_newuser","true",{domain:".wolframalpha.com",path:"/"});window.location.href=removeTrailingPound(window.location.href)};resetPreferencesSidebar(null,true);sendTracking("signin",$(this).attr("id"));setupSignInLB(B,A,"none")};function showLsidebar(){if($("#proSidebar").css("display")==="none"){$("#proSidebar").show()}if($("#lsidebar").css("display")==="none"){$("#lsidebar").show()}}function hideLsidebar(){if($("#proSidebar").length!=0&&$("#proSidebar").is(":visible")){$("#proSidebar, #lsidebar, #lightboxOverlay").hide()}}$(document).ready(function(){$("#lightboxOverlay").live("click",hideLsidebar);var A=[".button_signin",".account-trial",".startfreetrial",".account-create",".claimdiscount"];$("#calculatecontain, #computed,  #preferenceBox, #subpanel").delegate(A.join(", "),"click.signin",function(B){resetPreferencesSidebar(null,true);$("#subpanel, .traypopup").fadeOutRemove()});preferenceBox($("#proside-preferences"),"/input/pro/leftsidebar/preferences/general.jsp","/input/pro/leftsidebar/ads/preferences.jsp");preferenceBox($("#proside-uploads"),"/input/pro/leftsidebar/uploads/images.jsp","/input/pro/leftsidebar/ads/uploads.jsp?images=1&source=img");preferenceBox($("#proside-uploads-images"),"/input/pro/leftsidebar/uploads/images.jsp","/input/pro/leftsidebar/ads/uploads.jsp?images=1&source=img");preferenceBox($("#proside-uploads-rawdata"),"/input/pro/leftsidebar/uploads/rawdata.jsp","/input/pro/leftsidebar/ads/uploads.jsp?rawdata=1&src=data");preferenceBox($("#proside-uploads-generic"),"/input/pro/leftsidebar/uploads/fileuploads.jsp","/input/pro/leftsidebar/ads/uploads.jsp?fileuploads=1&src=upload");preferenceBox($("#proside-favorites"),"/input/pro/leftsidebar/queries/favorites.jsp","/input/pro/leftsidebar/ads/favorites.jsp");preferenceBox($("#proside-history"),"/input/pro/leftsidebar/queries/history.jsp","/input/pro/leftsidebar/ads/history.jsp");preferenceBox($("#proside-downloaddata"),"/input/pro/leftsidebar/downloads.jsp","/input/pro/leftsidebar/ads/downloaddata.jsp");preferenceBox($("#proside-account"),"/input/pro/leftsidebar/account/",showAccountSignin);preferenceBox($("#proside-uploads"),showFirstSubNav($("#proside-uploads")),showFirstSubNav($("#proside-uploads")));$("#authbox-top").live("click",function(B){$("body").trigger("click.removeAuthbox")});$("#auth-favorites").live("click",function(B){B.preventDefault();showLsidebar();$("#proside-favorites").find(".heading").trigger("click.prefbox")});$("#auth-history").live("click",function(B){B.preventDefault();showLsidebar();$("#proside-history").find(".heading").trigger("click.prefbox")});$("#auth-data").live("click",function(B){B.preventDefault();showLsidebar();$("#proside-downloaddata").find(".heading").trigger("click.prefbox")});$("#auth-uploads").live("click",function(B){B.preventDefault();showLsidebar();$("#proside-uploads").find(".heading").trigger("click")});$("#auth-preferences").live("click",function(B){B.preventDefault();showLsidebar();$("#proside-preferences > a.heading").trigger("click")});$("#auth-account").live("click",function(B){B.preventDefault();showLsidebar();$("#proside-account").find(".heading").trigger("click.prefbox")});$("#show-billing-history").live("click",function(B){B.preventDefault();if($("#billinghistory-lightbox").length>0){$("#account-lightbox").fadeOut("fast",function(){$("#billinghistory-lightbox").fadeIn()});if($("#payment-history.pod-subcontent").length>0){$("#payment-history").fadeIn()}else{$.get($(this).attr("href"),{},function(C){$("#payment-history").fadeOut("fast",function(){$("#payment-history").replaceWith($(C).find("#payment-history")).fadeIn()})})}}else{$.get($(this).attr("href"),{},function(C){$("#account-lightbox").fadeOut().after(C);$("#billinghistory-lightbox").fadeIn()})}});$("#updatePaymentMethod").live("click",function(C){var B=removeTrailingPound(window.location.href);$.cookie("wa_pro_updatebilling_redirect",encodeURIComponent(B),{domain:".wolframalpha.com",path:"/"})});$("#cancelSubscription").live("click",function(C){var B=removeTrailingPound(window.location.href);$.cookie("wa_pro_cancel_redirect",encodeURIComponent(B),{domain:".wolframalpha.com",path:"/"})});$("#back-to-account").live("click",function(B){B.preventDefault();if($("#account-lightbox").length>0){$("#billinghistory-lightbox").fadeOut("fast",function(){$("#account-lightbox").fadeIn()})}else{$.get($(this).attr("href"),{},function(C){$("#billinghistory-lightbox").fadeOut().before(C)})}});if(getURLParam("asdasd")!=""){$("#proside-downloaddata").click()}$("#proSidebar > .close").live("click",function(B){hideLsidebar();resetProBar()});$("#preferenceBox a.close").live("click",function(B){resetProBar();$("#historyctrl-deletepop").remove()});$("#histData .details .tags a").die("click").live("click",function(B){B.preventDefault();preferenceBoxLoad($("#proside-favorites .heading"),$(this).attr("href"))});$(".zero-state-open-tray").live("click",function(C){if(!$("#calculate").hasClass("index")){var B=$(this).attr("id").replace("open-tray-","");$(this).parents(".contentpod").children(".close").click();$("body").removeClass("proside-layer2");hideLsidebar();resetProBar();openInputMethodTab(B)}})});var cdfTypes={New:"Get exclusive content in your results.",Crosshairs:"Follow data closer with crosshairs on plot axes.",Tooltip:"View point values with plot coordinate tooltips.",Resizeable:"Resize images for a closer view.",Rotation:"Rotate, scale, and zoom 3D graphics.",EnhancedControl:"Move controls and sliders to change settings",MeshControl:"Move controls and sliders to change settings.",RangeControl:"Change ranges of independent variables.",Animation:"Visualize dynamic processes and view animations.",ImageProcessing:"Apply a variety of effects to images.",Coordinates:"View point values with plot coordinate tooltips."};function cdfPopup(B,A){$(".cdf.callout").remove();if(user.isEnabled("cdfinteractive")){B.append('                <div id="'+B.attr("id")+'_cdf" class="cdf callout" style="display: none;">                 <div class="buttons">                   <a class="get" href="/pro/download-cdf-player.html?src=callout" target="_blank">                     Get CDF Player &raquo;                      </a>                                </div>                                <a class="close">x</a>                                  <p>Interactivity requires the installation of the CDF Player.</p>                <br class="clear" />                                   </div>');B.find("#"+B.attr("id")+"_cdf").fadeIn(200)}$(".callout .close, .callout .remind").die("click").live("click",function(C){$.get("/interactive.txt?dismiss=true");$(this).closest(".sub").find("a.subpod-interactive").fadeIn(200);$(this).fadeOut(300)});$(".callout .remind").live("click",function(C){setTimeout(function(){$.cookie("WolframAlphaCDFCallouts","false",{expires:7,domain:".wolframalpha.com"})},1)});$(".callout .remind, .callout .close").die("click").live("click",function(C){setTimeout(function(){var D=$.cookie("WolframAlphaCDFRejections");if(D===null||D===undefined){D=1;$.cookie("WolframAlphaCDFRejections",D,{expires:30,domain:".wolframalpha.com"})}else{$.cookie("WolframAlphaCDFRejections",Number(D)+1,{expires:30,domain:".wolframalpha.com"})}$.get("/callout.txt",{num:D});$(C.currentTarget).siblings("a.subpod-interactive").fadeIn(200);$(".pod-interactive").fadeIn(200)},1)})}function placeCdfPopup(A){$(".pod-interactive").fadeIn(200);$("a.subpod-interactive",A).fadeIn(200);if($(A).find(".cdf.callout").length>=1){$(A).find(".cdf.callout").fadeIn(200)}else{cdfPopup($(A),getURLParam("cdf",$(A).find('img[src*="cdf"]').attr("src")));$.get("/interactive.txt?impression=true")}}$(document).ready(function(){if($.cookie("WolframAlphaCDFCallouts")==="false"){return }});var uploadingData={};uploadingData.overwriteList={};uploadingData.currentUploads=[];uploadingData.currentUploadsRenameMap={};function findUploadIdxByXHR(B){for(var A in uploadingData.currentUploads){if(uploadingData.currentUploads[A].xhr==B){return A}}return -1}function findUploadIdxByXHRU(B){for(var A in uploadingData.currentUploads){if(uploadingData.currentUploads[A].xhr.upload==B){return A}}return -1}function isCurrentUploadsDone(){for(var A in uploadingData.currentUploads){if(uploadingData.currentUploads[A].status!="done"){return false}}return true}function extractFileExtension(A){A=$.trim(A);if(A.lastIndexOf(".")<0){return""}return A.substring(A.lastIndexOf(".")).toUpperCase().substring(1)}function extractFileExtensionNoCase(A){A=$.trim(A);if(A.lastIndexOf(".")<0){return""}return A.substring(A.lastIndexOf(".")).substring(1)}function extractEarlyFileExtension(A){return extractEarlyFileExtension(A).toUpperCase()}function extractEarlyFileExtensionNoCase(A){A=$.trim(A);if(A.indexOf(".")<0){return""}return A.substring(A.indexOf(".")).substring(1)}function removeFileExtension(A){A=$.trim(A);var B=A.lastIndexOf(".");if(B==-1){return A}else{return A.substring(0,B)}}function removeFirstSlash(A){while(A.indexOf("/")==0){A=A.substring(1)}return A}function isImageExtension(A){return $.inArray(A,["GIF","JPEG","PNG","TIFF","JPEG2000","BMP","ACO","ICO","TGA","PBM","PGM","PNM","PPM","PXR","SCT","PCX","XBM","JPG","JP2","TIF"])>-1}function isDatasetExtension(A){return false}function fromLastDir(A){return A.substring(A.lastIndexOf("/"))}function userCloudFileExists(C){if($.browser.msie){var B=$.browser.version.substring(0,$.browser.version.indexOf("."));if(B<8){return false}}var A=false;$.ajax({url:"/CloudStore/"+C,data:{action:"exists",_:(new Date()).getTime()},async:false,dataType:"json",cache:false,success:function(F,E,D){if(F.success){A=true}}});return A}function userCloudFileExistsAsync(B,A){$.ajax({url:"/CloudStore/"+B,dataType:"json",data:{action:"exists",_:(new Date()).getTime()},success:function(D,C,E){if(typeof A=="function"){A(D.success)}}})}function userCloudFilesExistAsync(B,A){$.ajax({url:"/CloudStore/",dataType:"json",data:mapToURLParams({action:"exists_m"})+arrayToURLParams(B,"path"),success:function(D,C){if(typeof A=="function"){A(D)}}})}function generateFileInputMarkup(B,E,D){if(typeof B=="undefined"){B=""}if(typeof E=="undefined"){E=""}if(typeof D=="undefined"){D=""}else{classes=D.split(" ");D="";for(var C in classes){D+="infile-"+classes[C]+" "}}var A="";A='     <div class="inputfile-tag '+D+'" data-filepath="'+E+'">       <div class="inputfile-tagicon"></div>       <div class="inputfile-tagname">         '+B+'       </div>       <a class="inputfile-remove"></a>       <br class="clear" />     </div>     ';return A}function removeFileInput(){if($("#calculate .inputfile-tag").length<1){return }var A=5;var B=$("#i").width()+$("#calculate .inputfile-tag").innerWidth()+A;var C=(window.location.href.indexOf(".wolframalpha.com/input/")==-1?445:B);$("#calculate .inputfile-tag").remove();$("form#calculate input#i").css({width:C,"padding-left":0});$("#calcform-samplequeries").remove()}$("#calculate .inputfile-tag .inputfile-remove").live("click",function(A){A.preventDefault();removeFileInput()});function fileInputNameTruncation(A,C,F){var D,B;var E=A.lastIndexOf(".");if(E<0){D=A;B=""}else{D=A.substring(0,E);B=A.substring(E+1)}D=D.replace("/WolframAlphaProUploads/","");D=D.replace("/WolframAlphaProDatasets/","");C=(typeof C=="undefined"?25:C);F=(typeof F=="undefined"?10:F);if(D.length>C){D=D.substring(0,C)+"..."}if(B.length>F){B=B.substring(0,F)+"..."}if(B!=""){return D+"."+B}else{return D}}function selectFileInput(A,N,E,O){var J=(typeof O=="undefined"||O.initQuery==null?false:O.initQuery);if(!J){$("#star-inputfield").hide();if($("#calculate .inputfile-tag").length<1){$("#i").val("")}}N=$.trim(N);var I=fileInputNameTruncation(A);var D=5;var L=generateFileInputMarkup(I,N,E);var M=(window.location.href.indexOf("wolframalpha.com/input/")==-1?445:$("#i").width());$("#calculate .inputfile-tag").remove();$("#calculate fieldset").prepend(L);var C=$("#calculate .inputfile-tag").slice(0,1);C.show();var H=C.innerWidth();$("form#calculate input#i").css({width:(M-H-D)+"px","padding-left":(H+D)+"px"}).redraw().get(0).value+="";if(!J&&C.hasClass("infile-image")){var K=$.cookie("WolframAlphaBlockSampleQueries_imglib");if(K==null||K!="true"){var F=["analyze image","decrease brightness by .5","embossing effect","find edges","Gaussian blur with radius"];var G={showBlockingOption:true,blockingCookie:"WolframAlphaBlockSampleQueries_imglib"};$("#calcform-samplequeries").remove();var B=markupSamplesQueriesList(F,"image",G);$(B).appendTo("#calculatecontain")}}}function generateURLUploadErrorPopup(B){var A;if(B=="NOTFOUND"){A="<b>Remote file could not be found.</b><br/>Please check your URL and try again."}else{if(B=="ACCESSDENIED"){A="<b>Remote file could not be accessed by Wolfram|Alpha.</b><br/>Please check your URL and try again."}else{if(B=="FILESIZELIMITEXCEEDED"){A="<b>Sorry, the file size exceeds the current limit of 1MB.</b><br/>Please reduce the size of the image and try again."}else{A="<b>An error occurred with your upload.</b><br/>Please try again."}}}markup='    <div id="urlupload-error" class="lightbox lightbox-rounded lightbox-shadows">       <a href="#" class="close remove">X</a>       <div id="urlupload-error-wrap">         <p class="urlupload-error-msg"> '+A+"</p>       </div>     </div>   ";return markup}function determineTrayButtonStates(A){if(getURLParam("blockme")=="1"){return"B"}else{if(user.isEnabled(A)&&!user.isEnabled("uploadblocked")){return""}else{if(user.isEnabled("uploadblocked")){return"B"}else{if(A!=="copyplaintext"&&A!=="cdf"){$(document.body).addClass("adside-layer");$("#lightboxOverlay").add("#logo").addClass("ad-overlay").show()}else{$("footer#computed").addClass("popup-active")}return user.isEnabled("needsupgrade")?"1":"0"}}}}function showURLUploadPreprocessing(){var C=$("#urlupload-progress");var A=C.data("filetrunc");var B="Processing "+A;C.find("#urlupload-progcontain").html(B)}function generateURLUploadProgress(A){var B=A;if(B.length>40){B=B.substring(0,37)+"..."}return'     <div id="urlupload-progress" class="lightbox-shadows lightbox-rounded" data-filetrunc="'+B+'">       <div id="urlupload-progcontain">         Retrieving '+B+"       </div>     </div>   "}function showURLUploadProgress(A){var B=generateURLUploadProgress(A);$("body").append(B);$("#lightboxOverlay").fadeIn();$("#urlupload-progress").css({top:scrollPositionY()+200}).show()}function generateUploadErrorMessage(C,A){var B="";if(C=="SIZELIMITEXCEEDED"){B="<b>Sorry, the file size exceeds the current limit of "+(A!==undefined?A:"1MB")+".</b><br/>Please reduce the size of the file and try again."}return B}function openInputMethodTab(D){hideCDFContent();closeInputDropDown();var G=$("#inputtab-"+D);var C="inputpanel-"+D;var A=$("#"+C);var F=$("#inputTabs .inputpanel.open");var E=$("#try-it");var H=$("#inputTabs");if(typeof openInputMethodTab.last=="undefined"){openInputMethodTab.last=new Date().getTime()}var B=new Date().getTime();if(F.length<1){$("#inputTabs .inputpanel").hide();F.removeClass("open");A.show();H.slideDown(400,function(){H.css("overflow","visible");inputTabsSlideCallback(D)});$("#moreInput").addClass("open");$("#moreSearches").addClass("open");$("#haloGradient").fadeIn(300)}else{if(F.get(0).id==C&&openInputMethodTab.last<B-400){closeInputMethodTabs(D);cleanUpInputMethodTabPopups();return }else{cleanUpInputMethodTabPopups();F.slideUp(300);F.removeClass("open");A.slideDown(200,function(){inputTabsSlideCallback(D)});if(E.length>0&&D!="keyboard"){E.hide()}}}$("#moreInput").addClass("shrinkGradient");$("#inputTabs").addClass("addShadow");$("#tooltip.tooltip-formaction, #tour").hide();A.addClass("open");inputTabsCallback(D);G.addClass("active");G.find("a").addClass("selected");G.siblings().removeClass("active");G.siblings().find("a").removeClass("selected");openInputMethodTab.last=new Date().getTime();$("#fpsiteNav").css("z-index","-1")}function closeInputMethodTabs(A){showCDFContent();cleanUpInputMethodTabPopups();var B=$("#inputTabs .inputpanel.open");var C=$("#inputTabs");if(A="keyboard"){$("#try-it").hide()}$("#tooltip.tooltip-formaction").hide();C.slideUp(300,function(){B.removeClass("open")});$(".inputtab",C).removeClass("active");$("#moreInput").removeClass("shrinkGradient");$("#inputTabs").removeClass("addShadow");$("#haloGradient").fadeOut(200);$("#calculate .inputtab").find("a").removeClass("selected");$("a#close-adside").hide();$("#tour").show();$("#fpsiteNav").css("z-index","");setTimeout(function(){$("#moreInput").removeClass("open");$("#moreSearches").removeClass("open")},40);$("#moreInput .inputtab.active").removeClass("active");if($(document.body).hasClass("adside-layer")){$(document.body).removeClass("adside-layer");$("#lightboxOverlay").fadeOut(300,function(){$(this).removeClass("ad-overlay")})}}function cleanUpInputMethodTabPopups(){$(".traypopup").fadeOutRemove();cleanupFileCtrlPopups()}function isCurrentOpenInputMethodTab(B){var A=$("#inputTabs .inputpanel.open");if(A.length<1){return false}if(A.get(0).id=="inputpanel-"+B){return true}else{return false}}function inputTabsCallback(A){if(A=="datasets"){openDatasetsInputTab()}else{if(A=="images"){openImagesInputTab()}else{if(A=="genfiles"){openGenfilesInputTab()}else{if(A=="datainput"){openRawDataInputTab()}}}}}var inputTabsSlideCallback=function(A){if(typeof user!="undefined"&&(user.getPermissions().hastrial||user.getPermissions().haspaid||user.getPermissions().hassubscription)){return }switch(A){case"keyboard":determineAdShowing("keyboard","/input/pro/leftsidebar/ads/keyboard.jsp","WolframAlphaKeyboardState","#calculatecontain");$("#try-it").fadeIn();break;case"images":determineAdShowing("imageinput","/input/pro/leftsidebar/ads/images.jsp","WolframAlphaImageInputState","#calculatecontain");break;case"genfiles":determineAdShowing("fupload","/input/tray.genfiles.jsp","WolframAlphaGenFilesAdState","#calculatecontain");break;case"datainput":determineAdShowing("datainput","/input/pro/leftsidebar/ads/rawdata.jsp","WolframAlphaRawDataState","#calculatecontain");break;default:break}};function autosetFileInputClass(C){var A=C.data("filepath");if(C.hasClass("infile-rawdata")||C.hasClass("infile-rawdata-min")){return }var D=removeFirstSlash(fromLastDir(A));var B=extractFileExtension(D);if(isImageExtension(B)){C.addClass("infile-image")}else{C.addClass("infile-generic")}}var determineAdShowing=function(G,E,F,D,A){var C=determineTrayButtonStates(G);var B="?signedIn=0";if(typeof user.getPermissions!="undefined"&&user.getPermissions().signedin){B="?signedIn=1"}if((G=="copyplaintext"&&user.isEnabled("signedin"))||(G=="cdf"&&user.isEnabled("hassubcription"))){return false}else{if(!user.isEnabled("hassubscription")){addTrayPopup(E+B+(C!=""?"&st="+C:""),D,A)}else{if(($.cookie(F)!=="1"||user.isEnabled("uploadblocked"))||getURLParam("blockme")=="1"){addTrayPopup(E+B+(C!=""?"&st="+C:""),D,A);$.cookie(F,"1",{expires:365,domain:".wolframalpha.com"})}}}};var determineAdState=function(C,B,A){if(user.isEnabled("uploadblocked")){addTrayPopup(C+"?blocked=1",B,A);return true}else{if((user.isEnabled("trialeligible")&&user.isEnabled("signedin"))||!user.isEnabled("signedin")){addTrayPopup(C,B,A);return true}else{if(!user.isEnabled("signedin")){addTrayPopup(C+"?ad=1",B,A);return true}else{return false}}}};function openGenfilesInputTab(){var A=$("#inputTabs #inputpanel-genfiles");if(A.hasClass("empty")){if(user.isEnabled("fupload")||user.isEnabled("hadpaidsubscription")||user.isEnabled("hadTrial")){initGenfilesFilesList()}else{$("#genfiles-allsamples, #genfiles-listcontain .trayArrow").show()}A.removeClass("empty")}}function openDatasetsInputTab(){var A=$("#inputTabs #inputpanel-datasets");if(A.hasClass("empty")){loadDatasetFilesList()}}var addTrayPopup=function(C,B,A){$(".traypopup a.close").live("click",function(D){D.preventDefault();$("footer#computed").removeClass("popup-active");$(this).closest(".traypopup").fadeOut(300,function(){$(this).remove()})});$.get(C,{cancelled:(user.isEnabled("hasCancelled")||(user.isEnabled("hadpaidsubscription")&&!user.isEnabled("hassubcription"))?"1":"0")},function(E,D){if(typeof B!=="undefined"){$(B).prepend(E)}else{if($(".traypopup").length>0){$(".traypopup").replaceWith(E)}else{$("#calculatecontain").append(E)}}$(".traypopup").fadeIn(600);if(typeof A!=="undefined"){return A()}})};function imageInputPopup(){var A=determineTrayButtonStates("imageinput");if($.cookie("WolframAlphaImageInputState")!=="1"){addTrayPopup("/input/pro/leftsidebar/ads/images.jsp"+(A!=""?"?st="+A:""));$.cookie("WolframAlphaImageInputState","1",{expires:365,domain:".wolframalpha.com"})}}function openImagesInputTab(){var B=$(".imglib-item");if(B.first().data("imgsrc")){B.each(function(C,D){$(D).replaceWith('<img src="'+$(D).data("imgsrc")+'" class="imglib-item" />')})}var A=$("#inputTabs #inputpanel-images");if(user.isEnabled("signedin")&&A.hasClass("empty")){if(!user.isEnabled("fupload")){if($("#inputpanel-images #imginput-adpop").length<1){$.get("/input/images.adpop.jsp",{},function(E,D){var C=$(E);C.appendTo("#inputpanel-images")})}$("#imginput-listctrl #imginput-samplestoggle").show();$("#inputpanel-images #imginput-topcontain").addClass("disabled");$("#imginput-upload, #imginput-url").attr({disabled:"disabled"});$("#imginput-syncupload").attr("src",$("#imginput-syncupload").attr("src")+"?dis=1");if(user.isEnabled("hadpaidsubscription")||user.isEnabled("hadTrial")){initImageInputFilesList()}else{$("#imginput-listcontain #imginput-samplestoggle").click()}return }else{initImageInputFilesList()}A.removeClass("empty")}else{if(!user.isEnabled("signedin")){$("#imginput-listctrl #imginput-samplestoggle").show();$("#imginput-listcontain #imglib-sampletext").fadeIn()}}}function openKeyboardInputTab(A){if($("#inputpanel-keyboard").length>0){$("#symbolicKeyboard").show();if(typeof A!=="undefined"){return A()}}else{$.get("/input/pro.keyboard.jsp",function(E,C){$("#inputTabs-wrap").prepend(E);if(!user.isEnabled("keyboard")){var D=$("#proKeyboards a.key");var B=D.slice(4,D.length);B.addClass("disabled");D.closest("#inputTabs").before("<div id='try-it' title='Give it a try' />")}$("#symbolicKeyboard").show();if(typeof A!=="undefined"){return A()}})}}function openRawDataInputTab(){var A=$("#inputTabs #inputpanel-datainput");if(user.isEnabled("signedin")&&A.hasClass("empty")){initRawDataFilesList();A.removeClass("empty")}}function invalidateTrayFileLists(){$("#imginput-filestoggle, #genfiles-filestoggle, #datainput-filestoggle").removeClass("on");$("#imginput-fileslist, #genfiles-fileslist, #datainput-fileslist").slideUp(200,function(){$(this).html("Loading")}).addClass("empty")}function markupSamplesQueriesList(D,F,C){if(typeof F=="undefined"){F=""}var A=(typeof C!="undefined"&&typeof C.showBlockingOption!=null?C.showBlockingOption:false);var G=(typeof C!="undefined"&&typeof C.blockingCookie!=null?C.blockingCookie:"sampleq");var B="";B+='    <div id="calcform-samplequeries" class="lightbox-rounded">       <div class="arrow"></div>       <a class="close">X</a>       <div id="calcform-samplequeriestop" class="lightbox-roundedtop"> 	<h1>Hit enter for automatic analysis</h1> 	<a href="#" class="calcform-samplequery calcform-samplequery-auto"><div class="calcform-genericftag '+F+'"><span class="icon"></span></div>(automatic analysis)<div class="calcform-sampleequals"></div></a>       </div>       <div id="calcform-samplequeriesbottom" class="lightbox-roundedbottom"> 	<h3>Or try one of these queries:</h3>       ';for(var E in D){B+='	<a href="#" class="calcform-samplequery"><div class="calcform-genericftag '+F+'"><span class="icon"></span></div>'+unescapeP(D[E])+'<div class="calcform-sampleequals"></div></a>       '}if(F==""){B+='    <a href="/examples/FileUpload.html" id="calcform-samplequeries-seeall">See all examples &raquo;</a><br class="clear"/> '}else{if(F=="rawdata"){B+='    <a href="/examples/DataInput.html" id="calcform-samplequeries-seeall">See all examples &raquo;</a><br class="clear"/> '}else{if(F=="image"){B+='    <a href="/examples/ImageInput.html" id="calcform-samplequeries-seeall">See all examples &raquo;</a><br class="clear"/> '}}}if(A){B+='      <div id="calcform-blocksampleqs">         <input type="checkbox" name="blocksampleqs" autocomplete="off" id="calcform-blocksampleqs-check" data-blockingcookie="'+G+'" /><label for="calcform-blocksampleqs-check">Don\'t show this again</label>       </div>     '}B+="      </div>     </div>   ";return B}function setupAsyncUploads(){$("#inputpanel-genfiles").removeClass("noasync").find("#genfiles-syncupload").remove();$("#inputpanel-images").removeClass("noasync").find("#imginput-syncupload").remove()}function setupSyncUploads(){$("#genfiles-syncupload").attr("src",$("#genfiles-syncupload").attr("data-delaysrc"));$("#imginput-syncupload").attr("src",$("#imginput-syncupload").attr("data-delaysrc"))}function setupUploadMethod(){if($.browser.mozilla){var D=$.browser.version.substring(0,$.browser.version.indexOf("."));if(D>3){setupAsyncUploads()}else{setupSyncUploads()}}else{var C=navigator.userAgent;var E=C.indexOf("Chrome/");if(E!=-1){$.browser.chrome=true;var A=C.substring(E+7);var B=A.indexOf(".");var D=A.substring(0,B);if(D>8){setupAsyncUploads()}else{setupSyncUploads()}}else{setupSyncUploads()}}}function initBindsForTabs(){$(".inputpanel .inputpanel-closebtn").live("click",function(A){A.preventDefault();closeInputMethodTabs()});$("     #datainput-fileslist.opaque .datainput-rename    ,#datainput-fileslist.opaque .datainput-delete    ,#datainput-fileslist.opaque .datainput-edit    ,#genfiles-fileslist.opaque .genfile-rename    ,#genfiles-fileslist.opaque .genfile-delete    ").live("click",function(A){A.preventDefault()});$("#calcform-samplequeries #calcform-blocksampleqs input").live("change",function(){var B=$(this).is(":checked");var C=$(this).data("blockingcookie");var A={domain:".wolframalpha.com",path:"/",expires:99999999};if(B){$.cookie(C,true,A)}else{$.cookie(C,null,A)}});$("#calcform-samplequeries .close").live("click",function(A){A.preventDefault();$(this).closest("#calcform-samplequeries").remove()});$("#calcform-samplequeries a.calcform-samplequery").live("click",function(B){B.preventDefault();var A;if($(this).hasClass("calcform-samplequery-auto")){A=""}else{A=$(this).text().trim()}$("#calculate #i").val(A);$("#calculate").submit();$("#calcform-samplequeries .close").click()});$("#genfiles-fileslist .filename-mdown, 	    #datainput-sampleslist .filename-mdown, 	    #datainput-fileslist .filename-mdown, 	    #imginput-sampleslist .filename-mdown,	    #imginput-fileslist .filename-mdown").live("mousedown",function(B){$("body").trigger("mouseup");$(this).addClass("filename-mdown-show");var A=$(this);$("body").one("mouseup",function(C){A.removeClass("filename-mdown-show")})});$("a#images-info").live("click",function(B){B.preventDefault();var C=$(".traypopup.adstate-images");var A=determineTrayButtonStates("imageinput");if(C.length>0){if(C.is(":visible")){C.fadeOut(600)}else{C.fadeIn(600)}}else{return addTrayPopup("/input/pro/leftsidebar/ads/images.jsp"+(A!=""?"?st="+A:"")+(A!=""?"&close=1":"?close=1"))}})}var trackTray=function(B,C,A){if(typeof A==="undefined"){A=""}$(".inputtab").data("tr","true");return $(B).live("click.tracking",function(){if($(this).data("tr")=="true"||A!=""){$(".inputtab").data("tr","true");$(this).data("tr","false");return $.get("/tray.txt?"+C+"=true"+A)}else{$(".inputtab").data("tr","true");return $.get("/tray.txt?"+C+"=false"+A)}})};var DragDroppedFiles=null;$("#moreInput .inputtab").live("click",function(B){B.preventDefault();var A=$(this).get(0).id.replace("inputtab-","");if(this.id==="inputtab-keyboard"&&!$(this).hasClass("active")){return openKeyboardInputTab(function(){openInputMethodTab(A)})}else{openInputMethodTab(A)}});$(document).ready(function(){initBindsForTabs();trackTray("#inputtab-keyboard","keyboard");trackTray("#inputtab-images","image");trackTray("#inputtab-datainput","data");trackTray("#inputtab-genfiles","file");trackTray("a#datainput-uploadafile","file","&src=data");trackTray("a#genfiles-copypaste","data","&src=file")});function generateRawDataUploadBubble(){return'     <div id="dinput-uploadpop" class="lightbox-rounded">       <div class="arrow"></div>       <a class="close">X</a>       <div id="dinput-uploadpopcontent"> 	<div class="dinput-field"> 	  <label for="dinput-name" id="dinput-namelabel">Name</label> 	  <input id="dinput-name" name="dinputname" value="" /> 	</div> 	<div id="dinput-uploadpopmsg"></div> 	<div id="dinput-upfooter"> 	  <div id="dinput-upoverwrite"> 	    <input id="dinput-overwrite" name="dinputoverwrite" value="" type="checkbox" autocomplete="off" /> 	    <label for="dinput-overwrite" id="dinput-overwritelabel">Overwrite if file exists</label> 	  </div> 	  <a href="#" class="wa-button" id="dinput-uploadok">OK</a> 	  <br class="clear" /> 	</div>       </div>     </div>   '}$("#dinput-uploadpop .close").live("click",function(A){A.preventDefault();$(this).closest("#dinput-uploadpop").remove()});function validateRawDataInputUpload(){var B,A;A=false;B=$("#dinput-name").val();if($("#dinput-name").hasClass("warning-state")){A=true}if(typeof B=="undefined"||$.trim(B)==""){$("#dinput-name").val("required").css({color:"red"}).addClass("warning-state").one("focus",function(){$(this).css({color:"black"}).val("").removeClass("warning-state")});A=true}B=$("#datainput-textarea").val();if(typeof B=="undefined"||$.trim(B)==""){$("#datainput-textarea").val("required").css({color:"red"}).addClass("warning-state").one("focus",function(){$(this).css({color:"black"}).val("").removeClass("warning-state")});A=true}return !A}function filenameEscape(A){newf=A.replace(/^\.*/,"");newf=newf.replace(/[^\w\d.()-]/ig,"_");return newf}$("#dinput-uploadpop #dinput-uploadok").live("click",function(E){E.preventDefault();if(!validateRawDataInputUpload()){return }if($("#datainput-save").text().indexOf("Saving")>-1){return }var B=$("#dinput-name").val();B=filenameEscape(B);$("#dinput-name").val(B);var C=$("#dinput-note").val();var D=$("#datainput-textarea").val();$("#dinput-uploadpopmsg").hide();$("#datainput-textarea").data("openfile",B).data("dirty","false");$("#dinput-name, #dinput-note, #datainput-textarea").attr("disabled","disabled").addClass("disabled");$("#datainput-save").text("Saving...").removeClass("wa-button").addClass("bubblebtn");var A=typeof $("#dinput-upoverwrite #dinput-overwrite").attr("checked")!="undefined";doDataInputUpload({contents:D,name:B,forceOW:A})});function doDataInputUpload(D){var B=D.name;var A=D.forceOW;var C=D.contents;$.ajax({type:"post",contentType:"application/x-www-form-urlencoded; charset=UTF-8",url:"/CloudStore/WolframAlphaProDatasets/"+B,scriptCharset:"UTF-8",dataType:"json",data:{action:"write",content:C,overwrite:A},success:function(F,E){if(F.success){$("#dinput-name, #dinput-note, #datainput-textarea, #dinput-upoverwrite").attr("disabled",null).removeClass("disabled");var G=$("#dinput-uploadpop").data("fileToOpen");if($.trim(G)!=""){loadRawDataInput(G)}$("#dinput-uploadpop").remove();$("#datainput-fileslist").addClass("empty");$("#datainput-filestoggle").fadeIn().removeClass("on").click();$("#datainput-save").text("Save").addClass("wa-button").removeClass("bubblebtn").addClass("disabled");selectFileInput(B,"/WolframAlphaProDatasets/"+B,"rawdata")}else{if(F.reasonShortString=="NAMETAKEN"){$("#dinput-name, #dinput-note, #datainput-textarea").attr("disabled",null).removeClass("disabled");$("#datainput-save").text("Save for later use").addClass("wa-button").removeClass("bubblebtn");$("#dinput-uploadpopmsg").html("A file with this filename exists, please pick a new filename.").show();$("#dinput-upoverwrite").show()}}}})}function generateDataInputFilesListMarkup(A){var G="";var D=0;for(var C in A){if(D>=5){break}var B=A[C].displayName;var H=A[C].fullPath;var I=(new Date(new Number(A[C].modifiedDate)));var F=(I.getMonth()<9?"0":"")+(I.getMonth()+1)+"/"+(I.getDate()<10?"0":"")+I.getDate()+"/"+(I.getYear()+1900);var E=fileInputNameTruncation(B,50,5);if(A[C].collection){continue}G+='       <div class="datainput-item" data-filepath="'+decodeURIComponent(H)+'">         <div class="filename-mdown"> 	  <div class="datainput-icon"></div> 	  <a href="#" class="datainput-name"> 	    '+decodeURIComponent(E)+' 	  </a>         </div> 	<div class="datainput-filectrl"> 	  <a href="#" class="datainput-edit">Edit</a> | 	  <a href="#" class="datainput-rename">Rename</a> | 	  <a href="#" class="datainput-delete">Delete</a> 	</div> 	<div class="datainput-filedate"> 	  '+F+" 	</div>       </div>       ";D++}return G}$("#datainput-fileslist:not(.opaque) .datainput-item .datainput-filectrl .datainput-rename").live("click",function(D){D.preventDefault();D.stopPropagation();var C=$.trim($(this).closest(".datainput-item").data("filepath"));var B=$("#datainput-bottomcontain");var E=B.offset();var A=B.outerWidth();doFileCtrlRename(C,{callback:function(){loadDataInputFilesList()},css:{top:E.top+20,left:E.left+(A/2)}})});function loadDataInputFilesList(A){var B=$("#datainput-listcontain #datainput-fileslist");if(B.hasClass("loading")){return }B.addClass("loading");B.hide().html("Loading...").slideDown();$("#datainput-filestoggle").fadeIn();$.get("/CloudStore/WolframAlphaProDatasets/",{_:(new Date()).getTime(),action:"list"},function(E,D){var C=generateDataInputFilesListMarkup(E);if(filterRawDataInputFiles(E).length==0){$("#datainput-allfiles").fadeOut();$("#datainput-fileslist").slideUp(200,function(){$("#datainput-filestoggle").slideUp(200).removeClass("on")}).removeClass("loading").removeClass("empty");return }else{$("#datainput-allfiles").fadeIn()}$("#datainput-listcontain #datainput-fileslist").slideUp(300,function(){$(this).html(C);$(this).slideDown(300);B.removeClass("loading")});$("#datainput-filestoggle").addClass("on")},"json");$("#datainput-listcontain #datainput-fileslist").removeClass("empty")}$("#datainput-listcontain #datainput-filestoggle").live("click",function(A){A.preventDefault();if(!$(this).hasClass("on")){if($("#datainput-listcontain #datainput-fileslist").hasClass("empty")){loadDataInputFilesList()}$("#datainput-listcontain #datainput-fileslist").slideDown(200);$(this).addClass("on");$("#datainput-listcontain #datainput-sampleslist").slideUp(200);$("#datainput-listcontain #datainput-samplestoggle").removeClass("on")}else{$("#datainput-listcontain #datainput-fileslist").slideUp();$(this).removeClass("on")}});function markupRawDataSamplePreview(A,B){return'    <div class="datainput-samplepreview lightbox-shadows-light lightbox-rounded loading" data-filepath="'+A+'">       <div class="datainput-samplepreview-wrap"> 	<div class="arrow"></div> 	<h4>'+B+'</h4> 	<pre class="datainput-samplepreview-content"> 	</pre> 	<div class="datainput-samplepreview-fadeup"></div>       </div>     </div>   '}function submitRawDataInput(A){$("#calculate input[name=dataset]").val(A);$("#calculate .inputfile-tag").remove();$("#calculate #i").val("");$("#calculate").submit()}$("#datainput-fileslist:not(.opaque) .filename-mdown").live("click",function(D){D.preventDefault();var B=$(this).closest(".datainput-item");var C=B.data("filepath");var A=removeFirstSlash(fromLastDir(C));selectFileInput(A,C,"rawdata");$("a#star-inputfield").hide();closeInputMethodTabs("datainput-inputtab".replace("inputtab-",""))});$("#datainput-sampleslist .filename-mdown").live("click",function(F){F.preventDefault();$("#calcform-samplequeries").remove();var C=$(this).closest(".datainput-item");var E=C.data("filepath");var B=removeFirstSlash(fromLastDir(E));selectFileInput(B,E,"rawdata sample");$("a#star-inputfield").hide();closeInputMethodTabs("datainput-inputtab".replace("inputtab-",""));var A=C.data("querieslist");if(typeof A!="undefined"&&A.length>0){A=A.split(",");var D=markupSamplesQueriesList(A,"rawdata");$(D).appendTo("#calculatecontain")}$("#calculate #i").focus();var G='.datainput-samplepreview[data-filepath="'+E+'"]';$(G).hide()});$("#datainput-sampleslist .datainput-item").live("mouseenter",function(){$(".datainput-samplepreview").hide();var A=$(this).data("filepath");var D=$(this).data("description");var C=findSamplePreviewPop(A);var E=$(this).offset();if(C.length>0){C.css({top:E.top-30,left:E.left+200}).show();return }var B=markupRawDataSamplePreview(A,D);$(B).appendTo("body").data("filepath",A).css({top:E.top-30,left:E.left+200}).show();$.get("/samplefiles/"+A+".shadow",{},function(H,F){var G=findSamplePreviewPop(A);G.removeClass("loading").find(".datainput-samplepreview-content").html(H)})}).live("mouseleave",function(C){var A=$(C.relatedTarget);var B=$(this).data("filepath");if(A.is(".datainput-samplepreview")||(A.closest(".datainput-samplepreview").length>0&&A.closest(".datainput-samplepreview").data("filepath")==B)){return }$(".datainput-samplepreview").hide()});$(".datainput-samplepreview").live("mouseleave",function(C){var A=$(C.relatedTarget);var B=$(this).data("filepath");if(A.is(".datainput-item")||(A.closest(".datainput-item").length>0&&A.closest(".datainput-item").data("filepath")==B)){return }$(this).hide()});function findSamplePreviewPop(A){return $(".datainput-samplepreview").filter(function(){return $(this).data("filepath")==A})}$("#inputpanel-datainput #datainput-uploadafile").live("click",function(A){A.preventDefault();$("#inputtab-genfiles").click()});function generateDataInputMoreInfo(){return'     <div id="datainput-infobubble" class="lightbox-rounded">       <a href="#" class="close">X</a>       <div class="arrow"></div>       <div id="datainput-infocontain">          <ul><li class="first"><span>Data can be a list or table of:</span> 	     <ul class="datainput-examples">           	<li><span><strong>NUMBERS</strong> &nbsp;(e.g. 62.7<dd></dd>550,345<dd></dd>8.2e+7<dd></dd>-8*10^3 ...)</span></li>          	<li><span><strong>QUANTITIES</strong> &nbsp;(e.g. $50<dd></dd>34%<dd></dd>100 km/h<dd></dd>25 GHz<dd></dd>5 hrs 3 mins ...)</span></li>          	<li><span><strong>INTERVALS</strong> &nbsp;(e.g. 5 - 10<dd></dd>3.5+-0.2 ...)</span></li>          	<li><span><strong>DATES</strong> &nbsp;(e.g. 5/18/09<dd></dd>5:30 pm May 18, 2009<dd></dd>May 2009 ...)</span></li>          	<li><span><strong>STRINGS</strong> &nbsp;(e.g. horse<dd></dd>&quot;blue whale&quot; ...)</span></li>	  	<li><span><strong>PLACES</strong> &nbsp;(e.g. Los Angeles<dd></dd>Spain<dd></dd>NYC<dd></dd>.fr ...)</span></li>                <li><span><strong>CATEGORIES</strong> &nbsp;(e.g. 0<dd></dd>1<dd></dd>true<dd></dd>false<dd></dd>yes<dd></dd>no<dd></dd>D<dd></dd>R ...)</span></li>	     </ul></li>	     <li><span>Delimiters can be spaces, commas, tabs, etc. and are inferred automatically</span></li>	     <li><span>You can use headings to label columns</span></li>	     <li><span>Column headings can specify units (e.g. "weight in kg")</span></li>	     <li><span>Rows can contain missing items (e.g. "N/A")</span></li>	     <li><span>Wolfram|Alpha uses context to interpret inputs (e.g. date formats etc.)</span></li>             <li class="last"><span>Note: You can <a href="" class="uploadLink">upload other data as a file<div class="uploadIcon"></div></a></span></li>	 </ul>      </div>     </div>   '}var popBool=new Boolean(0);$("#datainput-moreinfo").live("click",function(B){B.preventDefault();if($(".adstate-rawdata")){$(".adstate-rawdata").hide();popBool=1}$("#datainput-infobubble").remove();var A=generateDataInputMoreInfo();$("#moreSearches").hide();$(A).appendTo("#inputpanel-datainput");$("#datainput-infobubble").mousedown(function(C){if(!$(C.target).hasClass("uploadLink")){C.preventDefault();return false}})});$("#datainput-infobubble > a.close").live("click",function(A){if(popBool){$(".adstate-rawdata").show()}$("#moreSearches").show()});$("#datainput-infocontain .uploadLink").live("click",function(A){A.preventDefault();$("#datainput-infobubble").remove();if(typeof (getInputTray)!=="undefined"){getInputTray("genfiles")}else{openInputMethodTab("genfiles")}});$("#datainput-infobubble .close").live("click",function(A){A.preventDefault();$("#datainput-infobubble").remove()});function generateDinputDiscardChanges(A){return'     <div id="dinput-editconfirm" class="lightbox-rounded">       <div class="arrow"></div>       <a href="#" class="close">X</a>       <div id="dinput-editconfcontain">         <div id="dinput-editconfblurb">           Would you like to save your current data input before you edit <span class="dataicon"></span>&nbsp;'+A+'?         </div>         <div id="dinput-editconfbuttons">           <a href="#" id="dinput-editsave" class="bubblebtn">Save</a>           <a href="#" id="dinput-editnosave" class="wa-button">Edit without saving</a>         </div>       </div>     </div>   '}$("#dinput-editconfirm .close").live("click",function(A){A.preventDefault();$(this).closest("#dinput-editconfirm").remove()});$("#dinput-editconfirm #dinput-editsave").live("click",function(B){B.preventDefault();var A=$(this).closest("#dinput-editconfirm").data("fileToOpen");$("#datainput-save").click();$("#dinput-uploadpop").data("fileToOpen",A);$("#dinput-editconfirm").remove()});$("#dinput-editconfirm #dinput-editnosave").live("click",function(B){B.preventDefault();var A=$(this).closest("#dinput-editconfirm").data("fileToOpen");loadRawDataInput(A);$("#dinput-editconfirm").remove()});$("#datainput-listcontain #datainput-allfiles").live("click",function(A){A.preventDefault();$("#proside-uploads a.heading").trigger("click.submenu");$("#proside-uploads-rawdata").click();$("#lsidebar").show()});$("#datainput-fileslist:not(.opaque) .datainput-item .datainput-filectrl .datainput-edit").live("click",function(E){E.preventDefault();E.stopPropagation();$("#dinput-editconfirm").remove();var D=$(this).closest(".datainput-item").find(".datainput-name").text();D=$.trim(D);var B=$("#datainput-textarea").data("dirty")=="true";var C=$.trim($("#datainput-textarea").val())!="";if(B&&C){var F=$(this).closest(".datainput-item").offset();var A=$(generateDinputDiscardChanges(D));A.css({top:F.top+24,left:F.left-133}).data("fileToOpen",D).appendTo("body");return }loadRawDataInput(D)});$("#datainput-fileslist:not(.opaque) .datainput-item .datainput-filectrl .datainput-delete").live("click",function(C){C.preventDefault();C.stopPropagation();var B=$.trim($(this).closest(".datainput-item").data("filepath"));var D=$("#datainput-bottomcontain").offset();var A=$("#datainput-bottomcontain").outerWidth();doFileCtrlDelete(B,{css:{top:D.top+20,left:D.left+(A/2)},callback:function(){loadDataInputFilesList()}})});function loadRawDataInput(A){$.get("/CloudStore/WolframAlphaProDatasets/"+A,{},function(C,B){if(B=="success"){$("#datainput-textarea").val(C).data("openfile",A).data("dirty","false")}else{$("#datainput-textarea").val("Could not open file "+A).data("openfile","").data("dirty","false")}})}$("#datainput-textarea").live("change",function(A){$(this).data("dirty","true")});function filterRawDataInputFiles(D){var A=[];for(var C in D){var B=D[C].displayName;if(D[C].collection){continue}A.push(D[C])}return A}function initRawDataFilesList(){$.get("/CloudStore/WolframAlphaProDatasets/",{_:(new Date()).getTime(),action:"list"},function(C,B){var D=[];if(C!=null){D=C}if(filterRawDataInputFiles(D).length>0){var A=generateDataInputFilesListMarkup(D);$("#datainput-listcontain #datainput-fileslist").hide().html(A).removeClass("empty").slideDown();$("#datainput-listcontain #datainput-filestoggle").fadeIn().addClass("on");$("#datainput-allfiles").show()}else{$("#datainput-listcontain #datainput-samplestoggle").click();$("#datainput-allfiles").hide()}},"json").error(function(A,B,C){$("#datainput-listcontain #datainput-samplestoggle").click()})}$("#datainput-adpop .close").live("click",function(A){A.preventDefault();$(this).closest("#datainput-adpop").remove()});$("#datainput-listcontain #datainput-samplestoggle").live("click",function(A){A.preventDefault();if(!$(this).hasClass("on")){$(this).addClass("on");$("#datainput-listcontain #datainput-filestoggle").removeClass("on");$("#datainput-listcontain #datainput-fileslist").slideUp(200);$("#datainput-listcontain #datainput-sampleslist").slideDown(200)}else{$(this).removeClass("on");$("#datainput-listcontain #datainput-sampleslist").slideUp(300)}});$("#datainput-filesfooter #datainput-samples").live("click",function(B){B.preventDefault();$("#datainput-samplespop").remove();var A=$(generateRawDataSamplesMarkup());var C=$(this).position();A.appendTo("#datainput-filesfooter").css({top:C.top-32,left:C.left+90,display:"none"}).fadeIn(300)});$("#datainput-samplespop .close").live("click",function(A){A.preventDefault();$(this).closest("#datainput-samplespop").remove()});$("#datainput-filesfooter #datainput-allfiles").live("click",function(A){A.preventDefault();$("#proside-uploads").click();$("#proside-uploads-rawdata").click()});$("#datainput-textarea").live("keydown",function(C){C.stopPropagation();if(C.keyCode==9){C.preventDefault();var D=getInputPosition($(this).get(0));var B=$("#datainput-textarea").get(0).value;var A=B.substring(0,D[0])+"\t"+B.substring(D[1]);$(this).val(A);setInputPosition($(this).get(0),D[0]+1)}});$("#datainput-textarea").live("keyup change",function(A){if($.trim($(this).val())==""){$("#datainput-save, #datainput-done").addClass("disabled")}else{$("#datainput-save, #datainput-done").removeClass("disabled")}});$(document).ready(function(){$("#datainput-textarea").change()});$("#datainput-save.disabled, #datainput-done.disabled").live("click",function(A){A.preventDefault()});function prefillDatasetInput(){if(typeof rawDatasetContents!="undefined"&&rawDatasetContents.trim()!=""&&(isPost||(getURLParam("datasetfile")!=""&&getURLParam("examplefile")==""))){$("#datainput-textarea").val(rawDatasetContents).trigger("change");if(getURLParam("datasetfile")!=""&&getURLParam("examplefile")==""&&getURLParam("autosaved")==""){var A=decodeURIComponent(getURLParam("datasetfile"));A=removeFirstSlash(fromLastDir(A));$("#datainput-textarea").data("openfile",A).data("dirty","false")}}}$("#datainput-save:not(.disabled)").live("click",function(D){D.preventDefault();var C=$("#datainput-textarea").data("openfile");C=$.trim(C);if(C!=""){doDataInputUpload({name:C,contents:$("#datainput-textarea").val(),forceOW:true})}else{$("#dinput-uploadpop").remove();var B=$(generateRawDataUploadBubble());var A=$(this).offset();B.appendTo("body").css({top:A.top+40,left:A.left-30}).find("#dinput-uploadoverwrite").hide();$("#dinput-uploadpopcontent #dinput-name").val(C)}});$("#datainput-done:not(.disabled)").live("click",function(B){B.preventDefault();var A=$("#datainput-textarea").val();$("#calculate input[name=dataset]").val(A);$(".inputfile-tag").remove();selectFileInput("","","rawdata-min ignore");$("#calculate").attr({method:"POST"}).submit()});function generateCloudConnectionErrorMarkup(B){var A;if(B=="TEMPORARILYDOWN"){A='       <div class="clouderror-down">         Your uploaded files are temporarily unavailable. Please come back later.       </div>     '}return A}function initGenfilesFilesList(){$.ajax("/CloudStore/WolframAlphaProUploads/",{type:"GET",dataType:"json",data:{action:"list",_:(new Date()).getTime()},success:function(D,C){if(typeof D.failureMessage!="undefined"){var B=generateCloudConnectionErrorMarkup(D.failureMessage);$("#genfiles-listcontain #genfiles-filestoggle").fadeIn().addClass("on");$("#genfiles-listcontain #genfiles-fileslist").hide().html(B).removeClass("empty").slideDown();return }var E=[];if(D!=null){E=filterGenericFiles(D)}if(E.length>0){var A=generateGenfilesFilesListMarkup(E);$("#genfiles-listcontain #genfiles-fileslist").hide().html(A).removeClass("empty").slideDown();$("#genfiles-listcontain #genfiles-filestoggle").fadeIn().addClass("on");$("#genfiles-listcontain #genfiles-allfiles").show()}else{$("#genfiles-listcontain .trayArrow").show();$(".gen-samples, #genfiles-sampletext").show();$("#genfiles-listcontain #genfiles-allfiles").hide()}},error:function(A,B,C){}})}$("#genfiles-adpop .close").live("click",function(A){A.preventDefault();$(this).closest("#genfiles-adpop").remove()});$("#genfiles-fileslist:not(.opaque) .genfile-item").live("mousedown",function(D){D.preventDefault();if($(D.target).closest(".genfile-filectrl").length>0){return }var B=$(this);var C=B.data("filepath");var A=removeFirstSlash(fromLastDir(C));selectFileInput(decodeURIComponent(A),C,"generic");$("a#star-inputfield").hide();closeInputMethodTabs("genfiles-inputtab".replace("inputtab-",""))}).live("click",function(A){A.preventDefault()});$("#genfiles-allsamples .genfiles-sampletype").live("click",function(F){F.preventDefault();var E=$(this).data("filepath");var B=removeFirstSlash(fromLastDir(E));var C=extractFileExtension(B);selectFileInput(decodeURIComponent(B),E,"generic sample");$("a#star-inputfield").hide();closeInputMethodTabs("genfiles-inputtab".replace("inputtab-",""));$("#calcform-samplequeries").remove();var A=$(this).data("querieslist");if(typeof A!="undefined"&&A.length>0){A=A.split(",");var D=markupSamplesQueriesList(A);$(D).appendTo("#calculatecontain")}$("#calculate #i").focus()});function generateGenfilesFilesListMarkup(A){var H="";var E=0;A=filterGenericFiles(A);for(var D in A){if(E>=5){break}var C=A[D].displayName;var I=A[D].fullPath;var B=extractFileExtensionNoCase(C);var J=(new Date(new Number(A[D].modifiedDate)));var G=(J.getMonth()<9?"0":"")+(J.getMonth()+1)+"/"+(J.getDate()<10?"0":"")+J.getDate()+"/"+(J.getYear()+1900);var F=C;if(F.length>50){F=F.substring(0,40)+"..."+B}H+='       <div class="genfile-item" data-filepath="'+decodeURIComponent(I)+'"> 	<div class="filename-mdown"> 	  <div class="genfile-icon"></div> 	  <a href="#" class="genfile-name" title="'+C+'"> 	    '+decodeURIComponent(F)+' 	  </a> 	</div> 	<div class="genfile-filectrl"> 	  <a href="#" class="genfile-rename">Rename</a> | 	  <a href="#" class="genfile-delete">Delete</a> 	</div> 	<div class="genfile-filedate"> 	  '+G+" 	</div>       </div>       ";E++}return H}function filterGenericFiles(F){var A=[];var E=["_WDC","_CDF"];for(var C in F){var B=F[C].displayName;var D=extractFileExtension(B);if(F[C].collection){continue}if($.inArray(D,E)>-1||isImageExtension(D.toUpperCase())){continue}else{A.push(F[C])}}return A}$("#genfiles-fileslist:not(.opaque) .genfile-item .genfile-filectrl .genfile-delete").live("click",function(C){C.preventDefault();C.stopPropagation();var B=$.trim($(this).closest(".genfile-item").data("filepath"));var D=$("#genfiles-bottomcontain").offset();var A=$("#genfiles-bottomcontain").outerWidth();doFileCtrlDelete(B,{css:{top:D.top+20,left:D.left+(A/2)},callback:function(){loadGenfilesFilesList()}})});$("#genfiles-fileslist:not(.opaque) .genfile-item .genfile-filectrl .genfile-rename").live("click",function(D){D.preventDefault();D.stopPropagation();var C=$.trim($(this).closest(".genfile-item").data("filepath"));var E=$(this).offset();var B=$("#genfiles-bottomcontain");var E=B.offset();var A=B.outerWidth();doFileCtrlRename(C,{callback:function(){loadGenfilesFilesList()},css:{top:E.top+20,left:E.left+(A/2)}})});function loadGenfilesFilesList(A){if(typeof A=="undefined"||$.inArray(A,["mdate","name","mdater"])<0){A="mdater"}$("#genfiles-filestoggle").fadeIn();$("#genfiles-listcontain #genfiles-fileslist").hide().html("Loading...").slideDown();$.get("/CloudStore/WolframAlphaProUploads/",{action:"list",_:(new Date()).getTime()},function(D,C){cfiles=filterGenericFiles(D);if(cfiles.length==0){$("#genfiles-allfiles").fadeOut();$("#genfiles-fileslist").slideUp(200,function(){$("#genfiles-filestoggle").slideUp(200)}).removeClass("loading").removeClass("empty");return }else{$("#genfiles-allfiles").fadeIn()}var B=generateGenfilesFilesListMarkup(cfiles);$("#genfiles-listcontain #genfiles-fileslist").slideUp(300,function(){$(this).html(B);$(this).slideDown(300)});$("#genfiles-filestoggle").fadeIn().addClass("on")},"json");$("#genfiles-listcontain #genfiles-fileslist").removeClass("empty")}$("#inputpanel-genfiles #genfiles-filestoggle").live("click",function(A){A.preventDefault();if(!$(this).hasClass("on")){if($("#genfiles-listcontain #genfiles-fileslist").hasClass("empty")){loadGenfilesFilesList()}$("#genfiles-listcontain #genfiles-fileslist").slideDown();$("#genfiles-listcontain #genfiles-sampleslist").slideUp();$("#genfiles-listcontain #genfiles-samplestoggle").removeClass("on");$(this).addClass("on")}else{$("#genfiles-listcontain #genfiles-fileslist").slideUp();$(this).removeClass("on")}});$("#inputpanel-genfiles #genfiles-samplestoggle").live("click",function(A){A.preventDefault();if(!$("#genfiles-allsamples").is(":visible")){$("#genfiles-allsamples").show();$("#genfiles-listcontain .trayArrow").show()}else{$("#genfiles-allsamples").hide();$("#genfiles-listcontain .trayArrow").hide()}});function generateGenfilesUploadProgress(A){var B='     <div id="genfiles-uploading" class="lightbox lightbox-shadows lightbox-rounded">       <a href="#" class="close remove">X</a>     ';for(var C in A){var D=A[C].file.name;if(D.length>45){D=D.substring(0,38)+"..."+extractFileExtensionNoCase(D)}B+='       <div class="genfiles-uploadprog" data-filepath="'+A[C].file.name+'" data-filedispname="'+D+'">         <div class="genfiles-uploadtext">           Uploading '+D+"        </div>       </div>       "}B+="     </div>     ";return B}function showGenfilesUploadProgress(A){var B=generateGenfilesUploadProgress(A);if($("#genfiles-uploading").length<=0){$("body").append(B);$("#lightboxOverlay").fadeIn();$("#genfiles-uploading").css({top:scrollPositionY()+200}).show()}else{$("#genfiles-uploading").html($(generateGenfilesUploadProgress(A)).html())}}function showGenfilesUploadErrorMessage(B){var A=generateUploadErrorMessage(B);if(A!=""){$("#genfiles-uploading").addClass("uploading-error").find(".genfiles-uploadtext").html(A)}}function showGenfilesUploadPreprocessing(B){var D=$("#genfiles-uploading").find(".genfiles-uploadprog").filter(function(E){return $(this).data("filepath")==B.name});var A=D.data("filedispname");var C="Processing "+A;D.find(".genfiles-uploadtext").html(C)}function genfileDoUpload(){for(var C in uploadingData.currentUploads){var A=uploadingData.currentUploads[C].file.name.replace(/ /g,"_");var F=function(L,J,K){var I=$.parseJSON(L);if(typeof I.failureMessage!="undefined"){$("#genfiles-upload").val("").get(0).files=null;watrack.simpleCall({tid:"fileupload-"+I.failureMessage,data:{originalsize:uploadingData.currentUploads[C].total,originalname:uploadingData.currentUploads[C].file.name}});showGenfilesUploadErrorMessage(I.failureMessage);uploadingData.currentUploads=[];uploadingData.currentUploadsRenameMap={};return }var G=findUploadIdxByXHR(K.currentTarget);var H=I.server;uploadingData.currentUploads[G].status="processing";uploadingData.currentUploads[G].total=K.total;uploadingData.currentUploads[G].transferred=K.loaded;showGenfilesUploadPreprocessing(uploadingData.currentUploads[G].file);$.get(getColoProofURL("/input/uploadprep.jsp?"+mapToURLParams({s:I.serverNumber,tmpfile:I.tempFiles.split(",")[0],clpath:I.uploadedFiles[0].fullpath}),H),function(O,N){uploadingData.currentUploads[G].status="done";if(isCurrentUploadsDone()){$("#genfiles-uploading").remove();$("#lightboxOverlay").fadeOut();if(!$("#inputpanel-genfiles").hasClass("open")){$("#genfiles-fileslist").html("");openInputMethodTab("genfiles")}loadGenfilesFilesList();var M=I.uploadedFiles[0];selectFileInput(M.displayName,M.fullpath,"generic");$("#calculate #i").focus();uploadingData.currentUploads=[];uploadingData.currentUploadsRenameMap={};uploadingData.overwriteList={}}})};var B=function(H){var G=findUploadIdxByXHRU(H.currentTarget);uploadingData.currentUploads[G].status="transferring";uploadingData.currentUploads[G].total=H.total;uploadingData.currentUploads[G].transferred=H.loaded};var D={};if(typeof uploadingData.currentUploadsRenameMap[uploadingData.currentUploads[C].file.name]!="undefined"){D.newName=uploadingData.currentUploadsRenameMap[uploadingData.currentUploads[C].file.name]}var E=fileapiUpload({url:"/input/cloudupload.jsp",file:uploadingData.currentUploads[C].file,fieldname:"uploadFile",success:F,data:D,dataMethod:"url",progress:B});uploadingData.currentUploads[C].xhr=E}}function setupCalculateFiledrop(){setupFiledrop("#calculatecontain",calcDragDrop,calcDragEnter,calcDragLeave)}function calcDragEnter(A){A.stopPropagation();A.preventDefault();$("#calculatecontain").addClass("dragging")}function calcDragLeave(A){A.stopPropagation();A.preventDefault();$("#calculatecontain").removeClass("dragging")}function calcDragDrop(C){C.stopPropagation();C.preventDefault();$("#calculatecontain").removeClass("dragging");if(C.dataTransfer.files.length<1&&C.dataTransfer.getData("URL")!=""){$("#genfiles-url").val(C.dataTransfer.getData("URL"));$("#genfiles-urlgo").click();return }var B=C.dataTransfer;var A=B.files;DragDroppedFiles=A;genfileDropCallback(A)}function setupGenfileFiledrop(){setupFiledrop("#genfiles-droparea",genfileDrop,genfileDragEnter,genfileDragLeave)}function genfileDragEnter(A){A.stopPropagation();A.preventDefault();$("#genfiles-droparea").addClass("dragging")}function genfileDragLeave(A){A.stopPropagation();A.preventDefault();$("#genfiles-droparea").removeClass("dragging")}function genfileDrop(C){C.stopPropagation();C.preventDefault();$("#genfiles-droparea").removeClass("dragging");if(C.dataTransfer.files.length<1&&C.dataTransfer.getData("URL")!=""){$("#genfiles-url").val(C.dataTransfer.getData("URL"));$("#genfiles-urlgo").click();return }var B=C.dataTransfer;var A=B.files;DragDroppedFiles=A;genfileDropCallback(A)}function genfileDropCallback(A){uploadingData.currentUploads=[];var E=[];for(var B=0;B<A.length;B++){var D=A[B].name;var C=(typeof uploadingData.currentUploadsRenameMap[D]=="undefined"?D:uploadingData.currentUploadsRenameMap[D]);if(typeof uploadingData.overwriteList[C]=="undefined"){E.push("/WolframAlphaProUploads/"+filenameEscape(C))}uploadingData.currentUploads.push({file:A[B],status:"starting",uid:(new Date()).getTime()+""+Math.floor((Math.random()*10000))})}if(E.length>0){userCloudFilesExistAsync(E,function(J){var I=-1;var H=false;for(var G in J){if(J[G].success){for(var F in A){if("/WolframAlphaProUploads/"+filenameEscape(A[F].name)==J[G].filepath){I=F;break}}H=true;break}}if(H){$("#lightboxOverlay").fadeIn();showGenfileUploadRenamePop(A[I]);$("#filectrl-uploadrename").addClass("draganddrop");return }else{genfileDoUpload();showGenfilesUploadProgress(uploadingData.currentUploads)}})}else{genfileDoUpload();showGenfilesUploadProgress(uploadingData.currentUploads)}}function genfUploadSubmit(){$("#lightboxOverlay").fadeIn();var A=$("#genfiles-upload").get(0).files;uploadingData.currentUploads=[];var E=[];for(var B=0;B<A.length;B++){var D=A[B].name;var C=(typeof uploadingData.currentUploadsRenameMap[D]=="undefined"?D:uploadingData.currentUploadsRenameMap[D]);if(typeof uploadingData.overwriteList[C]=="undefined"){E.push("/WolframAlphaProUploads/"+filenameEscape(C))}uploadingData.currentUploads.push({file:A[B],status:"starting",uid:(new Date()).getTime()+""+Math.floor((Math.random()*10000))})}if(E.length>0){userCloudFilesExistAsync(E,function(J){var I=-1;var H=false;for(var G in J){if(J[G].success){for(var F in A){if("/WolframAlphaProUploads/"+filenameEscape(A[F].name)==J[G].filepath){I=F;break}}H=true;break}}if(H){showGenfileUploadRenamePop(A[I]);return }else{genfileDoUpload();showGenfilesUploadProgress(uploadingData.currentUploads)}})}else{genfileDoUpload();showGenfilesUploadProgress(uploadingData.currentUploads)}}function showGenfileUploadRenamePop(B){var A=B.name.replace(/ /g,"_");var C=markupUploadRenameBox(B.name);$(C).appendTo("body").css({left:"50%",top:scrollPositionY()+120}).addClass("source-genfiles").show();$("#filectrl-uploadrename #filectrl-renamemsg").html("This name has been taken. Please choose another file name.").show()}$("#filectrl-uploadrename.source-genfiles #filectrl-renameok").live("click",function(F){F.preventDefault();var D=$(this).closest("#filectrl-uploadrename");var B=D.find("#filectrl-renamenew").val();var A=D.find("#filectrl-renameold").val();D.find("#filectrl-renameowcontain").hide();D.find("#filectrl-renamemsg").html("").hide();var E=D.find("#filectrl-renameow").is(":checked");var C=false;if(!E){userCloudFileExistsAsync("/WolframAlphaProUploads/"+filenameEscape(B),function(G){if(!G){finishRenamedGenfilesUpload()}else{D.find("#filectrl-renameowcontain").show();D.find("#filectrl-renamemsg").html("This name has been taken. Please choose another file name.").show()}})}else{uploadingData.overwriteList[B]=true;finishRenamedGenfilesUpload()}});function finishRenamedGenfilesUpload(){var C=$("#filectrl-uploadrename.source-genfiles");var B=C.find("#filectrl-renamenew").val();var A=C.find("#filectrl-renameold").val();uploadingData.currentUploadsRenameMap[A]=B;var D=C.hasClass("synchronous-upload");if(D){$($("#genfiles-syncupload").get(0).contentDocument).find("form input[type=file]").change()}else{if(C.hasClass("draganddrop")&&DragDroppedFiles!=null){genfileDropCallback(DragDroppedFiles)}else{$("#genfiles-upload").trigger("change")}}C.remove()}$("#inputpanel-genfiles #genfiles-copypaste").live("click",function(A){A.preventDefault();$("#inputtab-datainput").click()});$("#genfiles-allsamples .genfiles-samplesmore").live("click",function(B){B.preventDefault();var A=$(this).closest(".genfiles-samplessect");A.find(".genfiles-sampleshidden").show();$(this).hide()});$("#genfiles-allsamples .close").live("click",function(A){A.preventDefault();$(".gen-samples").hide();$("#genfiles-listcontain .trayArrow").hide()});$("#genfiles-listcontain #genfiles-allfiles").live("click",function(A){A.preventDefault();$("#proside-uploads a.heading").trigger("click.submenu");$("#proside-uploads-generic").click();$("#lsidebar").show()});$("#genfiles-topcontain:not(.disabled) #genfiles-upload").live("change",function(A){A.preventDefault();genfUploadSubmit()});$("#genfiles-topcontain:not(.disabled) #genfiles-urlgo").live("click",function(B){B.preventDefault();var A=$.trim($("#genfiles-url").val());if(A==""){return }if(A.indexOf("http://")!=0&&A.indexOf("https://")!=0){A="http://"+A;$("#imginput-url").val(A)}A=xssEscape(A);showURLUploadProgress(A);$.post("/CloudStore/WolframAlphaProUploads/",{action:"urlimport",location:A},function(E,D){if(E.success){var C=E.filepath2;var G=removeFirstSlash(fromLastDir(C));showURLUploadPreprocessing();$.get("/input/uploadprep.jsp",{clpath:C},function(I,H){selectFileInput(G,C,"generic");loadGenfilesFilesList();$("#genfiles-url").val("");$("#urlupload-progress").remove();$("#lightboxOverlay").fadeOut()})}else{var F=generateURLUploadErrorPopup(E.reasonShortString);$(F).appendTo("body").css({top:scrollPositionY()+200});$("#urlupload-progress").remove()}},"json")});function openAndPlayVideo(){if($("#images-video").length<1){$("body").append('<div id="images-video" class="lightbox-shadows lightbox">	    			<a class="imgclose closebtn">X</a>					<div id="imgvid"></div>	    		</div>')}$("#images-video").show();$("#lightboxOverlay").addClass("imgover");$("#inputtab-images").trigger("click");var A={src:"/pro/images.video.smil",scaleMode:"native"};swfobject.embedSWF("/common/includes/flash/VideoPlayer.swf","imgvid","640","480","10.0.0",false,A,{},{})}function findCloudImageFiles(E){var A=new Array();for(var B in E){var D=E[B];var C=extractFileExtension(D.name);if(isImageExtension(C)){A.push(D)}}return A}function generateImglibMarkup(F){var A="";var D=0;for(var C in F){if(D>=4){break}D++;var E=F[C].displayName;var B=F[C].fullPath;A+='       <div class="imglib-item"> 	<div class="filename-mdown"> 	  <img class="imglib-img" src="/input/CloudThumbnail/'+decodeURIComponent(B)+'"/> 	</div> 	<div class="imglib-filectrlicon"></div>       </div>       '}A+='     <br class="clear" />     ';return A}function loadImagesFilesList(){$.get("/CloudStore/WolframAlphaProUploads/",{action:"list",_:(new Date()).getTime()},function(C,B){var D=findCloudImageFiles(C);if(D.length==0){$("#imginput-fileslist").slideUp(200,function(){$("#imginput-filestoggle").slideUp(200).removeClass("on")}).removeClass("loading").removeClass("empty");$("#imginput-allfiles").fadeOut();return }else{$("#imginput-allfiles").fadeIn();if(!$("#imginput-filestoggle").is(":visible")){$("#imginput-filestoggle").fadeIn()}}var A=generateImglibMarkup(D);$("#imginput-fileslist").slideUp(200,function(){$(this).html(A).slideDown(200).removeClass("empty")});$("#imginput-filestoggle").addClass("on")},"json")}function showImagesUploadPreprocessing(B){var D=$("#imginput-uploading").find(".imginput-uploadprog").filter(function(E){return $(this).data("filepath")==B.name});var A=D.data("filedispname");var C="Processing "+A;D.find(".imginput-uploadtext").html(C)}function imgupUploadSubmit(){$("#lightboxOverlay").fadeIn();var A=$("#imginput-upload").get(0).files;uploadingData.currentUploads=[];var E=[];for(var B=0;B<A.length;B++){var D=A[B].name;var C=(typeof uploadingData.currentUploadsRenameMap[D]=="undefined"?D:uploadingData.currentUploadsRenameMap[D]);if(typeof uploadingData.overwriteList[C]=="undefined"){E.push("/WolframAlphaProUploads/"+filenameEscape(C))}uploadingData.currentUploads.push({file:A[B],status:"starting",uid:(new Date()).getTime()+""+Math.floor((Math.random()*10000))})}if(E.length>0){userCloudFilesExistAsync(E,function(J){var I=-1;var H=false;for(var G in J){if(J[G].success){for(var F in A){if("/WolframAlphaProUploads/"+filenameEscape(A[F].name)==J[G].filepath){I=F;break}}H=true;break}}if(H){showImageUploadRenamePop(A[I]);return }else{imagesDoUpload();showImagesUploadProgress(uploadingData.currentUploads)}})}else{imagesDoUpload();showImagesUploadProgress(uploadingData.currentUploads)}}function showImagesUploadErrorMessage(B){var A=generateUploadErrorMessage(B,"5MB");if(A!=""){$("#imginput-uploading").addClass("uploading-error").find(".imginput-uploadtext").html(A)}}function imagesDoUpload(){for(var B in uploadingData.currentUploads){var E=function(K,I,J){var H=$.parseJSON(K);if(typeof H.failureMessage!="undefined"){$("#imginput-upload").val("").get(0).files=null;watrack.simpleCall({tid:"fileupload-"+H.failureMessage,data:{originalsize:uploadingData.currentUploads[B].total,originalname:uploadingData.currentUploads[B].file.name}});showImagesUploadErrorMessage(H.failureMessage);uploadingData.currentUploads=[];uploadingData.currentUploadsRenameMap={};return }var F=findUploadIdxByXHR(J.currentTarget);var G=H.server;uploadingData.currentUploads[F].status="processing";uploadingData.currentUploads[F].total=J.total;uploadingData.currentUploads[F].transferred=J.loaded;showImagesUploadPreprocessing(uploadingData.currentUploads[F].file);$.get(getColoProofURL("/input/uploadprep.jsp?"+mapToURLParams({s:H.serverNumber,tmpfile:H.tempFiles.split(",")[0],clpath:H.uploadedFiles[0].fullpath}),G),function(N,M){uploadingData.currentUploads[F].status="done";if(isCurrentUploadsDone()){$("#imginput-upload").val("").get(0).files=null;$("#imginput-uploading").remove();$("#lightboxOverlay").fadeOut();loadImagesFilesList();var L=H.uploadedFiles[0];selectFileInput(L.displayName,L.fullpath,"image");$("#calculate #i").focus();uploadingData.currentUploads=[];uploadingData.currentUploadsRenameMap={};uploadingData.overwriteList={}}})};var A=function(G){var F=findUploadIdxByXHRU(G.currentTarget);uploadingData.currentUploads[F].status="transferring";uploadingData.currentUploads[F].total=G.total;uploadingData.currentUploads[F].transferred=G.loaded};var C={fileType:"image"};if(typeof uploadingData.currentUploadsRenameMap[uploadingData.currentUploads[B].file.name]!="undefined"){C.newName=uploadingData.currentUploadsRenameMap[uploadingData.currentUploads[B].file.name]}var D=fileapiUpload({url:"/input/cloudupload.jsp",file:uploadingData.currentUploads[B].file,fieldname:"uploadFile",success:E,data:C,dataMethod:"url",progress:A});uploadingData.currentUploads[B].xhr=D}}function showImageUploadRenamePop(B){var A=B.name.replace(/ /g,"_");var C=markupUploadRenameBox(B.name);$(C).appendTo("body").css({left:"50%",top:scrollPositionY()+120}).addClass("source-imginput").show();$("#filectrl-uploadrename #filectrl-renamemsg").html("This name has been taken. Please choose another file name.").show()}$("#filectrl-uploadrename.source-imginput #filectrl-renameok").live("click",function(F){F.preventDefault();var D=$(this).closest("#filectrl-uploadrename");var B=D.find("#filectrl-renamenew").val();var A=D.find("#filectrl-renameold").val();D.find("#filectrl-renameowcontain").hide();D.find("#filectrl-renamemsg").html("").hide();var E=D.find("#filectrl-renameow").is(":checked");var C=false;if(!E){userCloudFileExistsAsync("/WolframAlphaProUploads/"+filenameEscape(B),function(G){if(!G){finishRenamedImageUpload()}else{D.find("#filectrl-renameowcontain").show();D.find("#filectrl-renamemsg").html("This name has been taken. Please choose another file name.").show()}})}else{uploadingData.overwriteList[B]=true;finishRenamedImageUpload()}});function finishRenamedImageUpload(){var C=$("#filectrl-uploadrename.source-imginput");var B=C.find("#filectrl-renamenew").val();var A=C.find("#filectrl-renameold").val();uploadingData.currentUploadsRenameMap[A]=B;if(C.hasClass("synchronous-upload")){$($("#imginput-syncupload").get(0).contentDocument).find("form input[type=file]").change()}else{if(C.hasClass("draganddrop")&&DragDroppedFiles!=null){imageDropCallback(DragDroppedFiles)}else{$("#imginput-upload").trigger("change")}}C.remove()}function generateImagesUploadProgress(A){var B='     <div id="imginput-uploading" class="lightbox lightbox-shadows lightbox-rounded">       <a href="#" class="close remove">X</a>     ';for(var C in A){var D=A[C].file.name;if(D.length>45){D=D.substring(0,38)+"..."+extractFileExtensionNoCase(D)}B+='       <div class="imginput-uploadprog" data-filepath="'+A[C].file.name+'" data-filedispname="'+D+'">         <div class="imginput-uploadtext">           Uploading '+D+"        </div>       </div>       "}B+="     </div>     ";return B}function showImagesUploadProgress(A){var B=generateImagesUploadProgress(A);$("body").append(B);$("#lightboxOverlay").fadeIn();$("#imginput-uploading").css({top:scrollPositionY()+200}).show()}function setupImageFiledrop(){setupFiledrop("#imginput-droparea",imageDrop,imageDragEnter,imageDragLeave)}function imageDragEnter(A){A.stopPropagation();A.preventDefault();$("#imginput-droparea").addClass("dragging")}function imageDragLeave(A){A.stopPropagation();A.preventDefault();$("#imginput-droparea").removeClass("dragging")}function imageDrop(C){C.stopPropagation();C.preventDefault();$("#imginput-droparea").removeClass("dragging");if(C.dataTransfer.files.length<1&&C.dataTransfer.getData("URL")!=""){$("#imginput-url").val(C.dataTransfer.getData("URL"));$("#imginput-urlgo").click();return }var B=C.dataTransfer;var A=B.files;DragDroppedFiles=A;imageDropCallback(A)}function imageDropCallback(A){uploadingData.currentUploads=[];var E=[];for(var B=0;B<A.length;B++){var D=A[B].name;var C=(typeof uploadingData.currentUploadsRenameMap[D]=="undefined"?D:uploadingData.currentUploadsRenameMap[D]);if(typeof uploadingData.overwriteList[C]=="undefined"){E.push("/WolframAlphaProUploads/"+filenameEscape(C))}uploadingData.currentUploads.push({file:A[B],status:"starting",uid:(new Date()).getTime()+""+Math.floor((Math.random()*10000))})}if(E.length>0){userCloudFilesExistAsync(E,function(J){var I=-1;var H=false;for(var G in J){if(J[G].success){for(var F in A){if("/WolframAlphaProUploads/"+filenameEscape(A[F].name)==J[G].filepath){I=F;break}}H=true;break}}if(H){$("#lightboxOverlay").fadeIn();showImageUploadRenamePop(A[I]);$("#filectrl-uploadrename").addClass("draganddrop");return }else{imagesDoUpload();showImagesUploadProgress(uploadingData.currentUploads)}})}else{imagesDoUpload();showImagesUploadProgress(uploadingData.currentUploads)}}$("#imginput-fileslist:not(.opaque) .imglib-item").live("click",function(D){var B=$(this).find("img");var E=$(B)[0].src;var F=E.indexOf("/CloudThumbnail/")+16;var A=E.substring(F);var C=removeFirstSlash(fromLastDir(A));selectFileInput(decodeURIComponent(C),A,"image");$("a#star-inputfield").hide();closeInputMethodTabs("images")});function initImageInputFilesList(){$.ajax("/CloudStore/WolframAlphaProUploads/",{dataType:"json",data:{_:(new Date()).getTime(),action:"list"},success:function(D,C){if(typeof D.failureMessage!="undefined"){var B=generateCloudConnectionErrorMarkup(D.failureMessage);$("#imginput-listcontain #imginput-filestoggle").fadeIn().addClass("on");$("#imginput-listcontain #imginput-fileslist").hide().html(B).removeClass("empty").slideDown();return }var E=findCloudImageFiles(D);if(E!=null&&E.length>0){var A=generateImglibMarkup(E);$("#imginput-listcontain #imginput-fileslist").hide().html(A).removeClass("empty").slideDown();$("#imginput-listcontain #imginput-filestoggle").show().addClass("on");$("#imginput-allfiles").fadeIn()}else{$("#imginput-listcontain #imginput-samplestoggle").click()}},error:function(A,B,C){$("#imginput-listcontain #imginput-samplestoggle").click()}})}$("#imginput-listcontain #imginput-filestoggle").live("click",function(A){A.preventDefault();if(!$(this).hasClass("on")){if($("#imginput-listcontain #imginput-fileslist").hasClass("empty")){loadImagesFilesList()}$("#imginput-listcontain #imginput-fileslist").slideDown();$(this).addClass("on");$("#imginput-listcontain #imginput-sampleslist").slideUp();$("#imginput-listcontain #imginput-samplestoggle").removeClass("on");$("#imginput-listcontain #imglib-sampletext").hide()}else{$("#imginput-listcontain #imginput-fileslist").slideUp();$(this).removeClass("on")}});$("#imginput-listcontain #imginput-samplestoggle").live("click",function(A){A.preventDefault();if(!$(this).hasClass("on")){$("#imginput-listcontain #imginput-sampleslist").slideDown(200,function(B){$("#imginput-listcontain #imglib-sampletext").fadeIn()});$(this).addClass("on");$("#imginput-listcontain #imginput-fileslist").slideUp();$("#imginput-listcontain #imginput-filestoggle").removeClass("on")}else{$("#imginput-listcontain #imglib-sampletext").hide();$("#imginput-listcontain #imginput-sampleslist").slideUp();$(this).removeClass("on")}});$("#imginput-listcontain #imginput-allfiles").live("click",function(A){A.preventDefault();$("#proside-uploads .heading").click();$("#lsidebar").show()});$("#imginput-sampleslist:not(.opaque) .imglib-sampleitem").live("mouseover",function(A){$(this).addClass("imglib-itemhover")}).live("mouseout",function(A){$(this).removeClass("imglib-itemhover")});$("#imginput-fileslist:not(.opaque) .imglib-item").live("mouseover",function(A){$("#imginput-fileslist .imglib-itemhover").removeClass("imglib-itemhover");$("#imginput-fileslist .imglib-showfcicon").removeClass("imglib-showfcicon");$(this).addClass("imglib-itemhover");$(this).find(".imglib-filectrlicon").addClass("imglib-showfcicon")}).live("mouseout",function(A){var B=$(A.relatedTarget);if(B.length>0&&(B.is(".imglib-item")||B.closest(".imglib-item").length>0||B.is(".imglib-filectrlicon")||B.closest("#imguploads-filectrl").length>0)){return }$(this).removeClass("imglib-itemhover");$(this).find(".imglib-filectrlicon").removeClass("imglib-showfcicon")});$("#imginput-fileslist .imglib-item .imglib-filectrlicon").live("mouseover",function(D){$("#imguploads-filectrl").remove();var C=generateImageUploadsControlBubble("imgtray");var E=$(this).offset();var A=$(this).closest(".imglib-item").find("img").get(0).src;var B=A.substring(A.indexOf("/CloudThumbnail/")+16);$(C).css({top:E.top+25,left:E.left-40}).appendTo("body");$("#imguploads-filectrl").data("filepath",B)}).live("mouseout",function(A){var B=$(A.relatedTarget);if(B.length>0&&(B.closest("#imguploads-filectrl").length>0)){return }$("#imguploads-filectrl").remove()});$("#imguploads-filectrl").live("mouseout",function(A){var B=$(A.relatedTarget);if(B.length>0&&(B.closest("#imguploads-filectrl").length>0||B.is(".imglib-filectrlicon"))){return }$("#imginput-fileslist .imglib-item.imglib-itemhover").removeClass("imglib-itemhover");$("#imginput-fileslist .imglib-filectrlicon").removeClass("imglib-showfcicon")});$("#imguploads-filectrl.filectrl-origin-imgtray #imguploads-rename").live("click",function(D){D.preventDefault();var C=$(this).closest("#imguploads-filectrl").data("filepath");var B=$("#imginput-bottomcontain");var E=B.offset();var A=B.outerWidth();doFileCtrlRename(C,{css:{top:E.top+20,left:E.left+(A/2)},callback:function(){invalidateTrayFileLists();$("#imginput-filestoggle").click()}})});$("#imguploads-filectrl.filectrl-origin-imgtray #imguploads-delete").live("click",function(C){C.preventDefault();var B=$("#imguploads-filectrl").data("filepath");var D=$("#imginput-bottomcontain").offset();var A=$("#imginput-bottomcontain").outerWidth();doFileCtrlDelete(B,{css:{top:D.top+20,left:D.left+(A/2)},callback:function(){$("#imginput-filestoggle").click()}})});$("#imginput-adpop .close").live("click",function(A){A.preventDefault();$(this).closest("#imginput-adpop").remove()});$("#imginput-sampleslist .imglib-sampleitem").live("click",function(E){E.preventDefault();var D=$(this).data("filepath");var B=removeFirstSlash(fromLastDir(D));selectFileInput(decodeURIComponent(B),D,"image sample");$("a#star-inputfield").hide();$("#calcform-samplequeries").remove();var A=$(this).data("querieslist");if(typeof A!="undefined"&&A.length>0){A=A.split(",");var C=markupSamplesQueriesList(A,"image");$(C).appendTo("#calculatecontain")}$("#calculate #i").focus();closeInputMethodTabs("inputtab-images".replace("inputtab-",""))});$("p#intro-image, #imginput-adpopwatch").live("click",function(A){openAndPlayVideo()});$(".imgclose, .imgover").live("click",function(A){$("#images-video").hide();$("#imgvid").remove();$("#images-video .imgclose").after('<div id="imgvid"></div>');$("#lightboxOverlay").removeClass("imgover")});$("#imginput-topcontain:not(.disabled) #imginput-upload").live("change",function(A){A.preventDefault();imgupUploadSubmit()});$("#imginput-topcontain:not(.disabled) #imginput-urlgo").live("click",function(B){B.preventDefault();var A=$.trim($("#imginput-url").val());if(A==""){return }if(A.indexOf("http://")!=0&&A.indexOf("https://")!=0){A="http://"+A;$("#imginput-url").val(A)}A=xssEscape(A);showURLUploadProgress(A);$.post("/CloudStore/WolframAlphaProUploads/",{action:"urlimport",location:A},function(E,D){if(E.success){var C=E.filepath2;var G=removeFirstSlash(fromLastDir(C));showURLUploadPreprocessing();$.get("/input/uploadprep.jsp",{clpath:C},function(I,H){selectFileInput(G,C,"image");loadImagesFilesList();$("#imginput-url").val("");$("#urlupload-progress").remove();$("#lightboxOverlay").fadeOut()})}else{var F=generateURLUploadErrorPopup(E.reasonShortString);$(F).appendTo("body").css({top:scrollPositionY()+200});$("#urlupload-progress").remove()}},"json")});function loadFileUploadsFullList(A,B,C){if(typeof A=="undefined"){A=1}if(typeof B=="undefined"){B="mdater"}if(typeof C=="undefined"){C=$(".uploads-trmenu .uploads-ext").data("extname")}cleanupFileCtrlPopups();$("#cpod-genericuploads").fadeTo(20,0.5);$.get("/input/pro/leftsidebar/uploads/fileuploads.jsp",{page:A,sort:B,ext:C},function(E,D){$("#preferenceBox").html(E)})}function getGenericFileUploadsCurrentPage(){var A=$("#genuploads-list").data("page");if(typeof A=="undefined"||isNaN(A)||A<0){A=1}return A}function getGenericFileUploadsCurrentSort(){return $("#cpod-genericuploads .uploads-sort").data("sortname")}$("#cpod-genericuploads .genuploads-pagenext, #cpod-genericuploads .genuploads-pageprev").live("click",function(C){C.preventDefault();var A=$(this).data("pagenum");var B=$(".uploads-sort").data("sortname");loadFileUploadsFullList(A,B)});$("#cpod-genericuploads .genuploads-pagenum").live("click",function(C){C.preventDefault();var A=$(this).text();var B=$(".uploads-sort").data("sortname");loadFileUploadsFullList(A,B)});$("#cpod-genericuploads .uploads-sort").live("mouseenter",function(A){A.preventDefault();var B=$(this).position();$(this).parent().find(".uploads-sortoptions").css({top:B.top+$(this).outerHeight()-1,left:B.left}).show()}).live("mouseleave",function(A){A.preventDefault();if($(A.relatedTarget).is(".uploads-sortoptions, .uploads-sortoption")){return }$(this).parent().find(".uploads-sortoptions").hide()});$("#cpod-genericuploads .uploads-sortoptions").live("mouseleave",function(A){A.preventDefault();if($(A.relatedTarget).is(".uploads-sort, .uploads-sortoptions, .uploads-sortoption")){return }$(this).hide()});$("#cpod-genericuploads .uploads-sortoption").live("click",function(A){A.preventDefault();loadFileUploadsFullList(1,$(this).data("sortname"))});$("#cpod-genericuploads .uploads-ext").live("mouseenter",function(A){A.preventDefault();var B=$(this).position();$(this).parent().find(".uploads-extoptions").css({top:B.top+$(this).outerHeight()-1,left:B.left}).show()}).live("mouseleave",function(A){A.preventDefault();if($(A.relatedTarget).is(".uploads-extoptions, .uploads-extoption")){return }$(this).parent().find(".uploads-extoptions").hide()});$("#cpod-genericuploads .uploads-extoptions").live("mouseleave",function(A){A.preventDefault();if($(A.relatedTarget).is(".uploads-ext, .uploads-extoptions, .uploads-extoption")){return }$(this).hide()});$("#cpod-genericuploads .uploads-extoption").live("click",function(A){A.preventDefault();loadFileUploadsFullList(1,getGenericFileUploadsCurrentSort(),$(this).data("extname"))});function loadImageUploadsFullList(A,B,C){if(typeof A=="undefined"){A=1}if(typeof B=="undefined"){B="mdater"}if(typeof C=="undefined"){C=""}cleanupFileCtrlPopups();$("#cpod-imageuploads").fadeTo(20,0.5);$.get("/input/pro/leftsidebar/uploads/images.jsp",{page:A,sort:B},function(E,D){$("#preferenceBox").html(E)})}function getImageUploadsFullListCurrentPage(){var A=$("#imguploads-list").data("page");if(typeof A=="undefined"||isNaN(A)||A<0){A=1}return A}function getImageUploadsFullListCurrentSort(){return $("#cpod-imageuploads .uploads-sort").data("sortname")}$("#cpod-imageuploads .imguploads-pagenext, #cpod-imageuploads .imguploads-pageprev").live("click",function(C){C.preventDefault();var A=$(this).data("pagenum");var B=$(".uploads-sort").data("sortname");loadImageUploadsFullList(A,B)});$("#cpod-imageuploads .imguploads-pagenum").live("click",function(C){C.preventDefault();var A=$(this).text();var B=$(".uploads-sort").data("sortname");loadImageUploadsFullList(A,B)});$("#cpod-imageuploads .uploads-sort").live("mouseenter",function(A){A.preventDefault();var B=$(this).position();$(this).parent().find(".uploads-sortoptions").css({top:B.top+$(this).outerHeight()-1,left:B.left}).show()}).live("mouseleave",function(A){A.preventDefault();if($(A.relatedTarget).is(".uploads-sortoptions, .uploads-sortoption")){return }$(this).parent().find(".uploads-sortoptions").hide()});$("#cpod-imageuploads .uploads-sortoptions").live("mouseleave",function(A){A.preventDefault();if($(A.relatedTarget).is(".uploads-sort, .uploads-sortoptions, .uploads-sortoption")){return }$(this).hide()});$("#cpod-imageuploads .uploads-sortoption").live("click",function(C){C.preventDefault();var B=$(this).data("sortname");var A=$(this).data("pagenum");loadImageUploadsFullList(A,B)});function generateImageUploadsControlBubble(A){return'    <div id="imguploads-filectrl" class="'+(typeof A=="string"?"filectrl-origin-"+A:"")+'">       <div class="arrow"></div>       <a href="#" class="imguploads-fileaction" id="imguploads-download">Download</a>       <a href="#" class="imguploads-fileaction" id="imguploads-rename">Rename</a>       <a href="#" class="imguploads-fileaction" id="imguploads-delete">Delete</a>     </div>   '}function generateImageUploadsControlTriangle(){return'    <div id="imguploads-filectrlicon"></div>   '}function thumbnailSrcToImagePath(B){var A=B;A=A.substring(A.indexOf("/CloudThumbnail/")+15);A="/"+removeFirstSlash(A);A=A.replace("?dim=lboxthumb","");return A}function loadRawDataFullList(B,A){if(typeof B=="undefined"||isNaN(B)||B<0){B=1}if(typeof A=="undefined"){A="mdater"}cleanupFileCtrlPopups();$("#cpod-rawdatauploads").fadeTo(20,0.5);$.get("/input/pro/leftsidebar/uploads/rawdata.jsp",{page:B,sort:A},function(D,C){$("#preferenceBox").html(D)})}function getRawDataFullListCurrentPage(){return $("#rawdatauploads-list").data("page")}function getRawDataFullListCurrentSort(){return $("#cpod-rawdatauploads .uploads-sort").data("sortname")}$("#cpod-rawdatauploads .rawdatauploads-pagenext, #cpod-rawdatauploads .rawdatauploads-pageprev").live("click",function(C){C.preventDefault();var A=$(this).data("pagenum");var B=$(".uploads-sort").data("sortname");loadRawDataFullList(A,B)});$("#cpod-rawdatauploads .rawdatauploads-pagenum").live("click",function(C){C.preventDefault();var A=$(this).text();var B=$(".uploads-sort").data("sortname");loadRawDataFullList(A,B)});$("#cpod-rawdatauploads .uploads-sort").live("mouseenter",function(A){A.preventDefault();var B=$(this).position();$(this).parent().find(".uploads-sortoptions").css({top:B.top+$(this).outerHeight()-1,left:B.left}).show()}).live("mouseleave",function(A){A.preventDefault();if($(A.relatedTarget).is(".uploads-sortoptions, .uploads-sortoption")){return }$(this).parent().find(".uploads-sortoptions").hide()});$("#cpod-rawdatauploads .uploads-sortoptions").live("mouseleave",function(A){A.preventDefault();if($(A.relatedTarget).is(".uploads-sort, .uploads-sortoptions, .uploads-sortoption")){return }$(this).hide()});$("#cpod-rawdatauploads .uploads-sortoption").live("click",function(A){A.preventDefault();loadRawDataFullList(1,$(this).data("sortname"))});function fileCtrlPopupsCleanup(){$("#filectrl-renamepop, #filectrl-deletepop").remove()}$("#cpod-imageuploads .close").live("click",function(A){A.preventDefault();fileCtrlPopupsCleanup();$("#imguploads-filectrl, #imguploads-filectrlicon").remove()});$("#cpod-rawdatauploads .close").live("click",function(A){A.preventDefault();fileCtrlPopupsCleanup();$("#rawdatauploads-filectrl").remove()});$("#cpod-genericuploads .close").live("click",function(A){A.preventDefault();fileCtrlPopupsCleanup();$("#genuploads-filectrl").remove()});function cleanupFileCtrlPopups(){$("#filectrl-deletepop, #filectrl-renamepop").remove();$("#rawdatauploads-editpop").remove()}$("#cpod-datadownloads .datadls-viewdetails").live("click",function(A){A.preventDefault();$(this).closest(".datadls-item").addClass("showdetails")});$("#cpod-datadownloads .datadls-hidedetails").live("click",function(A){A.preventDefault();$(this).closest(".datadls-item").removeClass("showdetails")});function loadDataDownloadsList(B,A){if(typeof B=="undefined"){B=1}if(typeof A=="undefined"){A="date"}$("#cpod-datadownloads").fadeTo(20,0.2);$.get("/input/pro/leftsidebar/downloads.jsp",{page:B,sort:A},function(D,C){$("#preferenceBox").html(D)})}function getDataDownloadsListCurrentSort(){return $("#cpod-datadownloads .uploads-sort").data("sortname")}$("#cpod-datadownloads .datadls-pagenum").live("click",function(C){C.preventDefault();var B=$.trim($(this).text());var A=getDataDownloadsListCurrentSort();loadDataDownloadsList(B,A)});$("#cpod-datadownloads .datadls-pagenext, #cpod-datadownloads .datadls-pageprev").live("click",function(C){C.preventDefault();var B=$.trim($(this).data("pagenum"));var A=getDataDownloadsListCurrentSort();loadDataDownloadsList(B,A)});$("#cpod-datadownloads .uploads-sort").die("mouseenter").live("mouseenter",function(A){A.preventDefault();$(this).parent().find(".uploads-sortoptions").show()}).live("mouseout",function(A){A.preventDefault();if($(A.relatedTarget).is(".uploads-sortoptions, .uploads-sortoption")){return }$(this).parent().find(".uploads-sortoptions").hide()});$("#cpod-datadownloads .uploads-sortoptions").live("mouseleave",function(A){A.preventDefault();if($(A.relatedTarget).is(".uploads-sort, .uploads-sortoptions, .uploads-sortoption")){return }$(this).hide()});$("#cpod-datadownloads .uploads-sortoption").live("click",function(A){A.preventDefault();loadDataDownloadsList(1,$(this).data("sortname"))});$("#save-pref.save-enabled").live("click",function(A){A.preventDefault();$(this).addClass("wa-button-save");$("#save-pref.area-general span").text("Saving...");$.get("/input/pro/leftsidebar/preferences/savePreferences.jsp",$("#pref-form").serialize()+"&_="+$.now(),function(B){setTimeout(function(){$("#save-pref.area-general").replaceWith('<span id="save-pref" class="wa-button disabled">Saved</span>');$("#save-pref span").text("Saved")},250)})});$("form#pref-form input, form#pref-form select").live("click",function(){$("#save-pref").replaceWith('<a href="#" class="area-general wa-button save-enabled" id="save-pref"><span>Save</span></a>')});$("#pref-form").live("submit",function(A){A.preventDefault()});jQuery.cookie=function(B,I,L){if(typeof I!="undefined"){L=L||{};if(I===null){I="";L.expires=-1}var E="";if(L.expires&&(typeof L.expires=="number"||L.expires.toUTCString)){var F;if(typeof L.expires=="number"){F=new Date();F.setTime(F.getTime()+(L.expires*24*60*60*1000))}else{F=L.expires}E="; expires="+F.toUTCString()}var K=L.path?"; path="+(L.path):"";var G=L.domain?"; domain="+(L.domain):"";var A=L.secure?"; secure":"";document.cookie=[B,"=",encodeURIComponent(I),E,K,G,A].join("")}else{var D=null;if(document.cookie&&document.cookie!==""){var J=document.cookie.split(";");for(var H=0;H<J.length;H++){var C=jQuery.trim(J[H]);if(C.substring(0,B.length+1)==(B+"=")){D=decodeURIComponent(C.substring(B.length+1));break}}}return D}};function setupLightboxClose(){$("a.close").live("click",function(A){A.preventDefault();if($(this).hasClass("rmv")){$(this).parents(".lightbox").remove()}else{if($(this).hasClass("cls")){$(this).parents(".lightbox").hide()}}$("#greyOverlay, #lightboxOverlay").hide()})}function btn_clk(A,B){$(A).unbind("click");$(A).click(function(C){C.preventDefault();B($(this))})}function getScrollPosition(){var A={};A.y=(typeof document.scrollTop!="undefined"?document.scrollTop:(typeof window.pageYOffset!="undefined"?window.pageYOffset:(typeof document.body.parentElement.scrollTop!="undefined"?document.body.parentElement.scrollTop:0)));A.x=(typeof document.scrollLeft!="undefined"?document.scrollLeft:(typeof window.pageXOffset!="undefined"?window.pageXOffset:(typeof document.body.parentElement.scrollTop!="undefined"?document.body.parentElement.scrollTop:0)));return A}function getURLParam(C,B){if(B==null||B==""){B=window.location.href}C=C.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var A="[\\?&]"+C+"=([^&#]*)";var E=new RegExp(A);var D=E.exec(B);if(D==null){return""}else{return D[1]}}function waDropdownAdjustWidth(C){var A=$(C);var B=$(C).get(0).id;var D=$("#"+B+"-options");var E=A.outerWidth()-3;D.css("min-width",E)}function waDropdownInit(){$(".wa-dropdown").unbind("mouseover.wabutton").bind("mouseover.wabutton",function(F){var G=this.id;var C=$("#"+G+"-options");var H=$(this).closest(".wa-dropdown").outerWidth()-3;var B=$(this).position();var E=15;if($.browser.mozilla){var D=$.browser.version.split(".");var A=D[0]+"."+D[1]+D[2];if(A>=2.01){E=17}}C.css({top:B.top+E,left:B.left,"min-width":H}).show()});$(".wa-dropdown").unbind("mouseout.wabutton").bind("mouseout.wabutton",function(B){if($(B.relatedTarget).is(".wa-dropdown, .wa-dropdown-options, .wa-dropdown-option")){return false}var C=this.id;var A=$("#"+C+"-options");A.hide()});$(".wa-dropdown-options").unbind("mouseout.options").bind("mouseout.options",function(A){if($(A.relatedTarget).is(".wa-dropdown, .wa-dropdown-options, .wa-dropdown-option")){return false}$(this).hide()})}$.fn.waproTooltip=function(D,C){var B="#tooltip";var A=C&&C.adjustY?C.adjustY:0;$(this).die("mouseenter").live("mouseenter",function(H){if(B=="#tooltip"){$(B).remove();if($(B).length<1){$("body").append('<div class="tipbubble-simple" id="tooltip"> </div>')}}var G,F;var E=$(this).offset();$(B).html("<span class='arrow'></span>"+D);G=E.left-($(B).innerWidth()/2)+($(this).innerWidth()/2);F=E.top+$(this).innerHeight()+A;if(typeof C!="undefined"){if(typeof C["class"]!="undefined"){$(B).addClass(C["class"]);G=E.left-($(B).innerWidth()/2)+($(this).innerWidth()/2)}if(typeof C.arrowLeft!="undefined"){$(B).find(".arrow").css({right:"auto",left:C.arrowLeft});G=E.left-(C.arrowLeft)+($(this).innerWidth()/2)}else{if(typeof C.arrowRight!="undefined"){$(B).find(".arrow").css({left:"auto",right:C.arrowRight,"margin-left":0,"margin-right":-9});G=E.left-($(B).innerWidth()-C.arrowRight)+($(this).innerWidth()/2)}}}$(B).css({position:"absolute",top:F,left:G}).show()});$(this).live("mouseleave",function(E){$(B).hide();if(typeof C!="undefined"){if(typeof C["class"]!="undefined"){$(B).removeClass(C["class"])}}});return this};function unescapeP(A){if(typeof A!="string"){return""}return unescape(A.replace(/\+/g,"%20"))}$.fn.setupFavStarTip=function(A){if(typeof A=="undefined"){A="#tooltip";if($(A).length<1){$("body").append('<div class="tipbubble-simple" id="tooltip"> </div>')}}$(this).live("mouseenter",function(C){if($("#addToFavForm:visible").length==0&&!($(this).hasClass("star-clicked"))){if(!$(this).hasClass("star-orange")){$(A).html("<span class='arrow'></span>Add to favorites")}else{$(A).html("<span class='arrow'></span>Edit this favorite")}var B=$(this).offset();$(A).css({top:B.top+15,left:B.left-46}).show()}});$(this).live("mouseleave",function(B){$(A).hide()});return this};var FAVFORMREQ=null;$.fn.setupFavStarClick=function(){$(this).die("click.favstar-editpop").live("click.favstar-editpop",function(J){J.preventDefault();$(".star-clicked").removeClass("star-clicked");$(this).addClass("star-clicked");if($("#addToFavForm:visible").length!=0){$("#addToFavForm").hide()}$(".tipbubble-simple").hide();var H=$(this);var G=$(this).offset();var L=$(this).attr("queryid");var K=$(this).attr("querydocid");var D=$(this).attr("querystr");var O=$(this).attr("fullquerystring");var P=$(this).attr("fileinput");var B=$(this).hasClass("star-orange");var A=$(this).attr("querytags");A=(typeof A=="undefined"?"":decodeURIComp(A));var C=$(this).attr("querynotes");C=(typeof C=="undefined"?"":decodeURIComp(C));var N=H.attr("datasetfile");var F=H.attr("querymethod");var I=H.attr("timestamp");var M={top:G.top+$(this).innerHeight()+15,left:G.left+($(this).innerWidth()/2)-221};if(!$(this).hasClass("star-orange")){action="add";$(this).addClass("star-orange");if(K==""){$(".querylist-item").filter(function(){var Q=$(this).find(".star");return Q.attr("queryid")==L}).find(".star").addClass("star-orange")}}else{action=""}watrack.simpleCall({tid:"fav_"+(H.hasClass("star-input")?"input":"lightbox")});if(typeof FAVFORMREQ=="undefined"){FAVFORMREQ.abort()}if(action=="add"){var E={q:L,qi:K,query:D,action:action,fullquerystring:O,fileinput:P,dataset:N,tags:"",notes:"",details:"false"};FAVFORMREQ=$.get("/input/pro/leftsidebar/queries/managefavorites.jsp",E,function(S,R){var Q=$.parseJSON(S);if(Q.result=="true"){H.attr("queryid",Q.queryId)}})}favformShow(L,K,D,O,P,N,F,A,C,B,I,M);$("#favRemove").attr("formaction",$(this).nextAll("input[id^=remove]").val());$("#addToFavForm").data("starClicked",this.id)});return this};$.fn.waproFavStar=function(){return $(this).setupFavStarClick().setupFavStarTip()};function filenameElision(B,A){if(B.length>A){B=B.substring(0,A-10)+"..."}return B}function setFavoriteFormFileInput(E,B){var A=filenameElision(removeFirstSlash(fromLastDir(E)),20);var C=generateFileInputMarkup(A,E,B);var D=$("#addToFavForm");D.find(".inputfile-tag").remove();D.find("#favQuery").before(C);C=D.find(".inputfile-tag");C.show()}function filenameToFileTagClass(C){var B=C.lastIndexOf(".");if(B<0){return"generic"}var A=C.substring(B+1);if(isImageExtension(A)){return"image"}else{return"generic"}}function favformShow(J,H,K,O,I,M,E,C,D,B,G,L){var A=$("#addToFavForm");A.find("#favQuery").val(K);A.find("#favTags").val(C);A.find("#favNotes").val(D);A.data("queryid",J);A.data("querydocid",H);A.data("details","true");A.data("queryaction","add");A.data("fullquerystring",O);A.data("fileinput",I);A.data("datasetfile",M);A.data("querymethod",E);A.data("timestamp",G);if(typeof I!="undefined"&&$.trim(I)!=""){setFavoriteFormFileInput(I,filenameToFileTagClass(I))}else{if(typeof M!="undefined"&&$.trim(M)!=""){if(E=="POST"){setFavoriteFormFileInput(M,"rawdata-min")}else{setFavoriteFormFileInput(M,"rawdata")}}else{A.find(".inputfile-tag").remove()}}if(B){$("#favRemove").show()}else{$("#favRemove").hide()}A.css({position:"absolute",top:L.top,left:L.left,visibility:"hidden"}).show();var N=$("#addToFavForm .inputfile-tag").outerWidth();var F=177;A.find("#favQuery").css({"padding-left":N+3,width:F-N});A.css({visibility:"visible"})}function favformInit(A){$("#addToFavForm .close").unbind("click").click(function(B){B.preventDefault();$(".star-clicked").removeClass("star-clicked");$("#addToFavForm").hide()});$("#addToFavForm #favDone").unbind("click").click(function(I){I.preventDefault();var C=$("#addToFavForm");C.hide();var H=C.find("#favNotes").val();var M=C.find("#favTags").val();var D=C.data("queryid");var K=C.data("querydocid");var F=C.data("queryaction");var B=C.data("details");var L=C.data("fullquerystring");var E=C.find("#favQuery").val();var G=C.data("fileinput");var J=C.data("datasetfile");$.ajax({type:"POST",url:"/input/pro/leftsidebar/queries/managefavorites.jsp",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:{notes:H,tags:M,q:D,qi:K,fullquerystring:L,query:E,action:"add",fileinput:G,details:"true",dataset:J},complete:function(N,O){var Q=N.responseText;var P=$.parseJSON(Q);if(P.result=="true"){$("#star-inputfield, #preferenceBox .star").filter(function(){return($(this).attr("queryid")==D&&K==$(this).attr("querydocid"))}).each(function(){$(this).attr({querytags:P.tagsList,querynotes:P.notes}).addClass("star-orange")});if(typeof A!="undefined"&&typeof A.addHandler=="function"){A.addHandler(P)}$(".star-clicked").removeClass("star-clicked").attr({querynotes:P.notes,querytags:P.tagsList})}else{}}})});$("#addToFavForm #favRemove").unbind("click").click(function(E){E.preventDefault();var D=$("#addToFavForm");var C=D.data("queryid");var B=D.data("querydocid");$.get("/input/pro/leftsidebar/queries/managefavorites.jsp",{q:C,action:"rmv",qi:B},function(H,F){var G=$.parseJSON(H);if(G.result=="true"){$("#star-inputfield, #preferenceBox .star").filter(function(){return $(this).attr("queryid")==C}).each(function(){$(this).attr({querytags:"",querynotes:""}).removeClass("star-orange")});if(typeof A!="undefined"&&typeof A.removeHandler=="function"){A.removeHandler(G)}$(".star-clicked").removeClass("star-clicked")}});$("#addToFavForm").hide()})}var alphaExamples=[];function randomInputInit(){$.get("/alphaExamples.txt",function(A){alphaExamples=A.split("\n")});$("#searchRandom").click(function(A){A.preventDefault();$("#imath").hide();randomInput()})}function randomInput(){if($("input[name='random']").length>0){$("input[name='random']").val("true")}else{$("#calculate").append('<input type="hidden" name="random" value="true" />')}var B=Math.floor(Math.random()*alphaExamples.length);var A=alphaExamples[B];$("#i").val(A).focus();$("#fadeall").remove();if($(".inputfile-tag").length>0){removeFileInput()}$.get("/rand.txt?e="+$("#i").val())}function hideCDFContent(){$("html").addClass("hideCDFContent")}function showCDFContent(){$("html").removeClass("hideCDFContent")}function showLightboxLoading(){var A="lightbox-loading";if($("#"+A).length>0){$("#"+A).remove()}$("body").append('<div id="lightbox-loading">Loading...</div>')}function hideLightboxLoading(){var A="lightbox-loading";if($("#"+A).length>0){$("#"+A).remove()}}function setupAuthStatus(A){if(typeof A=="undefined"){A={}}if(typeof A.signoutRedirect=="undefined"){A.signoutRedirect=window.location.href.substring(window.location.href.indexOf("wolframalpha.com/")+16)}$("#star-inputfield.star-disabled").live("click",function(B){B.preventDefault();$("#tooltip").fadeOut(300);favoritesSignIn()})}function scrollPositionY(){var A;if(typeof getScrollPosition!="undefined"){A=getScrollPosition().y}else{if(typeof getScrollY!="undefined"){A=getScrollY()}else{A=0}}return A}function getAuthboxMarkup(){var A="";if(window.location.href.indexOf("//www.current.")==0){A="//user.wolfram.com/oauth/logout?url="+encodeURIComponent("https://www.current.wolframalpha.com/input/signout.jsp")}else{A="http://www1.wolframalpha.com/oauth/logout?url="+encodeURIComponent("https://www.devel.wolframalpha.com/input/signout.jsp")}var B='   <div id="authbox">     <div class="arrow"></div>     <div id="authbox-top">       <a href="/" class="authbox-sectionlink first">Wolfram|Alpha</a>       <a id="auth-favorites" href="/my/queries/favorites.jsp" class="authbox-sublink first">Favorites</a>       <a id="auth-history" href="/my/queries/history.jsp" class="authbox-sublink">History</a>       <a class="authbox-sublink disabled">Data</a>       <a id="auth-preferences" href="/my/preferences/general.jsp" class="authbox-sublink">Preferences</a>       <a class="authbox-sublink disabled">Account</a>       <a class="authbox-sectionlink">My Widgets</a>       <a class="authbox-sectionlink">My Apps (API)</a>     </div>     <div id="authbox-signout">       <a href="'+A+'">Sign out</a>     </div>   </div>   ';return B}function showSignupTab(){$("#authform-signup").show();$("#authform-signin").hide()}function showSigninTab(){$("#authform-signin").show();$("#authform-signup").hide()}function showSignupForm(B,A){var D="/input/signup.jsp";if($("#auth-popup").length==0){$("body").append("<div id='auth-popup' class='lightbox lightbox-shadows'></div>");var C=$("#auth-popup");C.hide();$.get(D,{f:"lb",redirect:"json"},function(F,E){C.html("<a href='#' class='close'>X</a>"+F);showSignupForm_internal(B,A)})}else{showSignupForm_internal(B,A)}}function showSignupForm_internal(B,A){var C=$("#auth-popup");if(typeof hideCDFContent!="undefined"){hideCDFContent()}$("#lightboxOverlay").show();var D=scrollPositionY();var E=D+($(window).height()/2);C.css({top:(E>210?E:210)});showSignupTab();if(!($.browser.msie&&$.browser.version.substring(0,2)<9)){C.fadeIn()}else{C.show()}$("#signup-form").die("signup.remove").live("signup.remove",function(F){$("#auth-popup").remove();$("#lightboxOverlay").fadeOut()});$("#signin-form").die("signin.remove").live("signin.remove",function(F){$("#auth-popup").remove();$("#lightboxOverlay").fadeOut()});if(typeof B=="function"){$("#signin-form").unbind("signin.callback");$("#signin-form").bind("signin.callback",function(F){B()})}else{if(typeof B=="string"){$("#signin-form").bind("signin.callback",function(F){window.location.href="//www.wolframalpha.com/"+B})}else{$("#signin-form").bind("signin.callback",function(F){window.location.href=window.location.href})}}if(typeof A=="function"){$("#signup-form").unbind("signup.callback");$("#signup-form").bind("signup.callback",function(F){A()})}else{if(typeof A=="string"){$("#signup-form").bind("signup.callback",function(F){window.location.href="//www.wolframalpha.com/"+A})}else{$("#signup-form").bind("signup.callback",function(F){window.location.href=window.location.href})}}}function showLoginForm(A){var C="/input/signin.jsp";if($("#auth-popup").length==0){$("body").append("<div id='auth-popup' class='lightbox lightbox-shadows'></div>");var B=$("#auth-popup");B.hide();$.get(C,{f:"lb",redirect:"json"},function(E,D){B.html("<a href='#' class='close'>X</a>"+E);showLoginForm_internal(A)})}else{showLoginForm_internal(A)}}function showLoginForm_internal(A){var B=$("#auth-popup");if(typeof hideCDFContent!="undefined"){hideCDFContent()}$("#lightboxOverlay").show();var C=scrollPositionY();var D=C+($(window).height()/2);B.find("#authform-signintab").click();B.css({top:(D>210?D:210)});showSigninTab();if(!($.browser.msie&&$.browser.version.substring(0,2)<9)){B.fadeIn()}else{B.show()}$("#signin-form").die("signin.remove").live("signin.remove",function(E){$("#auth-popup").remove();$("#lightboxOverlay").fadeOut()});if(typeof A=="function"){$("#signin-form").unbind("signin.callback");$("#signin-form").bind("signin.callback",function(E){alert("signin");A()});A()}else{if(typeof A=="string"){$("#signin-form").bind("signin.callback",function(E){window.location.href="//www.wolframalpha.com/"+A})}else{$("#signin-form").bind("signin.callback",function(E){window.location.href=window.location.href})}}}function fetchAuthStatus(A,B){if(typeof B!="undefined"){fetchAuthJSON(function(C){if(typeof C.auth=="undefined"||C.auth!="true"){A(C)}else{B(C)}})}else{fetchAuthJSON(function(C){A(C)})}}function fetchAuthJSON(A){$.get("/input/authjson.jsp",{},function(D,C){var B=$.parseJSON(D);A(B)})}var User=(function(){var A={};function B(D){for(var C in D){A[C]=D[C]}}B.prototype.getPermissions=function(){return A};B.prototype.isEnabled=function(C){return A[C]};return B})();function hideFeaturePopup(B){var A=$("#feature-popup");A.fadeOut();if(A.hasClass("remove")){A.parents(".lightbox").remove()}if(!B){$("#greyOverlay, #lightboxOverlay").fadeOut()}showCDFContent()}function getFeaturePopup(B){var C="/input/podaction.jsp";var A=$("#feature-popup");$.cookie("wa_trial_redirect",encodeURIComponent(window.location.href),{domain:".wolframalpha.com",path:"/"});$.get(C,function(E,D){A.html("<a href='#' class='close'>X</a>"+E);A.hide();displayPopup(B)})}function displayPopup(A){$("#lightboxOverlay").show();$("#feature-popup .feature").hide();$("#feature-popup .feature-"+A).show();if(user.isEnabled("trialeligible")){$("#fe-popup-bot #trialbtn").hide();$("#fe-popup-bot #starttrialbtn").show()}else{if(user.isEnabled("needsupgrade")){$("#fe-popup-bot #trialbtn").hide();$("#fe-popup-bot #notrialbtn").show()}}$("#feature-popup").fadeIn()}function showFeaturePopup(A){if($("#feature-popup").length===0){$("body").append("<div id='feature-popup' class='lightbox lightbox-shadows'></div>");getFeaturePopup(A)}else{displayPopup(A)}$(".button_signin").live("click",function(){hideFeaturePopup(true)});$("a.nothanks").die("click").live("click",function(){hideFeaturePopup()});var B=scrollPositionY();var C=B+($(window).height()/2);$("#feature-popup").css({top:(C>210?C:210)})}$(document).ready(function(){sessionCookie=$.cookie("session_protocol");isHttps=window.location.href.indexOf("https://")!=-1;if(isHttps&&sessionCookie!="https"){$.cookie("session_protocol","https")}else{if(!isHttps&&sessionCookie!="http"){$.cookie("session_protocol","http")}}$("#oauth_signin").click(function(){$(".signin-tipbubble").css("display","none");$(".did-you-know-tipbubble").css("display","none")})});var keepParentActive=0;function getAllURLParams(){var B=window.location.href;if(B.indexOf("#")!=-1){B=B.substring(0,B.indexOf("#"))}B=B.substring(B.indexOf("?")+1);params=B.split("&");paramsArray=new Array();for(var A in params){key=params[A].substring(0,params[A].indexOf("="));val=decodeURIComponent(params[A].substring(params[A].indexOf("=")+1));paramsArray.push([key,val])}return paramsArray}function generateBlankSubpodPop(A){return'   <div class="lightbox-rounded subpod-imgpop" id="'+A+'">     <a href="#" class="close">X</a>     <div class="imgpop-content">           </div>     <div class="imgpop-footer lightbox-roundedbottom">       <a class="imgpop-export"><span></span>Data Download</a>       <a class="imgpop-saveas"><span></span>Customize &amp; Save Image</a>       <a class="imgpop-share"><span></span>Clip &#39;n Share</a>       <br class="clear" />     </div>   </div>   '}function getAssumptions(){var C=getAllURLParams();var B=new Array();for(var A in C){if(C[A][0]=="a"){B.push(C[A][1])}}return B}function getAssumptionsFields(){var C=getAllURLParams();var B=new Array();for(var A in C){if(C[A][0]=="f"){B.push(C[A][1])}}return B}function forceHideTooltip(){$("#tooltip").hide()}function startStudentVerification(){$.get($(this).attr("href"),{},function(A){if($("#studentverify-popup").length>0){$("#studentverify-popup").replaceWith(A)}else{$("#popanchor").append(A)}})}function inputTabsInit(){if(!user.isEnabled("signedin")||!user.isEnabled("fupload")){showGenfilesSamplesList();showImglibSamplesList();showRawDataSamplesList()}}var getDownloadPopup=function(A){var B="/input/download-computed.jsp";var C=$("#download-popup");$.get(B,{isFileInput:isFileInput,isDataInput:isDataInput,isFacebookInput:isFacebookInput},function(E,D){C.html('<a href="#" class="close">X</a>'+E);showDownloadPopup(A)})};var setupDownloadPopup=function(A){if($("#download-popup").length===0){$("#computed").append('<div id="download-popup" class="lightbox lightbox-shadows"></div>');getDownloadPopup(A)}else{showDownloadPopup(A)}};var showDownloadPopup=function(A){$("#download-popup .notShown").hide();var B=$("#download-popup").show();$("#wa-downloadcomputed").show();if(A){$("#download-popup").addClass("disabled");$("a#downloadcdf").die("click");$("#downloadpdf").die("click")}return B};$("#downloadAs .cdfbutton").live("click",function(){$("#wa-downloadcomputed").fadeOut(200);if($.cookie("has_cdfplayer")==="1"||$.browser.mathematica){downloadCdf()}else{setTimeout(function(){$("#isInstalled").fadeIn(300)},150)}});var toggleLoadingPopup=function(A){$("footer#computed").append(showDownloadPopup(false));$("#wa-downloadcomputed").hide();if(A){$("#dlPDFGenerated, #dlPDFIcon").css("display","inline-block")}else{$("#dlNBGenerated, #dlNBIcon").css("display","inline-block")}$("img#dlSpikey").css("margin-left","20px");$("#isInstalled").fadeOut(200);setTimeout(function(){$("#dlFile").fadeIn(300)},150);return $("#download-popup")};var downloadCdf=function(){toggleLoadingPopup(false);if($.cookie("has_cdfplayer")!=="1"){$.cookie("has_cdfplayer","1",{expires:365,path:"/input",domain:".wolframalpha.com"})}if($("#downloadcdf").data("downloadKey")&&$("#downloadcdf").data("downloadKey").length>0){downloadNotebook($("#downloadcdf").data("downloadKey"),$("#downloadcdf").data("escInput"),$("#downloadcdf").data("window.search"))}else{downloadNotebook(downloadKey,inputEsc,window.location.search)}return false};$("#downloadAs .pdfbutton").live("click",function(A){toggleLoadingPopup(true);A.preventDefault();if($("#downloadpdf").data("downloadKey")&&$("#downloadpdf").data("downloadKey").length>0){downloadPDF($("#downloadpdf").data("downloadKey"),$("#downloadpdf").data("escInput"),$("#downloadpdf").data("window.search"))}else{downloadPDF(downloadKey,inputEsc,window.location.search)}return false});$.fn.extend({fadeOutRemove:function(A){$(this).fadeOut(A||300,function(){$(this).remove()})}});var buttonAdTrigger=function(D,C){var E=D.visits,B=D.count,A=D.opts;if(E==null||B.length<1||isNaN(B)||E<1){B=0}$.cookie("WolframAlphaSessionVisits",E+1+"",A);if(E%3==0&&false){makeProAdPopup()}else{if(C.text()=="Show steps"&&false){makeProAdPopup()}}return checkAnnoyanceAd()};$(document).ready(function(){setupUploadMethod();watrack.initDefaults();prefillDatasetInput();var D=function(H,G){G.preventDefault();$(".lightbox").fadeOut();if($(H).hasClass("remove")){$(H).parents(".lightbox").remove()}$("#greyOverlay, #lightboxOverlay").fadeOut();showCDFContent()};$(".subpod-popup").live("click",function(){keepParentActive=1});$(".lightbox a.close").die("click.closeBtn").live("click.closeBtn",function(H){H.preventDefault();if($(this).hasClass("remove")){$(this).closest(".lightbox").remove()}else{$(this).closest(".lightbox").fadeOut(300)}if(keepParentActive==1){keepParentActive=0}else{var G=$(this).parent().hasClass("subPopup");if(!G){$("#greyOverlay, #lightboxOverlay").fadeOut(300)}}showCDFContent()});$("#trial-reminder a.close").die("click").live("click",function(G){D($(this),G)});$("#download-popup .close").live("click",function(){$(".traypopup").fadeOutRemove()});var F={sidebar:"proside-layer2",favorites:"adside-layer",tray:"adside-layer",copyablept:"adside-layer2",downloadpage:"adside-layer2",downloaddata:"",customize:""};$("#lightboxOverlay").live("click.removeOverlay",function(I){I.preventDefault();$("#preferenceBox a.close").trigger("click");var H=$(I.target);if($(document.body).hasClass(F.sidebar)){if(H.closest("#preferenceBox").length===0){resetPreferencesSidebar()}}else{if($(document.body).hasClass(F.tray)){if(H.closest(".traypopup").length===0){$(".traypopup a.close").trigger("click.closeBtn")}}else{if($(document.body).hasClass(F.downloadpage)){if(H.closest(".traypopup").length===0||H.closest("#download-popup").length===0){var G=[".traypopup","#download-popup","#popanchor"];$.each(G,function(J,K){G[J]+=" a.close"});$(G).trigger("click")}}else{$("#datadownload a.close,  #subpanel a.close,  .traypopup a.close").trigger("click")}}}});if($("#trial-reminder").length>0){$.cookie("WolframAlphaTrialEnding","1",{expires:1,domain:".wolframalpha.com"})}$("a#close-adside, #lightboxOverlay.ad-overlay, #auth-popup .close").live("click",function(){closeInputMethodTabs()});if($.cookie("wa_pro_trial_showmsg")!=null){$.cookie("wa_pro_trial_showmsg",null,{domain:".wolframalpha.com",path:"/"})}if($.cookie("wa_pro_trial_checkemail")!=null){$.cookie("wa_pro_trial_checkemail",null,{domain:".wolframalpha.com",path:"/"})}if($.cookie("wa_pro_trial_newuser")!=null){$.cookie("wa_pro_trial_newuser",null,{domain:".wolframalpha.com",path:"/"})}if($.cookie("wa_pro_newuser")!=null){$.cookie("wa_pro_newuser",null,{domain:".wolframalpha.com",path:"/"})}if($.cookie("wa_pro_promo")!=null){$.cookie("wa_pro_promo",null,{domain:".wolframalpha.com",path:"/"})}$("body.adside-layer .traypopup a.close, #popanchor .popup .close").live("click",function(G){D($(this),G);$(document.body).removeClass("adside-layer adside-layer2")});$("a.download-sidebar").live("click",function(G){G.preventDefault();$(this).closest("#datadownload").fadeOutRemove();$("#proside-downloaddata a.heading").trigger("click.prefbox")});$("a#cClose").live("click",function(G){$(this).parent().siblings("a.close").trigger("click.closeBtn")});$("input#i, input.assuming-input").live("keyup",function(H){$(this).siblings("a#star-inputfield").hide();var G=$(".traypopup.input-full");if($(this).val().length===200){if(G.length>0||G.hasClass("non-active")){if(!G.hasClass("long-assumption")&&$(this).is(".assuming-input")){$(this).parent("td.input").prepend(G);G.addClass("long-assumption")}else{if(G.hasClass("long-assumption")&&$(this).is("input#i")){$(".un-spacer").after(G);G.removeClass("long-assumption")}}G.fadeIn(300).removeClass("non-active")}else{if($(this).is(".assuming-input")){addTrayPopup("/input/tray.inputlength.jsp?assuming=1",$(this).parent("td.input").first())}else{addTrayPopup("/input/tray.inputlength.jsp")}}}else{if(G.length>0||!G.hasClass("non-active")){G.addClass("non-active").fadeOut(300)}}});$("a#datainput-traytrigger").live("click.dataTray",function(){$(this).closest(".traypopup").fadeOutRemove(300);$("#inputtab-datainput").click()});$(".traypopup.favorites-star a.close").die("click").live("click",function(){$(this).parent(".traypopup").fadeOut(300,function(){$(this).remove()})});var A={"class":"tooltip-formaction"};$("#inputtab-keyboard a, #imath .inputtab-keyboard a").waproTooltip("Extended keyboard",A);$("#inputtab-images a, #imath .inputtab-images a").waproTooltip("Image input",A);$("#inputtab-datainput a, #imath .inputtab-datainput a").waproTooltip("Data input",A);$("#inputtab-genfiles a, #imath .inputtab-genfiles a").waproTooltip("File upload",A);$("#inputtab-datasets a").waproTooltip("Use a dataset",A);$("#inputtab-keyboard.active a").waproTooltip("Close extended keyboard",A);$("#inputtab-images.active a").waproTooltip("Close image input",A);$("#inputtab-datainput.active a").waproTooltip("Close data input",A);$("#inputtab-genfiles.active a").waproTooltip("Close file upload",A);$("#inputtab-datasets.active a").waproTooltip("Close use a dataset",A);$("#star-inputfield").waproTooltip("Add to favorites",A);if(!window.waSignedIn){(function(){var H=!JSON.parse(localStorage.getItem("dont-show-dyn-fav"));if(!H){return }var G=function(L){var K=$(".did-you-know-tipbubble");if(K.length<1){K=$('<div class="did-you-know-tipbubble"></div>');$("#input").append(K)}K.empty();K.html("<span class='tip-bubble-arrow'></span><a class=\"popover-close\">x</a>"+(L?'<div class="did-you-know-image"></div><p>Now you can add queries to your favorites and annotate them!</p>':'<div class="sign-in-free-image"></div><p>to add queries to your favorites and annotate them!</p>')+'<a class="bubblebtn" id="dyn-fav-signin">Sign In</a><div class="dont-show-dyn-container"><input type="checkbox" id="dont-show-dyn" name="dont-show-dyn">&nbsp;<label for="dont-show-dyn">Don\'t show this again.</label></div>').delay(800).show();K.on("click",".popover-close",function(){K.hide();H=!$("#dont-show-dyn").prop("checked")});K.on("click","#dont-show-dyn",function(){H=!$("#dont-show-dyn").prop("checked");localStorage.setItem("dont-show-dyn-fav",!H)});K.on("click","#dyn-fav-signin",function(M){forFeatureSignIn("favorites","favorites")})};var J=function(){var K=$(".signin-tipbubble");if(K.length<1){$(".common").first().after('<div class="signin-tipbubble"></div>');K=$(".signin-tipbubble")}K.empty();K.html('<span class=\'tip-bubble-arrow\'></span><a class="popover-close">x</a><div class="personalize-wa-exp-image"></div><p>Sign in to copy results as plaintext, save your history, annotate favorite queries, set preferences, and more!</p><br/><div class="dont-show-dyn-container"><input type="checkbox" id="dont-show-dyn" name="dont-show-dyn">&nbsp;<label for="dont-show-dyn">Don\'t show this again.</label></div>').delay(800).show();K.on("click",".popover-close",function(){K.hide()})};sessionStorage.setItem("queryCount",parseInt(sessionStorage.getItem("queryCount")||0)+1);if(sessionStorage.getItem("queryCount")==="4"){var I=Math.floor(Math.random()*2);if(I===0){G(true)}if(I===1){J()}}}())}$("#star-inputfield.star-orange").waproTooltip("Edit favorite",A);if(user.isEnabled("favorites")){$("#calculate .star-input").setupFavStarClick()}if(user.isEnabled("fupload")&&!$.browser.msie){setupGenfileFiledrop();setupImageFiledrop()}$("#datainput-textarea").autoResize({maxHeight:250});prefillDatasetInput();var C={domain:".wolframalpha.com",path:"/"};var B=+$.cookie("WolframAlphaSessionVisits");if(B==null||B.length<1||isNaN(B)||B<1){B=0}$.cookie("WolframAlphaSessionVisits",B+1+"",C);$("ul.h > li > a").live("click",function(J){var I=+$.cookie("WolframAlphaSessionVisits");if(user.isEnabled("removeads")){return }var H={visits:I,count:B,opts:C},G=$(this);if($("#butane").length==0&&false){$.get("/input/proads.jsp",{},function(L,K){$(L).appendTo(document.body).show();buttonAdTrigger(H,G)})}else{if(false){buttonAdTrigger(H,G)}}});$("#proSidebar .heading.disabled").waproTooltip("Coming soon");$("#proMenu li a").not("#topmenu-favs a, #topmenu-hist a, #topmenu-home a, #signoutLink").waproTooltip("Coming soon");favformInit();setupAuthStatus();$("#proSidebar .proside-signin .proside-signinbtn").live("click",function(G){G.preventDefault();showLoginForm()});$("#wa-loginform #loginform-createacct").live("click",function(G){G.preventDefault();$.get($(this).get(0).href,{f:"lb"},function(I,H){if($("#auth-popup").length==0){$("body").append("<div id='auth-popup'></div>")}$("#auth-popup").html("<a href='#' class='close'>x</a>"+I);$("#auth-popup .close").click(function(J){J.preventDefault();$("#auth-popup").hide().html("");$("#lightboxOverlay").hide()})})});if(typeof prosideLoadRelatedQ!="undefined"){var E=function(){};prosideLoadRelatedQ(E)}if((isFileInput&&isFileInput=="True")||(isDataInput&&isDataInput=="true")){$("#downloadAs").hide();$("#computedBy").css("padding-top","4px")}if(isFileInput==="True"||isDataInput=="true"){if(getURLParam("examplefile")!=="1"){$("#share").append('<div id="unavailableFormat"><span class="arrow" style="left: auto; right: 22px;"></span><p>Sharing of pages involving user-supplied data, files, or images is not yet available.</p><br/><h2>Coming soon...</h2></div>');$("#share").addClass("disabled");$("#share a").live("click",function(G){G.preventDefault();G.stopPropagation();return false});$("#share a").live("mouseover",function(H){var G="25px";if($(this).hasClass("twitter")){G="59px"}else{if($(this).hasClass("facebook")){G="94px"}else{if($(this).hasClass("more")){G="128px"}else{if($(this).hasClass("widget")){G="162px"}else{if($(this).is("#moreSocialLink")){G="162px"}else{if($(this).is(".reddit")){G="142px"}}}}}}$("#unavailableFormat .arrow").css("left",G);$("#unavailableFormat").show()});$("#share").live("mouseout",function(G){$("#unavailableFormat").hide()})}else{if(getURLParam("examplefile")==="1"){$("#share").append('<div id="unavailableFormat"><span class="arrow" style="left: auto; right: 22px;"></span><p>Creation of widgets involving tabular data, images, or files, including example files, is not yet available.</p><br/></div>');$("#share").addClass("no-widget");$("#share .widget").live("click",function(G){G.preventDefault();G.stopPropagation();return false});$("#share .widget").live("mouseover",function(G){$("#unavailableFormat").show()}).live("mouseout",function(G){$("#unavailableFormat").hide()})}}}if(!user.isEnabled("hassubscription")){$(".results-pod .pod .sub a.subpod-zoom, .pod .output").live("click",function(G){if($(G.target).is(".results-pod .pod .sub a.subpod-zoom, .pod .output, img, area")&&!$(G.target).is(".pod.sbs a, .pod.sbs .output, .disabled, details a, details img, area[href]")&&!$(G.target).is(":disabled")&&!$(G.target).data("attribution")){G.preventDefault();$(this).closest(".sub").addClass("subpod-hover");var H=$(this).parent().find(".subpod-zoom").offset();$("#subpod_zoom").css({top:H.top+25,display:"block",left:H.left-70});$("#lightboxOverlay").show();podactionTrack(".results-pod .sub .subpod-zoom","enlarge","&src=actions&ad=true")}});$(".results-pod .sub:not(.subpod-showcdf) a.subpod-interactive, .results-pod .sub:not(.subpod-showcdf) .subpod-controls a.subpod-ascdf:not(.pod-interactive .disabled),.pod-interactive").live("click",function(G){G.preventDefault();var J="";if($(this).closest(".pod").hasClass("stubpod")){J=$(this).siblings("div").find(".sub")[0].id.match(/subpod_(.*$)/)[1]}else{if($(this).parents(".sub").length>0){J=$(this).parents(".sub")[0].id.match(/subpod_(.*$)/)[1]}else{J=$(this).prev()[0].id.match(/subpod_(.*$)/)[1]}}if($(this).is(".subpod-interactive, .stub-pod, .pod-interactive")){var H="pod"}else{var H="actions"}if(!$(this).hasClass("lding")){$(this).closest(".sub").addClass("subpod-hover");$(this).removeClass("lding");var I=$(this).offset();if($(this).is(".subpod-interactive, .stub-pod")){I.top=I.top-90;I.left=I.left+115;$("#subpod_cdf").addClass("left").find(".close").click(function(){$("#subpod_cdf").removeClass("left")})}else{I.top=I.top+25;I.left=I.left-137}$("#subpod_cdf").css({top:I.top,display:"block",left:I.left});$("#lightboxOverlay").show();podactionTrack(".results-pod .sub:not(.subpod-showcdf) a.subpod-interactive, .results-pod .sub:not(.subpod-showcdf) .subpod-controls a.subpod-ascdf:not(.pod-interactive)","interactive","&src="+H+"&ad=true&podid="+J)}})}$(".dyk .button_signin").live("click",function(G){G.preventDefault();$.get("/click.txt?action=signin&src=prompt&feature="+$(G.target).closest(".popup").attr("id").split("-")[0]+"&type="+($(G.target).hasClass("a")?"signincallouta":"signincalloutb"));$(G.target).closest(".dyk").remove()});$(".dyk input[type=checkbox]").live("click",function(G){$(G.target).closest(".dyk").remove();$.cookie("WolframAlphaNoProCallouts",1,{expires:365,domain:"wolframalpha.com"});var H=$(G.target).closest(".popup").attr("id");if(H){H=H.split("-")[0]}else{H=""}$.get("/click.txt?action=donotshow&src=prompt&feature="+H+"&type="+($(G.target).hasClass("a")?"signincallouta":"signincalloutb"))});$(".dyk .close").live("click",function(G){$.get("/click.txt?action=close&src=prompt&feature="+$(G.target).closest(".popup").attr("id").split("-")[0]+"&type="+($(G.target).hasClass("a")?"signincallouta":"signincalloutb"))});doOldJSFooter()});function doOldJSFooter(){$(".foot-newsletter, .foot-connect").each(function(){$(this).mouseover(function(){$(this).addClass("foot-hover")}).mouseout(function(){$(this).removeClass("foot-hover")})});window.type=getURLParam("type").replace(/\+/g," ")||"";window.podselector=getURLParam("podselector").replace(/\+/g," ");if($(".pod").length>0){$("html").removeClass("loading")}$(window).load(function(){if($(".pod").length<1&&$("#answers section").length<1&&$("#recalculateBar").length<1&&!$.browser.msie){$("#answers").hide()}$("html").removeClass("loading")});$("#input").addClass("loading");$(window).load(function(){$("#input").removeClass("loading")});if($("#i").val()===""){$("#i").focus()}if(getURLParam("asynchronous")!="false"){$("input[name='asynchronous']").remove()}if(getURLParam("i")===null||getURLParam("entityPage")==="true"||getURLParam("asynchronous")==="false"||$("#splat").length==1){$("#tmpMessage").attr("disabled","");$("#input").removeClass("loading")}$("#ftAssumptionsMade").val(assumptionsMade);$("#ftRawAssumptions").val(rawAssumptions);$("#ftParsed").val(parsedExpr);if(!isPost&&location.href.lastIndexOf("/input/")==location.href.length-7){window.location="/"}}function ontologicalRetry(C,B){$("#computed").remove();$("#answers").get(0).id="ontres";var A="/Calculate/splat.jsp?i="+C+"&recompute=ontology&asynchronous=false&f=7&encryptParse="+B;if(handwritten==1){A=A+"&handwritten=1"}$.ajax({url:A,success:function(D){$("#toSources").css("font-family","Arial");$("#ontology").show();$("#computed").remove();$(".pod, .sub, .output, .sub img").each(function(F){if($(this).is(".sub img")){jsonArray.popups[$(this).attr("id")+"_old"]=jsonArray.popups[$(this).attr("id")]}$(this).attr("id",$(this).attr("id")+"_old")});$("#coperium").after(D).remove();$("#ontres").ajaxStop(function(){$("#ontres .pod.loading").hide()});$("#results").find("img[usemap]").each(function(F){$(this).maphilight()});$("#answers").addClass("ontology");var E=showDownloadPopup;showDownloadPopup=function(F){E(F);if(!F&&$("#answers").hasClass("ontology")){$("#downloadpdf").die("click").click(function(G){G.preventDefault();$("#dlPDFGenerated, #dlPDFIcon").css("display","inline-block");$("img#dlSpikey").css("margin-left","34px");$("#wa-downloadcomputed").fadeOut(200);setTimeout(function(){$("#dlFile").fadeIn(300)},150);$.get("/input/pdf.jsp?id="+ontologicalDownloadKey+"&i="+C,function(K,J,H){$("#download-popup").fadeOut(200);if(H.status==200){var I="pdfGet.jsp?id="+$.trim(H.responseText)+"&i="+C;window.location=I}$("#download-popup").attr("disabled","")});return false})}}},error:function(D,F,E){$("#coperium").remove()}})}function toggleScrolling(B){if(!B){var A=[32,33,34,35,36,37,38,39,40];$(document).bind("keydown",function(D){var C=D.which;if(A.indexOf(C)>-1){D.preventDefault();return false}return true});$("html").addClass("no-scroll")}else{$("html").removeClass("no-scroll");$(document).unbind("keydown")}}function extractSubpodCellDataTempFile(A){return A.data("cellDataTempFile")}function extractSubpodImgCacheKey(B){var C;var A=B.find("img").filter(function(D){if($(this).get(0).src.indexOf("podImage.jsp")){return true}else{return false}}).slice(0,1);C=unescape(getURLParam("id",A.get(0).src));return C}function extractPodIdentifier(B){var A=B.data("podIdentifier");if(typeof A!="undefined"){return A.replace(/^\"/,"").replace(/\"$/,"")}var B=$("#"+B.get(0).id);var A=B.data("podIdentifier");if(typeof A!="undefined"){return A.replace(/^\"/,"").replace(/\"$/,"")}}function imgpopGetSubpodID(B){var A=$(B).get(0).id.replace("_zoom","");return A.substring(0,A.indexOf("_MSP"))}function extractSubpodTitle(A){var B=A.find("h2:first").text().trim();if(B.endsWith(":")){B=B.substring(0,B.length-1)}return B}function extractPodTitle(A){var B=null;if(A.is(".pod")){B=A}else{if(A.is(".sub")){B=A.closest(".pod")}else{return }}var C=B.children("h2").text().trim();if(C.endsWith(":")){C=C.substring(0,C.length-1)}return C}function extractSubpodTempID(A){return A.data("tempFileID")}function resizePluginSubpod(A){if(typeof A=="undefined"||typeof A.RecommendedHeight=="undefined"){return }A.height=A.RecommendedHeight}function bindCDFPluginAutoResize(A){$(A).show();if(typeof A.addEventListener!="undefined"&&!($.browser.msie&&$.browser.version.substring(0,2)>=9)){A.addEventListener("RecommendedSizeChanged",function(){resizePluginSubpod(A)},false,false)}else{A.attachEvent("RecommendedSizeChanged",function(){resizePluginSubpod(A)})}}function extractSubpodServer(C){var A;try{if(C.find(".subpod-cdfplugin").length>0){A=C.find("embed").attr("src").match(/.?s=(.*)/)[1]}else{A=C.find(".output").slice(0,1).find("img").get(0).src.match(/(&|\?)s=(\d+)(&|$)/)[2]}}catch(B){A=""}if(A==""){A=C.data("tempFileServer")}return A}function extractSubpodSubselection(A){return $(A).data("subselection")}function getAuthIns(){var A=window.location.host;if(A.indexOf("devel")!=-1){return"DEV"}if(A.indexOf("current")!=-1){return"CUR"}if(A.indexOf("test")!=-1){return"TST"}if(A.indexOf("preview")!=-1){return"PVW"}return""}(function autoSignIn(){if(window.location.hash.indexOf("iframesignin=")<0){return }var E=decodeURIComp(window.location.hash.replace("#iframesignin=",""));var C=getAuthIns()==="DEV"?"https://wc.test.wolframalpha.com":"https://wc.wolframalpha.com/";var B;switch(getAuthIns()){case"DEV":B="www.devel";break;case"CUR":B="www.current";break;case"TST":B="www.test";break;case"PVW":B="preview";break;default:B="www";break}B="//"+B+".wolframalpha.com";if(window.WAAdsConfig){WAAdsConfig.showAds=false}closeOtherLightboxes();makeAuthContainer("signin-lightbox");makeAuthForm(C+E,"custom","Social Signin",function(){$("#auth-popup, #lightboxOverlay").css("visibility","hidden").show();var F=$("#oauth_signin_iframe")[0];$(F).load(function(){try{F.contentWindow.postMessage("size","*");F.contentWindow.postMessage("title","*")}catch(G){}try{F.contentWindow.postMessage("redirect","*")}catch(G){}})});var A=true;var D=function(G){try{var I=JSON.parse(G.originalEvent.data)}catch(F){return }if(I.width!==undefined&&I.height!==undefined){$("#oauth_iframe_border").css("height",I.height).css("width",I.width);$("#auth-popup.signin-lightbox").css("margin-left",-I.width/2).css("margin-top",-I.height/2);if(A){$("#auth-popup, #lightboxOverlay").hide().css("visibility","").fadeIn();A=false}}if(I.title!==undefined){$("#authform-header-signin").text(I.title)}if(I.redirect!==undefined){var H=location.href;location.href=I.redirect;if(H!==location.href){forcePageReload()}}};$(window).bind("message",D)})();function setupSignInLB(B,A,D,E,C){clearAuthenticationCookies();setupSignIn(1,B,A,D,E,C)}function setupSignIn(A,D,C,B,I,G){var E="/input/login.jsp";if(typeof (baseDomain)!="undefined"){E=baseDomain+E}var F="";if(typeof (G)!="undefined"){E=E+"?social=0&_="+(new Date()).getTime();F=" nosocial"}else{E=E+"?_="+(new Date()).getTime()}if(B=="showsteps"){E+="&feature=showsteps";F+=" showsteps"}if(typeof (A)!="undefined"&&A!=null){$.get(E,{},function(K){if(K.result=="success"){closeOtherLightboxes();makeAuthContainer("signin-lightbox"+F);setupSignIn_internal(D,C);var J=K.url+"&redirect="+encodeURIComp(location.href);makeAuthForm(J,B);$("#auth-popup").fadeIn();$("#lightboxOverlay").fadeIn();if(typeof (I)=="function"){I()}}else{}},"json")}else{var H=$.ajax({type:"GET",async:false,url:E}).responseText;H=jQuery.parseJSON(H);return H}}function setupSignIn_internal(B,A){setupSignUp_internal(B,A)}function finishSignIn(A){showSigningInMsg();$("#oauth_signin_iframe").fadeOut("fast",function(){$("#auth-popup").trigger("signin")})}function showSigningInMsg(){if($("#signingIn").length>0){$("#signingIn").show()}else{$("#authform-body").append('<div id="signingIn">Signing in...</div>')}}function hideSigningInMsg(){$("#signingIn").hide()}function setupSignUp(C,A,G,B,D,F){var E="";var H="";if(typeof (D)!="undefined"){E=" nosocial";H+="?social=0"}closeOtherLightboxes();makeAuthContainer("signup-lightbox"+E);makeAuthForm("/input/signup.jsp"+H,G);$("#auth-popup, #lightboxOverlay").fadeIn();clearAuthenticationCookies();setupSignUp_internal(C,A,B,F)}function setupSignUp_internal(C,A,B,E){var D=$("#auth-popup");$("#lightboxOverlay").fadeIn();var F=$(window).scrollTop();var G=F+($(window).height()/2);D.css({top:G});if(!($.browser.msie&&$.browser.version.substring(0,2)<9)){D.fadeIn()}else{D.show()}$("#auth-popup").die("signup.remove").live("signup.remove",function(H){$("#auth-popup").remove();$("#lightboxOverlay").fadeOut()});$("#auth-popup").die("signin.remove").live("signin.remove",function(H){$("#auth-popup").remove();$("#lightboxOverlay").fadeOut()});if(typeof C=="function"){$("#auth-popup").unbind("signin.callback");$("#auth-popup").bind("signin.callback",function(H){C(B,E)})}else{if(typeof C=="string"){$("#auth-popup").bind("signin.callback",function(H){window.location.href="http://www.wolframalpha.com/"+C})}else{$("#auth-popup").bind("signin.callback",function(H){forcePageReload()})}}if(typeof A=="function"){$("#auth-popup").unbind("signup.callback");$("#auth-popup").bind("signup.callback",function(H){A(B,E)})}else{if(typeof A=="string"){$("#auth-popup").bind("signup.callback",function(H){window.location.href="http://www.wolframalpha.com/"+A})}else{$("#auth-popup").bind("signup.callback",function(H){forcePageReload()})}}}function finishSignUp(){showCreatingAccountMsg();$("#oauth_signin_iframe").fadeOut("fast",function(){$("#auth-popup").trigger("signup")})}function showCreatingAccountMsg(){$("#oauth_iframe_border").append('<div id="signingUp">Setting up account...</div>')}function makeAuthContainer(A){var B="lightbox lightbox-shadows lightbox-rounded";if($("#auth-popup").length==0){$("body").append('<div id="auth-popup" class="lightbox lightbox-shadows lightbox-rounded"></div>');$("#auth-popup").addClass(B).addClass(A).hide().html('<a href="#" class="close">X</a>');$("#auth-popup a.close").click(function(){if(location.hash){location.href=location.href.replace(/#.*$/,"#")}})}else{$("#auth-popup").attr("class","").addClass(B).addClass(A)}}function makeAuthForm(C,A,B,D){$.get("/input/auth.jsp",{url:C,info:A,title:B},function(E){if($("#wa-authform").length==0){$("#auth-popup").append(E);$("#oauth_signin_iframe").focus()}else{$("#wa-authform").replaceWith(E);$("#oauth_signin_iframe").focus()}if(D!==undefined){D(E)}})}function resizeForSignIn(){$("#oauth_signin_iframe").load(function(){$("#auth-popup").removeClass("signup-lightbox").addClass("signin-lightbox");$(this).unbind("load");$(this).focus();hideSigningInMsg();$("#auth-popup").removeClass("nosocial")})}function resizeForSignUp(){$("#auth-popup").removeClass("signin-lightbox").addClass("signup-lightbox");$("#oauth_signin_iframe").focus()}function signUpForTrial(B,C,E){if(typeof (B)=="undefined"){var D=removeURLAnchor(window.location.href);$.cookie("wa_pro_trial_redirect",encodeURIComponent(D),{domain:".wolframalpha.com",path:"/"})}var A=function(P,G,O){var J=function(Q){if(Q=="showtrialmsg"){$.cookie("wa_pro_trial_showmsg",true,{domain:".wolframalpha.com",path:"/"})}else{if(Q=="checkemail"){$.cookie("wa_pro_trial_checkemail",true,{domain:".wolframalpha.com",path:"/"})}}forcePageReload()};var I="",K="",M="";if(typeof (G)!="undefined"){if(G.data("classification")){I=G.data("classification")}if(G.data("redirect")){K=G.data("redirect")}if(G.data("confirm")){M=G.data("confirm")}}var H="";var L="";var N="/input/trial.jsp";if(I=="wpg"){N="/input/wpgtrial.jsp";if(typeof (O)!="undefined"){H=O;L=M}}$.post(N,{immediateresult:H,confirmtrial:L},function(V){var U;try{U=$.parseJSON(V)}catch(S){if(typeof (P)!="undefined"){if(typeof V!="undefined"&&V.trim().length>0){var Q=$(V);if(Q.is("#trial-reminder")&&K!=""){window.location.href=K}else{closeOtherLightboxes();Q.appendTo($("#popanchor"));var T=$(window).scrollTop();var X=T+($(window).height()/2);var R=Q.closest(".lightbox").css({top:X,"margin-top":(-Q.height()/2)});R.find(".close").click(function(){$(this).closest(".lightbox").remove();$("#lightboxOverlay").hide()});if(K!=""){if(Q.is("#comeback-to-pro, #pro-needed")){Q.find(".startfreetrial").data("redirect",K)}else{if(Q.is("#trial-reactivated, #welcome-popup")){Q.find(".continuetowpg").attr("href",K)}}}if(Q.is("#trial-reactivated, #welcome-popup")){Q.find(".continuetowpg").click(function(){$(this).closest(".lightbox").hide();$("#lightboxOverlay").hide()})}$("#lightboxOverlay").fadeIn()}}}else{var Q=$(V);if(Q.is("#trial-reminder")){J("showtrialmsg")}else{if(Q.is("#verify-popup")){J("checkemail")}else{J("")}}}if(typeof (refreshAuthElements)!="undefined"){refreshAuthElements()}}if(U!=null){if($.trim(U.result.toUpperCase())=="SUCCESS"){var W="";if(K!=""){W=K}else{W=U.redirect}if(W!=null){W=decodeURIComponent(W)}else{W="http://www.wolframalpha.com/"}window.location.href=W}else{if(typeof (refreshAuthElements)!="undefined"){refreshAuthElements()}}}else{}})};var F="trial";if(typeof (E)!="undefined"&&E.data("classification")){F=E.data("classification")}fetchAuthStatus(function(G){setupSignUp(A,A,F,C,null,E)},function(G){A(1,E,"true")})}function upgradeToPro(C,A){if(typeof (A)=="undefined"){var B=removeURLAnchor(window.location.href);$.cookie("wa_upgrade_redirect",encodeURIComponent(B),{domain:".wolframalpha.com",path:"/"})}window.location.href="/pro/subscribe/billing.html?plan=WAPRO-PRO&n=1&src="+C}function upgradeToProForStudents(B){if(typeof (B)=="undefined"){var C=removeURLAnchor(window.location.href);$.cookie("wa_upgrade_redirect",encodeURIComponent(C),{domain:".wolframalpha.com",path:"/"})}$("#feature-popup").hide();var A=function(){window.location.href="/pro/subscribe/billing.html?plan=WAPRO-PROSTUD&n=1"};$.get("/input/pro/students/verify.jsp",{userEmail:$("#accountbox-profileleft > p").html()},function(I){var H;try{H=$.parseJSON(I);if(H.result=="false"){if(H.error=="AlreadyVerified"){A()}}}catch(F){closeOtherLightboxes();var D=$(I);D.appendTo($("#popanchor"));var G=$(window).scrollTop();var J=G+($(window).height()/2);var E=D.closest(".lightbox").css({top:J,"margin-top":(-D.height()/2)});E.find(".close").click(function(){$(this).closest(".lightbox").remove();$("#lightboxOverlay").hide()});$("#lightboxOverlay").fadeIn();$("#studentverify-popup").unbind("verify.callback");$("#studentverify-popup").bind("verify.callback",function(K){A()})}})}function silentSignout(){if(typeof (nocookie)=="undefined"){$.cookie("wa_signout_redirect",encodeURIComponent(removeURLAnchor(window.location.href)),{domain:".wolframalpha.com",path:"/"})}var A='<iframe id="signout-iframe" src="'+$("#authbox-signout-link").attr("href")+'" style="display:none;" />';var B='<iframe id="purchasing-signout-iframe" src="/pro/subscribe/signout.html?src=wa" style="display:none;" />';if($("#signout-iframe").length==0){$("body").append(A);$("body").append(B)}else{$("#signout-iframe").replaceWith(A);$("#purchasing-signout-iframe").replaceWith(B)}$("html").removeClass("si")}var noSignOutRedirect=false;function finishSignOut(){clearAuthenticationCookies();var A=$.cookie("wa_signout_redirect");if(A!=null){$.cookie("wa_signout_redirect",null,{domain:".wolframalpha.com",path:"/"});if(A==""){A="/"}}else{A="/"}if(!noSignOutRedirect){window.location.href=decodeURIComponent(A)}}function finishPreviewSignIn(A){window.location.href=A}function finishPreviewSignUp(A){window.location.href=A}function endsWith(B,A){return(B.match(A+"$")==A)}function removeTrailingPound(B){var A=window.location.href;if(endsWith(A,"#")){A=A.substring(0,A.length-1)}return A}function closeOtherLightboxes(){$("#proSidebar").hide();$(".lightbox").hide()}function createPopAnchor(){if($("#popanchor").length==0){$("body").append('<div id="popanchor"></div>')}}function showLightboxPopups(B){if(typeof (B)!="undefined"){if(window.WAAdsConfig){WAAdsConfig.showAds=false}closeOtherLightboxes()}createPopAnchor();if($.cookie("wa_pro_trial_checkemail")!=null){$.get("/input/trial.checkemail.jsp",function(F){$("#popanchor").append(F);$("#lightboxOverlay").show();$.cookie("wa_pro_trial_checkemail",null,{domain:".wolframalpha.com",path:"/"})})}if($.cookie("wa_pro_newsubscriber")!=null){$.get("/input/welcome_subscriber.jsp",{async:true},function(F){$("#popanchor").append(F);$("#lightboxOverlay").fadeIn();$.cookie("wa_pro_newsubscriber",null,{domain:".wolframalpha.com",path:"/"});$.cookie("wa_pro_trial_newuser",null,{domain:".wolframalpha.com",path:"/"});$.cookie("wa_pro_newuser",null,{domain:".wolframalpha.com",path:"/"})})}else{if($.cookie("wa_pro_trial_newuser")!=null||$.cookie("wa_pro_wpg_trial_newuser")!=null){var A="";if($.cookie("wa_pro_wpg_trial_newuser")!=null){A="?wpg=true"}$.get("/input/welcome_trial.jsp"+A,{async:true},function(K){if($.trim(K)!=""){var I=$(K);if($.cookie("wa_pro_promo")!=null){var G=$.cookie("wa_pro_promo");var F=$.ajax({type:"GET",url:"/pro/promotion/welcome.jsp",async:false}).responseText;var H=$.parseJSON(F);I.find("#haveAccesTo").html(H[G]);$.cookie("wa_pro_promo",null,{domain:".wolframalpha.com",path:"/"});if($.cookie("wa_pro_isverified")!=null){I.find("#verifyText").remove();$.cookie("wa_pro_isverified",null,{domain:".wolframalpha.com",path:"/"})}}var J=I.appendTo($("#popanchor"));J.find(".continuetowpg").click(function(){$(this).closest(".lightbox").hide();$("#lightboxOverlay").hide()});$("#lightboxOverlay").fadeIn();$.cookie("wa_pro_trial_newuser",null,{domain:".wolframalpha.com",path:"/"});$.cookie("wa_pro_wpg_trial_newuser",null,{domain:".wolframalpha.com",path:"/"});$.cookie("wa_pro_newuser",null,{domain:".wolframalpha.com",path:"/"})}})}else{if($.cookie("wa_pro_trial_alreadypro")!=null){$.get("/input/verified_alreadysubscribed.jsp",{async:true},function(F){if($.trim(F)!=""){$("#popanchor").append(F);$("#lightboxOverlay").fadeIn();$.cookie("wa_pro_trial_alreadypro",null,{domain:".wolframalpha.com",path:"/"})}})}}}if($.cookie("wa_pro_newuser")!=null&&$.cookie("wa_pro_trial_newuser")==null){var E={};E.async=true;if(window.location.hash=="#socialwelcome"){$.cookie("wa_pro_newuser",null,{domain:".wolframalpha.com",path:"/"})}else{if(B){E.fromresults=true}$.get("/input/welcome.jsp",E,function(H){if($.trim(H)!=""){$("#popanchor").append(H);$("#lightboxOverlay").fadeIn();$("#welcome-tour-next").click(welcomeTourNext);$("#welcome-tour-previous").click(welcomeTourPrev);$("#welcome-step1 > .content > a:not(.link-text)").click(welcomeTourNext);var F=$("#welcome-tour-slider > section").length;for(var G=0;G<F;G++){$("#welcome-popup > footer > ul").append($("<li></li>"))}$("#welcome-popup > footer > ul > li:first").addClass("cur");$("#welcome-popup > footer > ul > li").click(function(){if($(this).hasClass("cur")){return }var I=$("#welcome-popup > footer > ul > li").index(this);welcomeTourJump(I)});$.cookie("wa_pro_newuser",null,{domain:".wolframalpha.com",path:"/"})}})}}if(window.location.href.indexOf("/problem-generator/")!=-1){if($.cookie("wa_pro_cont_trial")){var D=$.cookie("wa_pro_cont_trial");var C=$('<a id="#continueStartingTrial" href="#" class="startfreetrial" data-classification="wpg"'+(D=="1"?' data-confirm="true"':"")+' style="display:none;">Start Trial</a>').appendTo("#popanchor");C.trigger("click");$.cookie("wa_pro_cont_trial",null,{domain:".wolframalpha.com",path:"/"})}}}function sendTracking(B,C){var A=new Date();$.get("/click.txt?action="+B+"&src="+C+"&location="+window.location+"&ts="+A.getTime())}var checkSessionTimer;var checkSessionTimerCount=0;var inst;function checkForSessionTimeout(){if($.cookie("wa_pro_u"+inst)!=null&&$.cookie("wa_pro_t"+inst)!=null&&$.cookie("wa_pro_s"+inst)!=null){checkSessionTimer=setInterval("hasTimedOut(inst)",1800000)}}function hasTimedOut(){checkSessionTimerCount++;if($.cookie("wa_pro_u"+inst)==null||$.cookie("wa_pro_t"+inst)==null||$.cookie("wa_pro_s"+inst)==null){clearTimeout(checkSessionTimer);noSignOutRedirect=true;silentSignout();var B=function(){forcePageReload()};var A=function(){$.cookie("wa_pro_newuser","true",{domain:".wolframalpha.com",path:"/"});forcePageReload()};var C=function(){$("#auth-popup .close").removeClass("close").addClass("closebtn");$("#auth-popup .closebtn, #lightboxOverlay").click(function(D){D.preventDefault();forcePageReload()})};sendTracking("signin","sessionTimedOut");setupSignInLB(B,A,"timeout",C)}}function favoritesSignIn(){forFeatureSignIn("favorites","favorites")}function showStepsSignIn(){forFeatureSignIn("showsteps","showsteps")}function forFeatureSignIn(C,D){var B=function(){forcePageReload()};var A=function(){$.cookie("wa_pro_newuser","true",{domain:".wolframalpha.com",path:"/"});forcePageReload()};sendTracking("signin",C);setupSignInLB(B,A,D)}var startTrialClicked=false;function forcePageReload(){window.location.reload(true)}$(document).ready(function(){if(typeof user!="undefined"){if(user&&user.isEnabled("hassubscription")){$("html").addClass("si")}}$(".button_signin").live("click",function(C){C.preventDefault();var B=function(){forcePageReload()};var A=function(){$.cookie("wa_pro_newuser","true",{domain:".wolframalpha.com",path:"/"});forcePageReload()};if(!$(this).is(".dyk a")){sendTracking("signin",$(this).attr("id"))}setupSignInLB(B,A,"none")});$("a#oauth_signin, #wpg_signin").live("click",function(D){D.preventDefault();var C="";if($(this).is(".co1")){C="signincallout1"}else{if($(this).is(".co2")){C="signincallout2"}else{if($(this).is(".co3")){C="signincallout3"}}}if(D.pageY>($(this).offset().top+$(this).height())&&D.pageX>($(this).offset().left+$(this).width())){$(this).removeClass("co0 co1 co2 co3");$("#calculatecontain").removeClass("co0 co1 co2 co3");$.cookie("WolframAlphaProSignInAdOff","1");$.get("/click.txt?action=close&src=prompt&feature=signin&type="+C);return }var B=function(){forcePageReload()};var A;if($(this).is("#wpg_signin")){A=function(){forcePageReload()}}else{A=function(){$.cookie("wa_pro_newuser","true",{domain:".wolframalpha.com",path:"/"});forcePageReload()}}if(C==""){sendTracking("signin",$(this).attr("id"))}else{$.get("/click.txt?action=signin&src=prompt&feature=signin&type="+C)}setupSignInLB(B,A,"none")});if($.cookie("wa_pro_first")==null){$.cookie("wa_pro_first","true",{domain:".wolframalpha.com",path:"/",expires:365});if($.cookie("WolframAlphaBackground")=="orange-gears-new"||$.cookie("WolframAlphaBackground")=="orange-gears"){$.cookie("WolframAlphaBackground","green",{domain:".wolframalpha.com",path:"/",expires:365})}}$(".account-trial, .startfreetrial, #wpg_pro_signup").live("click",function(A){A.preventDefault();if(typeof closeInputMethodTabs!="undefined"){closeInputMethodTabs()}if(!startTrialClicked){startTrailClicked=true;if($(this).data("source")!=null){sendTracking("starttrial",$(this).data("source"))}else{sendTracking("starttrial",$(this).attr("id"))}}if($(this).data("classification")){signUpForTrial(1,1,$(this))}else{if($(this).hasClass("nocookie")){signUpForTrial(1,1)}else{signUpForTrial()}}});$("#subpod-zoom").live("click",function(A){$("#subpod_zoom").css({display:"none"})});$(".account-create").live("click",function(D){D.preventDefault();var C=$(this).data("tid");if(typeof C=="string"){watrack.simpleCall({tid:C})}var B=function(){forcePageReload()};var A=function(){$.cookie("wa_pro_newuser","true",{domain:".wolframalpha.com",path:"/"});forcePageReload()};setupSignUp(B,A,"none")});$(".upgradetopro, .adbtn-upgradepro, #wpg_pro_subscribe").live("click",function(A){A.preventDefault();if($(this).data("source")!=null){sendTracking("upgradetopro",$(this).data("source"))}else{sendTracking("upgradetopro",$(this).attr("id"))}if($(this).hasClass("nocookie")){upgradeToPro($(this).data("source"),1)}else{upgradeToPro($(this).data("source"))}});$(".claimdiscount").live("click",function(A){A.preventDefault();sendTracking("claimdiscount",$(this).attr("id"));if($(this).hasClass("nocookie")){upgradeToProForStudents(1)}else{upgradeToProForStudents()}});$("#authbox-signout-link").live("click",function(A){A.preventDefault();$("#authbox-signout-link").addClass("proside-loading");silentSignout()});$("#auth-popup .close, #studentverify-popup .close, #verify-popup .close, #wpg-announce-popup .close, #sbs-ad-popup .close").live("click",function(B){B.preventDefault();$(this).parent().fadeOut();var A=$(this).parent().hasClass("subPopup");if(!A){$("#lightboxOverlay").fadeOut()}$("#sbs-tooltip").hide()});$("#dismissPopup").live("click",function(A){A.preventDefault();$(".lightbox").fadeOut();$("#lightboxOverlay").fadeOut()});$("#tryItNow").live("click",function(A){$(".lightbox").fadeOut();$("#lightboxOverlay").fadeOut()});$("div#oauth_signin > .useremail").hover(function(){$("#authbox").css("display","block")},function(){$("#authbox").css("display","none");$("#authbox").hover(function(){$("#authbox").css("display","block")},function(){$("#authbox").css("display","none")})});$("div#oauth_signin > .useremail").live("click",function(A){A.preventDefault();if($("#authbox").is(":visible")){$("#authbox").hide()}else{$("#authbox").show()}});$("#welcome-popup .link-text, #welcome-popup #welpop-bot a").live("click",function(A){A.preventDefault();$(this).closest("#welcome-popup").fadeOutRemove();if(!$(this).hasClass("startfreetrial")&&!$(this).hasClass("account-create")){$("#lightboxOverlay").fadeOutRemove()}});$("body").live("click.removeAuthbox",function(A){if($(A.target).closest("div#oauth_signin").length==0){if($("#authbox:visible").length>0){$("div#oauth_signin > .useremail").trigger("click")}}})});function updateWelcomeNav(){var B=-715*($("#welcome-tour-slider > section").length-1);var A=$("#welcome-tour-slider").position().left||0;$("#welcome-tour-next").toggle(A>B);$("#welcome-tour-previous").toggle(A<0);var C=Math.floor(Math.abs(A)/715);$("#welcome-popup footer ul li").removeClass("cur").eq(C).addClass("cur")}function trackWelcomeTourClicks(A,B){if(A<0||A>4){return }$.get("/click.txt",{src:"welcome",target:A,action:B,ts:new Date().getTime()})}function welcomeTourNext(){var A=$("#welcome-tour-slider").position().left||0;var C=Math.max(-3575,A-715);var B=$("#welcome-popup > footer > ul > li").index($(".cur"))+1;$("#welcome-tour-slider").animate({left:C},"slow",updateWelcomeNav);trackWelcomeTourClicks(B,"arrow-next")}function welcomeTourPrev(){var A=$("#welcome-tour-slider").position().left;var C=Math.min(0,A+715);var B=$("#welcome-popup > footer > ul > li").index($(".cur"))-1;$("#welcome-tour-slider").animate({left:C},"slow",updateWelcomeNav);trackWelcomeTourClicks(B,"arrow-prev")}function welcomeTourJump(A){if(A<0||A>5){return }var B=-A*715;$("#welcome-tour-slider").animate({left:B},"slow",updateWelcomeNav);trackWelcomeTourClicks(A,"bubble")}function clearAuthenticationCookies(){var A={domain:"wolframalpha.com",path:"/",expires:2592000};$.cookie("wa_pro_u"+getAuthIns(),null,A);$.cookie("wa_pro_s"+getAuthIns(),null,A);$.cookie("wa_pro_t"+getAuthIns(),null,A);$.cookie("wa_st"+getAuthIns(),null,A);$.cookie("wa_pref",null,A);A={domain:cookieDomain,path:"/",expires:2592000};$.cookie("wa_pro_u"+getAuthIns(),null,A);$.cookie("wa_pro_s"+getAuthIns(),null,A);$.cookie("wa_pro_t"+getAuthIns(),null,A);$.cookie("wa_st"+getAuthIns(),null,A);$.cookie("wa_pref",null,A)}function setupSubpodControlsTooltips(){ttoptions={arrowLeft:20,"class":"tooltip-subpodaction"};$(".results-pod .sub .subpod-controls .subpod-saveas:not(.disabled)").waproTooltip("Customize & save image",ttoptions);$(".results-pod .sub:not(.subpod-showcdf) .subpod-controls .subpod-ascdf:not(.disabled)").waproTooltip("Enable interactivity",ttoptions);$(".results-pod .sub.subpod-showcdf .subpod-controls .subpod-ascdf").waproTooltip("Disable interactivity",ttoptions);$(".results-pod .sub:not(.subpod-showcdf) .subpod-controls .subpod-zoom:not(.disabled)").waproTooltip("Enlarge",ttoptions);$(".results-pod .sub .subpod-controls .subpod-export:not(.disabled)").waproTooltip("Data download",ttoptions);$(".results-pod .sub .subpod-controls .subpod-copyablept").waproTooltip("Copyable plaintext",ttoptions);$(".results-pod .sub.subpod-showcdf .subpod-controls .subpod-dlcdf").waproTooltip("Download as CDF",ttoptions);$(".results-pod .sub .subpod-controls .subpod-sources:not(.open, .disabled)").waproTooltip("Sources",ttoptions);$(".results-pod .sub .subpod-controls .subpod-sources.open:not(.disabled)").waproTooltip("Close sources",ttoptions);$(".results-pod .sub .subpod-controls .subpod-share").waproTooltip("Clip 'n Share",ttoptions);$("#showsteps .pod .subpod-controls .subpod-saveas:not(.disabled)").waproTooltip("Customize & save image",ttoptions);$("#showsteps .pod .subpod-controls .subpod-export:not(.disabled)").waproTooltip("Data download",ttoptions);$("#showsteps .pod .subpod-controls .subpod-copyablept:not(.disabled)").waproTooltip("Copyable plaintext",ttoptions)}function getSubpodPanelPerms(){if(user==null||!user.isEnabled("signedin")){return"0"}if(!user.isEnabled("customization")){return"1"}else{return"2"}}function showSubpodPanel(N,O){var N=$(N);var Q=N.parents(".pod");var U=extractSubpodTempID(N);var R=extractPodIdentifier(Q);var A=(Q.data("buttonStates").length<250)?Q.data("buttonStates"):"";var D=Q.data("scanner");var M=extractPodTitle(N);var E=N.data("themes");var L=extractSubpodServer(N);var B=getAssumptions();var P=arrayToURLParams(B,"a");var I=Q.get(0).id;var S=N.get(0).id;var K=S.replace("subpod_","");var H=S.substring(S.indexOf("_")+1);H=H.substring(H.indexOf("_")+1);var V=N.find(".output img").get(0).src;var J=extractSubpodCellDataTempFile(N);var C=extractSubpodSubselection(N);var F=extractSubpodTitle(N);var T=getAssumptionsFields();var G=arrayToURLParams(T,"f");var W=extractSubpodImgCacheKey(N);$(".traypopup a.close").trigger("click");hideCDFContent();$("#lightboxOverlay").show();showLightboxLoading();$.get(getColoProofURL("/input/subpodpanel.jsp?"+mapToURLParams({i:getURLParam("i"),fileinput:unescape(getURLParam("fileinput")),podid:I,tn:K,podidentifier:R,buttonstate:A,scanner:D,a:escape(P),f:escape(G),title:M,s:L,mode:O,spidx:H,mck:W,id:U,imgloc:V,cdtf:J,sptitle:F,querystring:window.location.search.substring(1),subselection:C})),function(X){if($("#subpanel").length>0){$("#subpanel").replaceWith(X)}else{$("body").append(X)}$("#subpanel").css({top:getScrollPosition().y+180});$("#subpanel, #lightboxOverlay").show();hideLightboxLoading()})}function showSubpodSources(C){if(C){var B=C.data("dataSources");var E=C.data("sources");var A=C.get(0).id;var D=$(".subpod-controls",C);$("#"+A+"_sourcespop").remove();var F={subpod:C.attr("id"),subsources:B}}else{$("#answers >.subpod-sourcespop").remove();var E=$("#toSources").data("sources");var F={}}$.get("/input/subpod.sources.jsp?"+E,F,function(I,H){var G=$(I);var J=G.get(0).id;if(C){$(".subpod-sources",C).addClass("open");D.before(G)}else{$("#computed").append(G);$("#_sourcespop").addClass("pagesrc");$(".sourcelist","#_sourcespop").show();$("#toSources").addClass("open")}})}var addSubpodPopup=function(C,B){var A=$("#subpodPopup"),E=B.find(".subpod-controls"),D=A.find(".show-"+C);if(D.length>0){A.insertAfter(E);A.find(".subpod-popover").hide();return A.fadeIn(300,function(){$(this).addClass("showing");$(this).find(".show-"+C).show()})}else{$.get("/input/subpod.popup.jsp",{action:C},function(G,F){if(A.length>0){A.insertAfter(E);A.find(".subpod-popover").hide();A.addClass("showing");A.append(G)}else{return E.after('<div id="subpodPopup" class="showing '+C+'">'+G+"</div>")}})}};var podactionTrack=function(C,D,B,A){if(typeof B==="undefined"){B=""}if(typeof A==="undefined"){A="true"}return $.get("popup.txt?"+D+"="+A+B)};$(document).ready(function(){setupSubpodControlsTooltips();$(".subpod-controls").live("click",function(C){$(".results-pod .subpod-hover").removeClass(".subpod-hover");$(".pod.sh").removeClass("sh");$(this).closest(".sub").addClass("subpod-hover").closest(".pod").addClass("sh")});$("a.close").live("click",function(C){$(".sub").removeClass("subpod-hover");$(".pod.sh").removeClass("sh")});$("#subpanel a.subpanel-exportdata:not(.disabled)").live("click",function(C){C.preventDefault();$("#subpanel").hide();showSubpodExport($("#"+$("#subpanel #subpodPreview .sub").get(0).id.replace("_c","")))});$(".subpod-imgpop .imgpop-export:not(.disabled)").live("click",function(D){D.preventDefault();var C=imgpopGetSubpodID($(this).closest(".subpod-imgpop"));C=$("#"+C);showSubpodExport(C);podactionTrack(".subpod-imgpop .imgpop-export:not(.disabled)","download","&src=enlarge");$(this).closest(".subpod-imgpop").fadeOutRemove()});$("#subpod_cdf .close").live("click",function(){$(".subpod-hover").removeClass("subpod-hover")});$(".subpod-imgpop a.imgpop-saveas").live("click",function(D){D.preventDefault();if($(this).hasClass("disabled")){return }var C=$("#"+imgpopGetSubpodID($(this).closest(".subpod-imgpop")));showSubpodPanel(C,"save");podactionTrack(".subpod-imgpop a.imgpop-saveas","image","&src=enlarge");$(this).closest(".subpod-imgpop").fadeOutRemove()});$(".results-pod .subpod-controls .subpod-saveas, #showsteps .pod .subpod-controls .subpod-saveas:not(.disabled)").live("click",function(D){D.preventDefault();if($(this).hasClass("disabled")){return }var C;if($(this).hasClass("sbs")){C=$(".sub",$(this).closest(".pod"))}else{if($(this).closest(".sub").length<1){C=pod.find(".sub:first")}else{C=$(this).closest(".sub")}}showSubpodPanel(C,"save");podactionTrack(".results-pod .subpod-controls .subpod-saveas","image")});$("#downloadAs").die("click").live("click",function(D){if(D.target.tagName=="A"&&!$(D.target).hasClass("bubblebtn")){return }D.preventDefault();var C=$("#downloadAs");if(C.hasClass("open")){C.removeClass("open")}else{C.addClass("open")}if(user.isEnabled("cdf")&&user.isEnabled("pdf")){}else{if(!$(D.target).hasClass("close")){if($("#downloadAs .traypopup").length==0){determineAdShowing("cdf","/input/tray.downloadpage.jsp",undefined,"#computed #downloadAs");$("#downloadAs button").addClass("disabled");$("#downloadAs button").prop("disabled",true)}else{$("#downloadAs .traypopup").fadeOut(300,function(){$(this).remove();$("footer#computed").removeClass("popup-active")})}}}});$("#downloadAs a.close").live("click",function(D){var C=$("#downloadAs");if(C.hasClass("open")){C.removeClass("open")}});var A=function(D,C,E){D=$(D);$.ajax({type:"POST",url:C,data:D.serialize(),success:function(){D.fadeOut(400,function(){E(D)})}})};var B=function(D,C,F){var E=$(D);if(E.length>0){$("#lightboxOverlay").add(D).show();return }if(typeof F==="undefined"){var F="download-popup"}$.get(C,{podid:F},function(I,G){$("#popanchor").before(I);E=$(D);E.fadeIn("slow");var H=scrollPositionY();var J=H+($(window).height()/2);E.css("top",(J>210?J:210)-250);$("#lightboxOverlay").add(E).show();$("#other-comment").click(function(K){$("#cred-step-1-4").attr("checked",true)})})};$(".popup-form .submitbtn").live("click",function(E){E.preventDefault();var D="form#contact-form";var C=checkRequiredFields("contact-form");if(C){A(D,"/input/sendFormData.jsp",function(F){$(".popup-form .top").remove();$(F).remove();$(".popup-form .thanks").fadeIn(200)})}});$("a.contact-us").live("click",function(){$("#subpanel").fadeOut(300);$("#datadownload, #popanchor .traypopup").fadeOut(300);closeInputMethodTabs();if($("#datadownload").length===0){if($(this).hasClass("contact-us")){B("#contact-form-box","/input/contact.form.jsp")}}else{if($(this).hasClass("contact-us")){B("#contact-form-box","/input/contact.form.jsp")}}});$("a#credit-info").unbind("click").die("click").live("click",function(D){D.preventDefault();var C=$(".credit-info-popup");var F=$(this).closest("#subpanel").length>0?"customize":"";if(C.length!==0&&C.hasClass("shown")){C.fadeOut(300,function(){$(this).remove()})}else{if(C.length===0){var E=$(this);$.get("credhelp.jsp",{"class":F},function(G){$("#popanchor").append(G);var H=E.parent().offset();$(".traypopup.credit-info-popup").css({top:H.top-33,left:H.left+90+(F=="customize"?$("#subpanel-price").width()+10:0)});$(".credit-info-popup").fadeIn(300).addClass("shown")})}else{C.fadeIn(300).addClass("shown")}}return false});$(".credit-info-popup").live("click",function(C){$(this).closest(".credit-info-popup").fadeOut(300,function(){$(this).remove()})});$("#subpanel a.close").live("click",function(){var C=$(".credit-info-popup");if(C.length!==0&&C.hasClass("shown")){C.fadeOut(300,function(){$(this).remove()})}});$("#subpodPopup").live("mouseleave",function(D){if($(D.relatedTarget).is(".sub .subpod-zoom")){return false}else{var C=$("#subpodPopup.showing");if(C.length>0){C.fadeOut(300).removeClass("showing")}}});$(".subpod-sourcespop .closebtn, .subpod-sources.open ").live("click",function(E){E.preventDefault();var D=$(this).parent(".subpod-sourcespop");var C=$(this).closest(".sub");if(D.length==0){D=$(".subpod-sourcespop ",C)}if(C){$(".subpod-sources",C).removeClass("open")}D.remove()});$(".results-pod .subpod-controls .subpod-sources:not(.open)").live("click",function(D){D.preventDefault();if($(this).hasClass("disabled")){return }var C=$(this).closest(".sub");showSubpodSources(C)});$(".subpod-share:not('.disabled'), .clipnshare").live("click",function(C){C.preventDefault();if($(this).hasClass("disabled")){return }hideCDFContent();var D=$(this).closest(".sub").attr("id");podactionTrack(".subpod-share:not('.disabled')","share");shareSubpodImage(D.substring(D.indexOf("_")+1))})});function add_subpod_cdf(B,A){var C='<div id="subpod_cdf" class="callout pro-corner"><div class="arrow"></div><a class="close">x</a><h3>CDF Interactivity</h3>            <p>Bring Wolfram|Alpha output to life with CDF interactivity</p><img src="/images/pro/cdf-adstate.png" />';if(B){if(!A){C=C+'<img src="/images/pro/trialended.png" alt="Your trial has ended..." title="Your trial has ended..." /><br/>'}C=C+'<a class="bubblebtn upgradetopro" href="/pro/subscribe/billing.html?plan=WAPRO-PRO" id="subpod-cdf-pro">Subscribe to Pro</a> <br /><div id="accountbox-typeinfostudent"><p class="student-hat"> Student? <a class="claimdiscount" href="#" id="subpod-cdf-stu">Claim your discount &raquo;</a></p></div>'}else{C+='<a class="bubblebtn giant-btn startfreetrial" id="subpod-cdf">Start FREE Pro Trial</a><br /><a href="/pro/?src=subpod-cdf" class="learn-pro">Learn about all Pro features &raquo;</a>'}C=C+"</div>";return $(C).appendTo("body")}function showSubpodExportInitError(){hideLightboxLoading();$("body > #dataexport-initerror").remove();$("body").append('<div id="dataexport-initerror" class="lightbox lightbox-shadows lightbox-rounded"><a href="#" class="close remove">X</a>Error</div>');$("#dataexport-initerror").show()}function showSubpodExport(L){var N=L.closest(".pod");var Q=$(N).find(".sub").index(L)+1;var O=N.data("podIdentifier");var A=(N.data("buttonStates").length<250)?N.data("buttonStates"):"";var E=N.data("scanner");var G=getAssumptions();var F=L.find("h2:first").text();var K=N.find("h2:first").text();var R=extractSubpodTempID(L);var J=extractSubpodServer(L);var T=getURLParam("dataset");T=(typeof T!="undefined"&&T!="");var H=extractSubpodCellDataTempFile(L);var B;var P="";var D=extractSubpodSubselection(L);if(typeof D=="undefined"){D=""}if(!isPost){if(getURLParam("datasetfile")!=""){B=decodeURIComponent(getURLParam("datasetfile"))}else{B=""}}else{B=savedDataInput;P="true"}hideCDFContent();$("#lightboxOverlay").show();showLightboxLoading();var S="";var I="/input/exportdata.jsp";var M=mapToURLParams({identifier:O,buttonstate:A,scanner:E,id:R,pod:N[0].id,subpod:Q,fileinput:fileinput,datasetfile:B,isDataInput:T,autosave:P,inputfileids:inputFileIds,cdtf:H,subselection:D})+arrayToURLParams(getAssumptions(),"a")+arrayToURLParams(getAssumptionsFields(),"f");var C="POST";if($.browser.msie||$.browser.opera){C="GET";I+="?"+M+mapToURLParams({i:decodeURIComp(getURLParam("i")),s:J,stitle:F.replace(":",""),ptitle:K.replace(":","")});M={}}else{I+="?"+mapToURLParams({i:decodeURIComp(getURLParam("i")),s:J,stitle:F.replace(":",""),ptitle:K.replace(":","")});M.parse=parsedExpr}$.ajax({type:C,url:getColoProofURL(I),data:M,success:function(W,V){if(V!="success"){return }if($("#datadownload").length>0){$("#datadownload").remove()}$("body").append(W);$("#datadownload").css("top",$(window).scrollTop()+50);$("#datadownload, #exportpod, #cannotdownload").show();hideLightboxLoading();var U=$("#datadownload ul#fmt-typ li");U.first().click()},error:function(U,V,W){$("#cannotdownload").css("top",$(window).scrollTop()+50);$("#cannotdownload").show()}})}$(".results-pod .pod .exportdata:not(.disabled), .results-pod .sub .subpod-controls .subpod-export:not(.disabled), #showsteps .pod .subpod-controls .subpod-export:not(.disabled)").live("click",function(B){B.preventDefault();podactionTrack(".results-pod .pod .exportdata:not(.disabled), .results-pod .sub .subpod-controls .subpod-export:not(.disabled)","download","&src=actions");var A=$(this).closest(".sub");if($(this).hasClass("sbs")){A=$(".sub",$(this).closest(".pod"))}showSubpodExport(A)});$("#datadownload li[id^=baseformat]").die("click").live("click",function(C){var B=$(this).find(".icon");var A=$(this).attr("data-pulldown");$("select[name=dataFormat]").hide();if($("#"+A).length===0&&user.isEnabled("hassubscription")){$(".toggleHidden").hide();$("#exportpod #exportpod-pricing").hide()}else{$("#"+A).show().trigger("change");$(".toggleHidden, #exportpod-pricing, #exportpod-download").show()}$(this).siblings().removeClass("active");$(this).addClass("active")});$("#datadownload-header .close").live("click",function(){$(".traypopup").fadeOut(function(){$(this).remove()})});$("#datadownload a#give-data-feedback").live("click",function(){$("#datadownload #datadownload-feedback-slide").slideToggle()});$("#datadownload input#send-feedback").live("click",function(E){E.preventDefault();var D=$("#data-download-feedback");var A=D.find("#feedback-text"),C=D.find("#email-text strong").text(),F=D.find("#your-occupation").val(),B=D.find("#your-organization").val();$("#Format").val($("ul#fmt-typ span.active").text()+":"+$("select[name=dataFormat]").val());$("#ddUrl").val(window.location);$("#ddppu").val(window.user.isEnabled("haspaid"));A.siblings(".fail-message").remove();if(A.val().trim().length<1){A.before('<span class="fail-message">Please fill this in.</span>')}else{$.ajax({type:"POST",url:D.attr("action"),data:D.serialize(),success:function(){D.closest("#confirmdownload").fadeOut(400,function(){var G=$("#feedback-thanks");$(this).remove();G.fadeIn(200)})}})}});$("#datadownload a#cust-image").die("click").live("click",function(D){D.preventDefault();$("#datadownload").remove();var A=$(this).parents("#datadownload").find("#podDataID").text();var C=$("#datadownload").data("subpodidx");var B=$("#"+A).find(".sub").slice(C-1,C);if(typeof B=="undefined"){return }B.find(".subpod-saveas").click()});function showExportBlockedPopup(B){var A="<div class='downloadblocked traypopup'>                                		 <div id='relWrapper'><div id='padWrap'>                                     		<img class='blocked-icon' src='/images/pro/exclamation.png' />               		<p><strong>                                                                  		   "+B+" you don't have access to data download 		</strong></p>                                                                		<div id='trayArrow'></div>                                                   		<a class='link-text contact-us' href='#'>                                    		    Contact us for details &raquo;                                           		</a>                                                                         		</div></div>                                                                 	    </div>";$("#exportpod .dlbtn").append(A);$(".downloadblocked").fadeIn(300)}$("#datadownload #downloadDataForm").live("submit",function(B){B.preventDefault();var A=$(this).attr("action");var C=$(this).serialize();$.post(A,C,function(D){$(".dd").hide();$("#fileGenerating").remove();$("#dynamicControls").append(D)})});$("#datadownload #useCredits").live("click",function(A){A.preventDefault();if(!$(this).hasClass("inactive")){$("#downloadDataForm").submit()}});function checkRequiredFields(E,D,C,A){var B="required";var F=true;if(typeof (D)=="function"){F=D(F)&&F}$("#"+E+" input[type=text].required:not(.custom), #"+E+" textarea.required:not(.custom)").each(function(){var G=$(this).val();if(G==null||$.trim(G)==""||$.trim(G)==B){F=false;$(this).css("color","#DB0303").val(B).one("focus",function(){$(this).css("color","").val("");if(typeof (A)=="function"){A()}})}});$("#"+E+" input[type=password].required:not(.custom)").each(function(){var G=$(this).val();if(G==null||$.trim(G)==""){F=false;$(this).parent().find("label").append('<span class="required">'+B+"</span>");$(this).one("focus",function(){$(this).parent().find("span.required").remove();if(typeof (A)=="function"){A()}})}else{if($.trim(G).length<6&&$(this).attr("name")!="passwordc"){F=false;$(this).parent().find("label").addClass("required");$(this).one("focus",function(){$(this).parent().find("label").removeClass("required");if(typeof (A)=="function"){A()}})}}});$("#"+E+" select.required:not(.custom)").each(function(){var G=$(this).val();if(G==null||$.trim(G)==""){F=false;$(this).css("color","#DB0303").one("focus",function(){$(this).css("color","");if(typeof (A)=="function"){A()}})}});$("#"+E+" select.required.custom.separate").each(function(){var H=$(this).val();if(H==null||$.trim(H)==""){F=false;var G="label[for="+$(this).attr("id")+"]";if($(G+" + span.required").length==0){$(G).after('<span class="required">required</span>')}$(this).one("focus",function(){$("label[for="+$(this).attr("id")+"] + span.required").remove();if(typeof (A)=="function"){A()}})}});if(typeof (C)=="function"){F=C(F)&&F}return F}function checkRepeated(C,A,E,B,D){if($("#"+C).val()!=$("#"+A).val()){$("#"+C+", #"+A).val("");if($("#"+B).length==0){D("")}$("#"+B).append(E).show();return false}else{return true}}function markInvalid(A){$(A).css("color","#db0303").one("focus",function(){$(this).css("color","").val("")})}function requiredField(B,D,C,A){$("#"+B+" + .required").remove();if($("#"+B).val()==""){$("#"+B).parent().find("label").append('<span class="required">*</span>');$("#designateRequired").removeClass("hide");if(C!=""){$("#"+C).append(A)}return true}else{return D}}function isValidEmail(A){if(typeof (A)!="string"){return false}if(A.match(/[a-zA-Z0-0.-_]+@.+\..+/)==null){return false}return true}function checkRequired(A){if(typeof A=="string"){A=$(A)}if($.trim(A.val())==""){return false}if($.trim(A.val())=="required"){return false}return true}var WAAdsConfig={showAds:true,adCloseTimer:null,clickAdRate:12,clickAdCount:(typeof $.cookie("WolframAlphaSessionButtonClicks")=="undefined"||$.cookie("WolframAlphaSessionButtonClicks")==null?0:$.cookie("WolframAlphaSessionButtonClicks")),pageLoadAdRate:5,pageLoadAdDuration:2,pageLoadAdCount:(typeof $.cookie("WolframAlphaSessionVisits")=="undefined"||$.cookie("WolframAlphaSessionVisits")==null?0:$.cookie("WolframAlphaSessionVisits"))};function makeProUpgradePopup(){$("#lightboxOverlay").show();$("#lightbox-upgradepro").css({top:(getScrollPosition().y+($(window).height()/2)-145)}).show();$("#lightbox-upgradepro .close").unbind("click").click(function(A){A.preventDefault();$("#lightbox-upgradepro").hide();$("#lightboxOverlay").hide()})}function makeProAdPopup(){clearTimeout(WAAdsConfig.adCloseTimer);var A=200;var C=200;var B="-"+(C/1.3)+"px";$("#butane .close-btn").hide();$("#butane .close-btn").unbind("click").click(function(D){D.preventDefault();clearTimeout(WAAdsConfig.adCloseTimer);toggleScrolling(true);$("#butane").hide();$("#lightboxOverlay").removeClass("hideResults").hide()}).hide()}function checkAnnoyanceAd(){var A=$("#butane #relativeDiv > iframe");A.load(function(){$(this).addClass("loaded")});setTimeout(function(){if(!A.hasClass("loaded")){A.remove();var C=["finance","fractals","generic","travel"];var B=C[parseInt(Math.random()*C.length,10)];$("#butane #relativeDiv").append("<div id='placeholderAd'><img src='http://www.wolframcdn.com/images/ads/"+B+"-square.png' /></div>")}},10000)}function proAdCountdown(){$("#butane .close-btn").show();$("#butane .countdown").hide();clearTimeout(WAAdsConfig.adCloseTimer)}function triggerButtonAd(){var A=WAAdsConfig.clickAdCount++;$.cookie("WolframAlphaSessionButtonClicks",A,{domain:"wolframalpha.com",path:"/",expires:9999999999});if(A%WAAdsConfig.clickAdRate==WAAdsConfig.clickAdRate-1&&WAAdsConfig.showAds){setupRandomBlockingAd();showBlockingAd()}}function showBlockingAd(){$("#lightboxOverlay").addClass("hideResults").fadeIn(1000);setTimeout(function(){$("#butane").fadeIn(1000,function(){WAAdsConfig.adCloseTimer=setTimeout("proAdCountdown()",WAAdsConfig.pageLoadAdDuration*2)})},500);toggleScrolling(false);makeProAdPopup();checkAnnoyanceAd()}function trackAdInteraction(A){var B="/ads.txt?annoyance=true&adnetwork=";$("#butane .close-btn").live("click",function(){$.get(B+A+"&click=0")});$("#butane .butane-upgrade").click(function(){$.get(B+A+"&click=1")})}function shouldShowPageLoadAd(){var A=WAAdsConfig.pageLoadAdCount;if(!WAAdsConfig.showAds||typeof A=="undefined"){return false}return A%WAAdsConfig.pageLoadAdRate==WAAdsConfig.pageLoadAdRate-1}function setupRandomBlockingAd(){$("#butane-relativeDiv iframe").remove();$("#butane-relativeDiv").append('<iframe src="/Calculate/pubmatic_popup.jsp"></iframe>');trackAdInteraction("pubmatic")}var swfobject=function(){var Z="undefined",P="object",B="Shockwave Flash",h="ShockwaveFlash.ShockwaveFlash",W="application/x-shockwave-flash",K="SWFObjectExprInst",G=window,g=document,N=navigator,f=[],H=[],Q=null,L=null,T=null,S=false,C=false;var a=function(){var l=typeof g.getElementById!=Z&&typeof g.getElementsByTagName!=Z&&typeof g.createElement!=Z&&typeof g.appendChild!=Z&&typeof g.replaceChild!=Z&&typeof g.removeChild!=Z&&typeof g.cloneNode!=Z,t=[0,0,0],n=null;if(typeof N.plugins!=Z&&typeof N.plugins[B]==P){n=N.plugins[B].description;if(n){n=n.replace(/^.*\s+(\S+\s+\S+$)/,"$1");t[0]=parseInt(n.replace(/^(.*)\..*$/,"$1"),10);t[1]=parseInt(n.replace(/^.*\.(.*)\s.*$/,"$1"),10);t[2]=/r/.test(n)?parseInt(n.replace(/^.*r(.*)$/,"$1"),10):0}}else{if(typeof G.ActiveXObject!=Z){var o=null,s=false;try{o=new ActiveXObject(h+".7")}catch(k){try{o=new ActiveXObject(h+".6");t=[6,0,21];o.AllowScriptAccess="always"}catch(k){if(t[0]==6){s=true}}if(!s){try{o=new ActiveXObject(h)}catch(k){}}}if(!s&&o){try{n=o.GetVariable("$version");if(n){n=n.split(" ")[1].split(",");t=[parseInt(n[0],10),parseInt(n[1],10),parseInt(n[2],10)]}}catch(k){}}}}var v=N.userAgent.toLowerCase(),j=N.platform.toLowerCase(),r=/webkit/.test(v)?parseFloat(v.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,i=false,q=j?/win/.test(j):/win/.test(v),m=j?/mac/.test(j):/mac/.test(v);
/*@cc_on i=true;@if(@_win32)q=true;@elif(@_mac)m=true;@end@*/
return{w3cdom:l,pv:t,webkit:r,ie:i,win:q,mac:m}}();var e=function(){if(!a.w3cdom){return }J(I);if(a.ie&&a.win){try{g.write("<script id=__ie_ondomload defer=true src=//:><\/script>");var i=c("__ie_ondomload");if(i){i.onreadystatechange=function(){if(this.readyState=="complete"){this.parentNode.removeChild(this);V()}}}}catch(j){}}if(a.webkit&&typeof g.readyState!=Z){Q=setInterval(function(){if(/loaded|complete/.test(g.readyState)){V()}},10)}if(typeof g.addEventListener!=Z){g.addEventListener("DOMContentLoaded",V,null)}M(V)}();function V(){if(S){return }if(a.ie&&a.win){var m=Y("span");try{var l=g.getElementsByTagName("body")[0].appendChild(m);l.parentNode.removeChild(l)}catch(n){return }}S=true;if(Q){clearInterval(Q);Q=null}var j=f.length;for(var k=0;k<j;k++){f[k]()}}function J(i){if(S){i()}else{f[f.length]=i}}function M(j){if(typeof G.addEventListener!=Z){G.addEventListener("load",j,false)}else{if(typeof g.addEventListener!=Z){g.addEventListener("load",j,false)}else{if(typeof G.attachEvent!=Z){G.attachEvent("onload",j)}else{if(typeof G.onload=="function"){var i=G.onload;G.onload=function(){i();j()}}else{G.onload=j}}}}}function I(){var l=H.length;for(var j=0;j<l;j++){var m=H[j].id;if(a.pv[0]>0){var k=c(m);if(k){H[j].width=k.getAttribute("width")?k.getAttribute("width"):"0";H[j].height=k.getAttribute("height")?k.getAttribute("height"):"0";if(O(H[j].swfVersion)){if(a.webkit&&a.webkit<312){U(k)}X(m,true)}else{if(H[j].expressInstall&&!C&&O("6.0.65")&&(a.win||a.mac)){D(H[j])}else{d(k)}}}}else{X(m,true)}}}function U(m){var k=m.getElementsByTagName(P)[0];if(k){var p=Y("embed"),r=k.attributes;if(r){var o=r.length;for(var n=0;n<o;n++){if(r[n].nodeName.toLowerCase()=="data"){p.setAttribute("src",r[n].nodeValue)}else{p.setAttribute(r[n].nodeName,r[n].nodeValue)}}}var q=k.childNodes;if(q){var s=q.length;for(var l=0;l<s;l++){if(q[l].nodeType==1&&q[l].nodeName.toLowerCase()=="param"){p.setAttribute(q[l].getAttribute("name"),q[l].getAttribute("value"))}}}m.parentNode.replaceChild(p,m)}}function F(i){if(a.ie&&a.win&&O("8.0.0")){G.attachEvent("onunload",function(){var k=c(i);if(k){for(var j in k){if(typeof k[j]=="function"){k[j]=function(){}}}k.parentNode.removeChild(k)}})}}function D(j){C=true;var o=c(j.id);if(o){if(j.altContentId){var l=c(j.altContentId);if(l){L=l;T=j.altContentId}}else{L=b(o)}if(!(/%$/.test(j.width))&&parseInt(j.width,10)<310){j.width="310"}if(!(/%$/.test(j.height))&&parseInt(j.height,10)<137){j.height="137"}g.title=g.title.slice(0,47)+" - Flash Player Installation";var n=a.ie&&a.win?"ActiveX":"PlugIn",k=g.title,m="MMredirectURL="+G.location+"&MMplayerType="+n+"&MMdoctitle="+k,p=j.id;if(a.ie&&a.win&&o.readyState!=4){var i=Y("div");p+="SWFObjectNew";i.setAttribute("id",p);o.parentNode.insertBefore(i,o);o.style.display="none";G.attachEvent("onload",function(){o.parentNode.removeChild(o)})}R({data:j.expressInstall,id:K,width:j.width,height:j.height},{flashvars:m},p)}}function d(j){if(a.ie&&a.win&&j.readyState!=4){var i=Y("div");j.parentNode.insertBefore(i,j);i.parentNode.replaceChild(b(j),i);j.style.display="none";G.attachEvent("onload",function(){j.parentNode.removeChild(j)})}else{j.parentNode.replaceChild(b(j),j)}}function b(n){var m=Y("div");if(a.win&&a.ie){m.innerHTML=n.innerHTML}else{var k=n.getElementsByTagName(P)[0];if(k){var o=k.childNodes;if(o){var j=o.length;for(var l=0;l<j;l++){if(!(o[l].nodeType==1&&o[l].nodeName.toLowerCase()=="param")&&!(o[l].nodeType==8)){m.appendChild(o[l].cloneNode(true))}}}}}return m}function R(AE,AC,q){var p,t=c(q);if(typeof AE.id==Z){AE.id=q}if(a.ie&&a.win){var AD="";for(var z in AE){if(AE[z]!=Object.prototype[z]){if(z=="data"){AC.movie=AE[z]}else{if(z.toLowerCase()=="styleclass"){AD+=' class="'+AE[z]+'"'}else{if(z!="classid"){AD+=" "+z+'="'+AE[z]+'"'}}}}}var AB="";for(var y in AC){if(AC[y]!=Object.prototype[y]){AB+='<param name="'+y+'" value="'+AC[y]+'" />'}}t.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+AD+">"+AB+"</object>";F(AE.id);p=c(AE.id)}else{if(a.webkit&&a.webkit<312){var AA=Y("embed");AA.setAttribute("type",W);for(var x in AE){if(AE[x]!=Object.prototype[x]){if(x=="data"){AA.setAttribute("src",AE[x])}else{if(x.toLowerCase()=="styleclass"){AA.setAttribute("class",AE[x])}else{if(x!="classid"){AA.setAttribute(x,AE[x])}}}}}for(var w in AC){if(AC[w]!=Object.prototype[w]){if(w!="movie"){AA.setAttribute(w,AC[w])}}}t.parentNode.replaceChild(AA,t);p=AA}else{var s=Y(P);s.setAttribute("type",W);for(var v in AE){if(AE[v]!=Object.prototype[v]){if(v.toLowerCase()=="styleclass"){s.setAttribute("class",AE[v])}else{if(v!="classid"){s.setAttribute(v,AE[v])}}}}for(var u in AC){if(AC[u]!=Object.prototype[u]&&u!="movie"){E(s,u,AC[u])}}t.parentNode.replaceChild(s,t);p=s}}return p}function E(k,i,j){var l=Y("param");l.setAttribute("name",i);l.setAttribute("value",j);k.appendChild(l)}function c(i){return g.getElementById(i)}function Y(i){return g.createElement(i)}function O(k){var j=a.pv,i=k.split(".");i[0]=parseInt(i[0],10);i[1]=parseInt(i[1],10);i[2]=parseInt(i[2],10);return(j[0]>i[0]||(j[0]==i[0]&&j[1]>i[1])||(j[0]==i[0]&&j[1]==i[1]&&j[2]>=i[2]))?true:false}function A(m,j){if(a.ie&&a.mac){return }var l=g.getElementsByTagName("head")[0],k=Y("style");k.setAttribute("type","text/css");k.setAttribute("media","screen");if(!(a.ie&&a.win)&&typeof g.createTextNode!=Z){k.appendChild(g.createTextNode(m+" {"+j+"}"))}l.appendChild(k);if(a.ie&&a.win&&typeof g.styleSheets!=Z&&g.styleSheets.length>0){var i=g.styleSheets[g.styleSheets.length-1];if(typeof i.addRule==P){i.addRule(m,j)}}}function X(k,i){var j=i?"visible":"hidden";if(S){c(k).style.visibility=j}else{A("#"+k,"visibility:"+j)}}return{registerObject:function(l,i,k){if(!a.w3cdom||!l||!i){return }var j={};j.id=l;j.swfVersion=i;j.expressInstall=k?k:false;H[H.length]=j;X(l,false)},getObjectById:function(l){var i=null;if(a.w3cdom&&S){var j=c(l);if(j){var k=j.getElementsByTagName(P)[0];if(!k||(k&&typeof j.SetVariable!=Z)){i=j}else{if(typeof k.SetVariable!=Z){i=k}}}}return i},embedSWF:function(n,u,r,t,j,m,k,p,s){if(!a.w3cdom||!n||!u||!r||!t||!j){return }r+="";t+="";if(O(j)){X(u,false);var q=(typeof s==P)?s:{};q.data=n;q.width=r;q.height=t;var o=(typeof p==P)?p:{};if(typeof k==P){for(var l in k){if(k[l]!=Object.prototype[l]){if(typeof o.flashvars!=Z){o.flashvars+="&"+l+"="+k[l]}else{o.flashvars=l+"="+k[l]}}}}J(function(){R(q,o,u);if(q.id==u){X(u,true)}})}else{if(m&&!C&&O("6.0.65")&&(a.win||a.mac)){X(u,false);J(function(){var i={};i.id=i.altContentId=u;i.width=r;i.height=t;i.expressInstall=m;D(i)})}}},getFlashPlayerVersion:function(){return{major:a.pv[0],minor:a.pv[1],release:a.pv[2]}},hasFlashPlayerVersion:O,createSWF:function(k,j,i){if(a.w3cdom&&S){return R(k,j,i)}else{return undefined}},createCSS:function(j,i){if(a.w3cdom){A(j,i)}},addDomLoadEvent:J,addLoadEvent:M,getQueryParamValue:function(m){var l=g.location.search||g.location.hash;if(m==null){return l}if(l){var k=l.substring(1).split("&");for(var j=0;j<k.length;j++){if(k[j].substring(0,k[j].indexOf("="))==m){return k[j].substring((k[j].indexOf("=")+1))}}}return""},expressInstallCallback:function(){if(C&&L){var i=c(K);if(i){i.parentNode.replaceChild(L,i);if(T){X(T,true);if(a.ie&&a.win){L.style.display="block"}}L=null;T=null;C=false}}}}}();var isIE=(navigator.appVersion.indexOf("MSIE")!=-1)?true:false;var isWin=(navigator.appVersion.toLowerCase().indexOf("win")!=-1)?true:false;var isOpera=(navigator.userAgent.indexOf("Opera")!=-1)?true:false;function ControlVersion(){var A;var B;var C;try{B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");A=B.GetVariable("$version")}catch(C){}if(!A){try{B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");A="WIN 6,0,21,0";B.AllowScriptAccess="always";A=B.GetVariable("$version")}catch(C){}}if(!A){try{B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");A=B.GetVariable("$version")}catch(C){}}if(!A){try{B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.3");A="WIN 3,0,18,0"}catch(C){}}if(!A){try{B=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");A="WIN 2,0,0,11"}catch(C){A=-1}}return A}function GetSwfVer(){var G=-1;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var F=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var A=navigator.plugins["Shockwave Flash"+F].description;var E=A.split(" ");var C=E[2].split(".");var H=C[0];var B=C[1];var D=E[3];if(D==""){D=E[4]}if(D[0]=="d"){D=D.substring(1)}else{if(D[0]=="r"){D=D.substring(1);if(D.indexOf("d")>0){D=D.substring(0,D.indexOf("d"))}}}var G=H+"."+B+"."+D}}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.6")!=-1){G=4}else{if(navigator.userAgent.toLowerCase().indexOf("webtv/2.5")!=-1){G=3}else{if(navigator.userAgent.toLowerCase().indexOf("webtv")!=-1){G=2}else{if(isIE&&isWin&&!isOpera){G=ControlVersion()}}}}}return G}function DetectFlashVer(F,D,C){versionStr=GetSwfVer();if(versionStr==-1){return false}else{if(versionStr!=0){if(isIE&&isWin&&!isOpera){tempArray=versionStr.split(" ");tempString=tempArray[1];versionArray=tempString.split(",")}else{versionArray=versionStr.split(".")}var E=versionArray[0];var A=versionArray[1];var B=versionArray[2];if(E>parseFloat(F)){return true}else{if(E==parseFloat(F)){if(A>parseFloat(D)){return true}else{if(A==parseFloat(D)){if(B>=parseFloat(C)){return true}}}}}return false}}}function AC_AddExtension(B,A){if(B.indexOf("?")!=-1){return B.replace(/\?/,A+"?")}else{return B+A}}function AC_Generateobj(E,D,A){var C="";if(isIE&&isWin&&!isOpera){C+="<object ";for(var B in E){C+=B+'="'+E[B]+'" '}C+=">";for(var B in D){C+='<param name="'+B+'" value="'+D[B]+'" /> '}C+="</object>"}else{C+="<embed ";for(var B in A){C+=B+'="'+A[B]+'" '}C+="> </embed>"}document.write(C)}function AC_FL_RunContent(){var A=AC_GetArgs(arguments,".swf","movie","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000","application/x-shockwave-flash");AC_Generateobj(A.objAttrs,A.params,A.embedAttrs)}function AC_SW_RunContent(){var A=AC_GetArgs(arguments,".dcr","src","clsid:166B1BCA-3F9C-11CF-8075-444553540000",null);AC_Generateobj(A.objAttrs,A.params,A.embedAttrs)}function AC_GetArgs(B,E,G,D,H){var A=new Object();A.embedAttrs=new Object();A.params=new Object();A.objAttrs=new Object();for(var C=0;C<B.length;C=C+2){var F=B[C].toLowerCase();switch(F){case"classid":break;case"pluginspage":A.embedAttrs[B[C]]=B[C+1];break;case"src":case"movie":B[C+1]=AC_AddExtension(B[C+1],E);A.embedAttrs.src=B[C+1];A.params[G]=B[C+1];break;case"onafterupdate":case"onbeforeupdate":case"onblur":case"oncellchange":case"onclick":case"ondblclick":case"ondrag":case"ondragend":case"ondragenter":case"ondragleave":case"ondragover":case"ondrop":case"onfinish":case"onfocus":case"onhelp":case"onmousedown":case"onmouseup":case"onmouseover":case"onmousemove":case"onmouseout":case"onkeypress":case"onkeydown":case"onkeyup":case"onload":case"onlosecapture":case"onpropertychange":case"onreadystatechange":case"onrowsdelete":case"onrowenter":case"onrowexit":case"onrowsinserted":case"onstart":case"onscroll":case"onbeforeeditfocus":case"onactivate":case"onbeforedeactivate":case"ondeactivate":case"type":case"codebase":case"id":A.objAttrs[B[C]]=B[C+1];break;case"width":case"height":case"align":case"vspace":case"hspace":case"class":case"title":case"accesskey":case"name":case"tabindex":A.embedAttrs[B[C]]=A.objAttrs[B[C]]=B[C+1];break;default:A.embedAttrs[B[C]]=A.params[B[C]]=B[C+1]}}A.objAttrs.classid=D;if(H){A.embedAttrs.type=H}return A}$(document).ready(function(){$("#dym a").click(function(B){B.preventDefault();B.stopPropagation();$("#closest").removeClass("Medium High Low").addClass($(this).attr("data-score"));if($(this).attr("data-score")=="Low"){$(".newInput p.message").removeClass("ft").addClass("ep").html("Wolfram|Alpha doesn't understand your query");if($(".low-score").length==0){$(".newInput p.message").after('<p class="low-score">Showing instead result for query: <span id="using"></span></p>')}}else{$(".newInput p.message").removeClass("ep").html('Using closest Wolfram|Alpha interpretation: <span id="using"></span>');$(".newInput p.low-score").remove()}var A=$(B.target).attr("href").split("?");$("#using").text($(B.target).text());$("html").addClass("loading");if($("#answers").length>0){$("#answers").html("").load("/input/answers.section.jsp?"+A[1]+"&section=answers #answers > *",function(C){$(".assuming").remove();$(".pod.loading").remove();$("html").removeClass("loading");$("#answers").addClass("results-pod")})}else{$("#examples").html("").attr("id","answers").load("/input/answers.section.jsp?"+A[1]+"&section=answers #answers > *",function(C){$(".assuming").remove();$(".pod.loading").remove();$("html").removeClass("loading");$("#answers").addClass("results-pod")})}return false})});(function(D){if(typeof D.browser=="undefined"||!D.browser){var B={};D.extend(B)}var A={mathematica:{activex:["Wolfram Mathematica","Mathematica.Control"],plugin:/mathematica/gim},flash:{activex:["ShockwaveFlash.ShockwaveFlash","ShockwaveFlash.ShockwaveFlash.3","ShockwaveFlash.ShockwaveFlash.4","ShockwaveFlash.ShockwaveFlash.5","ShockwaveFlash.ShockwaveFlash.6","ShockwaveFlash.ShockwaveFlash.7"],plugin:/flash/gim}};var C=function(F){if(window.ActiveXObject||"ActiveXObject" in window){try{xmlhttp=new ActiveXObject("Mathematica.Control");D.browser[F]=true}catch(E){D.browser[F]=false}}else{D.each(navigator.plugins,function(){if(this.name.match(A[F].plugin)){D.browser[F]=true;return false}else{D.browser[F]=false}})}};D.each(A,function(E,F){C(E)})})(jQuery);$("#needname-pop #needname-submit").live("click",function(D){D.preventDefault();var C=$("#needname-pop #needname-fname");var A=$("#needname-pop #needname-lname");var B=false;if(!checkRequired(C)){markInvalid(C);C.val("required");B=true}if(!checkRequired(A)){markInvalid(A);A.val("required");B=true}if(!B){$.get("/input/setUserName",{fname:C.val(),lname:A.val()},function(F,E){location.reload()})}});var watrack={};watrack.simpleCall=function(B){var D="/track.txt";var A=window.location.pathname;var I=window.location.search;if(typeof I!="undefined"&&I!=""){A+=I}var G={};var F=null;var H=null;var J=null;var C=null;if(typeof B!="undefined"){if(typeof B.url!="undefined"){D=B.url}if(typeof B.src!="undefined"){A=B.src}if(typeof B.data!="undefined"){G=B.data}if(typeof B.callback!="undefined"){J=B.callback}if(typeof B.tid!="undefined"){F=B.tid}if(typeof B.target!="undefined"){H=B.target}if(typeof B.href!="undefined"){C=B.href}}var E=G;if(typeof E.src=="undefined"){E.src=A}if(typeof E.href=="undefined"&&typeof C=="string"){E.href=C}if(typeof E.tid=="undefined"&&typeof F=="string"){E.tid=F}$.ajax({method:"GET",url:D,data:E,complete:function(L,K){if(typeof J=="string"){if(typeof H!="undefined"){window.open(J,H)}else{window.location.href=J}}else{if(typeof J=="function"){J()}}}})};watrack.initDefaults=function(){$("a.track-me").live("click",function(C){var A=null;var B=$(this).get(0).href;if(typeof B!="undefined"&&B!=""&&B!="#"){A=B}watrack.simpleCall({href:A})})};function shareSubpodImage(B){var A=$("#i_"+B);sendSubpodImage(B,A)}function sendSubpodImage(C,F){var K=$("#subpod_"+C);var I=K.data("subtitle");var J=F.attr("src");var D=F.attr("width");var B=J.substring(J.indexOf("/MSP/")+5,J.indexOf("?"));var H=getFileInputObj();var F=undefined;var E=undefined;var G=undefined;if(H.name&&H.name.length>0){if(H.type=="image"){F=H.name}else{if(H.type=="data"){G=H.name}else{if(H.type=="file"){E=H.name}}}}if(!I||I.trim().length==0){I=$("h2:not(.subpod-wrap > h2)",K.parent(".pod")).text().trim();I=I.substring(0,I.length-1)}var A="subpod.share.jsp";$("#lightboxOverlay").show();showLightboxLoading();$.get(A,{m:B,s:extractSubpodServer($("#subpod_"+C)),i:decodeURIComp(getURLParam("i")),width:D,title:I,cdnUrl:(J.indexOf("www.wolframcdn.com")!=-1)?J:undefined,imageUrl:J,type:K.data("sharetype"),image:F,data:G,file:E,isSampleFile:decodeURIComp(getURLParam("examplefile"))},function(L){$("body").append(L);$("#sharesubpod").css("top",$(window).scrollTop()+50);$("#sharesubpod").show();hideLightboxLoading()})}function getFileInputObj(){var A=decodeURIComp(getURLParam("fileinput"));var B="file";if(!A||A.trim().length==0){A=decodeURIComp(getURLParam("datasetfile"));B="data"}if(A){A=A.substring(A.lastIndexOf("/")+1)}if(isImageExtension(extractFileExtension(A))){B="image"}return{name:A,type:B}}var Facebook=Facebook||{};if(typeof Handlebars==="undefined"){Handlebars={templates:{}}}Facebook.hasTemplates=function(){return $('[type="text/x-handlebars-template"]').length>0};Facebook.getTemplates=function(B,A){$("<div></div>").appendTo("body").load("facebook.templates.htm",function(){$('[type="text/x-handlebars-template"]').each(function(){var C=this.innerHTML;Handlebars.templates[$(this).attr("data-id")]=function(){return C}});if(B){B(A)}})};Facebook.FYI=Backbone.View.extend({id:"facebook-fyi",tagName:"section",initialize:function(){this.template=Handlebars.templates["facebook-fyi"];this.model=new Backbone.Model();this.render()},render:function(){$.get("/prompt.txt?ts="+new Date().getSeconds()+"&feature=fbFYI&action=show");$(this.el).html(this.template(this.model.toJSON()))},events:{"click *":function(A){A.stopPropagation()},"click bubblebtn":"generateReport"},generateReport:function(A){},hide:function(A){$("#facebook-fyi").remove()}});Facebook.SAP=Backbone.View.extend({id:"facebook-sap",tagName:"section",className:"fb-popup",initialize:function(){this.template=Handlebars.templates["facebook-sap"];this.model=new Backbone.Model();this.render()},render:function(){$(this.el).html(this.template(this.model.toJSON()))},events:{"click #facebook-sap header .close":function(A){$("#facebook-sap").remove();$("#lightboxOverlay").hide();$.get("/prompt.txt?ts="+new Date().getSeconds()+"&feature=fbArchive&action=hide")},"click .ddd":function(A){A.preventDefault();$("#ddd").show();$.get("/prompt.txt?ts="+new Date().getSeconds()+"&feature=fbDDQ&action=show")},"click #ddd .close":function(A){A.stopPropagation();A.preventDefault();$("#ddd").hide()},"click .bubblebtn":"startArchivingMyData"},startArchivingMyData:function(B){B.preventDefault();var A=($('[name="datadonor"]:checked').length>0)?"D":"R";window.socialArchiveStatus=A;$("#facebook-sap").remove();$.get("/input/socialtoggle.jsp",{provider:"facebook",datalevel:A},function(C){C=JSON.parse(C);Facebook.showArchiveSuccessPopup()})}});Facebook.ASP=Backbone.View.extend({id:"facebook-asp",tagName:"section",className:"fb-popup",initialize:function(){this.extra=this.options.extra;this.template=Handlebars.templates["facebook-asp"];this.model=new Backbone.Model();this.render()},render:function(){$(this.el).html(this.template(this.model.toJSON()));if(this.extra){$(this.extra).appendTo(this.el)}},events:{"click a":"hide"},hide:function(A){A.preventDefault();$("#facebook-asp").remove();$("#lightboxOverlay").hide()}});Facebook.HTB=Backbone.View.extend({id:"facebook-htb",tagName:"section",initialize:function(){this.template=Handlebars.templates["facebook-htb"];this.model=new Backbone.Model();this.render()},render:function(){$(this.el).html(this.template(this.model.toJSON()))},events:{"click a":"showArchivePopup"},showArchivePopup:function(A){A.preventDefault();Facebook.showStartArchivePopup()}});Facebook.showFYILightbox=function(A){if(!Facebook.hasTemplates()){Facebook.getTemplates(Facebook.showFYILightbox,A);return }$("#lightboxOverlay").show();$(new Facebook.FYI().el).appendTo("#popanchor").center();$("#facebook-fyi .bubblebtn").attr("href",A)};Facebook.showArchiveSuccessPopup=function(A){if(!Facebook.hasTemplates()){Facebook.getTemplates(Facebook.showArchiveSuccessPopup,A);return }$.get("/prompt.txt?ts="+new Date().getSeconds()+"&feature=fbArchiveOn&action=show");$(new Facebook.ASP(A).el).appendTo("#popanchor").center()};Facebook.showStartArchivePopup=function(){if(!Facebook.hasTemplates()){Facebook.getTemplates(Facebook.showStartArchivePopup);return }$("#lightboxOverlay").show();$(new Facebook.SAP().el).appendTo("#popanchor").center();if(window.socialArchiveStatus=="D"){$('[name="datadonor"]').prop("checked",true)}$.get("/prompt.txt?ts="+new Date().getSeconds()+"&feature=fbArchive&action=show")};Facebook.showHistoricalTrackingBanner=function(){if(!Facebook.hasTemplates()){Facebook.getTemplates(Facebook.showHistoricalTrackingBanner);return }try{$.get("/prompt.txt?ts="+new Date().getSeconds()+"&feature=fbArchiveBanner&action=show");$("#solutions").prepend(new Facebook.HTB().el);return true}catch(A){return false}};$(document).ready(function(){Facebook.getTemplates();$("#facebook-analyze").click(function(B){B.preventDefault();var A=$(this).attr("href");if($.cookie("wa_ffb")!="1"&&window.user&&window.user.isEnabled("signedin")){Facebook.showFYILightbox(A);$.cookie("wa_ffb","1",{domain:".wolframalpha.com",path:"/",expires:365})}else{window.location.href=A}})});$(document).ready(function(){var A=new Object();A.cornerNotifier=new CornerNotifier();setTimeout(function(){if(($(document).height()-$(window).height())>700){$.get("/prompt.txt?feature=corner&action=canshow&ts="+new Date().getTime())}else{$.get("/prompt.txt?feature=corner&action=cantshow&ts="+new Date().getTime())}},3000);function B(){var D=null;if(A.cornerNotifier.initialized&&!A.cornerNotifier.isClosed()){var E=$("#share").length!=0?$("#share").offset().top+$("#share").height():null;var C=A.cornerNotifier.getBottom()>0?($(window).scrollTop()+$(window).height()-(A.cornerNotifier.getBottom()+160)):null;if(C!=null&&E!=null&&E>C){D=true}}if($(window).height()>500&&$(this).scrollTop()>500&&!A.cornerNotifier.isClosed()&&$(window).width()>700&&!D){if(!A.cornerNotifier.initialized){A.cornerNotifier.initialize()}A.cornerNotifier.show()}else{D=true}if(D){A.cornerNotifier.hide()}}$(window).resize(B);$(window).scroll(B);$("#cNot .close").live("click",function(C){C.preventDefault();A.cornerNotifier.close()});$("#cNot a.clink").live("click",function(D){var C=$(this).attr("href");if(!(getUrlDomain(C)=="www.wolframalpha.com")){D.preventDefault();D.stopPropagation();A.cornerNotifier.trackExternal(C)}})});function CornerNotifier(){this.notification={};this.initialized=false;this.element="#cNot";this.html="";this.index=0;this.total=0;this.closing=false;this.abClass="c"}CornerNotifier.prototype.initialize=function(){this.initialized=true;var B=this;var A=B.abClass;$.getJSON("/data/corner.notifier.json",{ts:new Date().getTime()},function(F){var C=$.cookie("wa_cnot");if(C&&C!=null&C.length>0){B.index=parseInt(C)}B.total=F.notifications.length;if(B.index+1<B.total){$.cookie("wa_cnot",++B.index,{path:"/"})}else{B.index=0;$.cookie("wa_cnot",B.index,{path:"/"})}var E=decodeURIComp(getURLParam("cornerItem"));if(E&&E!=null&&E){$.each(F.notifications,function(I,J){if(J.ID==E){B.notification=J}})}else{B.index=Math.floor(Math.random()*(F.notifications.length));B.notification=F.notifications[B.index]}if(B.notification.URL&&B.notification.URL!=null){if(B.notification.URL.indexOf(".wolframalpha.com/input/")!=-1){B.notification.URL=B.notification.URL+"&lk=6&ab="+A}var H=(B.notification.Type=="Blog")?"FROM THE BLOG:":"DID YOU KNOW?";var G=B.notification.Text.replace(/(<([^>]+)>)/ig,"");var D=(B.notification.Type=="Blog")?"cnot-blog.png":"wa_tiny.png";B.html='<div id="cNot" class="'+B.notification.Type+" "+A+'"> 					<a class="close" href="#"></a> 					<h5><img title="'+H+'" alt="'+H+'" style="width: 18px;margin-right: 5px; margin-top: -1px" src="//www.wolframcdn.com/images/notifications/'+D+'" />'+H+'</h5> 					<a class="clink" title="'+G+'" href="'+B.notification.URL+'" '+((getUrlDomain(B.notification.URL)!="www.wolframalpha.com"&&getUrlDomain(B.notification.URL)!="blog.wolframalpha.com")?'target="_blank"':"")+'><span class="whole">'+B.notification.Text+"&nbsp;&raquo;</span></a> 				</div>"}$("body").append(B.html);$.get("/prompt.txt?feature=corner&action=show&type="+B.notification.Type+"&id="+B.notification.ID+"&ab="+A);CornerNotifier.prototype.show()})};CornerNotifier.prototype.isClosed=function(){var A=$.cookie("wa_cnot");var B=false;if(A&&A!=null&&A.length>0&&A=="closed"){B=true}return B};CornerNotifier.prototype.show=function(){var A=this.getBottom();$(this.element).css("bottom",A+"px");if(!$(this.element).is(":visible")){$(this.element).css("left","-"+$(this.element).width()+"px").show().animate({left:"+="+$(this.element).width()},500)}else{$(this.element).show()}};CornerNotifier.prototype.getBottom=function(){var A=$("#footerad").height()+$("#debug-wrapper").height()+32;if($("#footerad").is(":visible")&&$(document).height()-$(window).scrollTop()-$(window).height()+32<=A){A=A-($(document).height()-$(window).scrollTop()-$(window).height())}else{A=32}return A};CornerNotifier.prototype.hide=function(){var B=this;var A=this.getBottom();$(this.element).css("bottom",A+"px");if(!B.closing){if($(this.element).is(":visible")){B.closing=true;$(B.element).animate({left:"-="+$(B.element).width()},500,function(){$(this).hide();B.closing=false})}}};CornerNotifier.prototype.close=function(){var A=this;$.get("/prompt.txt?feature=corner&action=close&type="+this.notification.Type+"&id="+this.notification.ID+"&ab="+A.abClass);$(this.element).remove();$.cookie("wa_cnot","closed",{path:"/"})};CornerNotifier.prototype.trackExternal=function(A){var B=this;$.get("/prompt.txt?feature=corner&action=click&type="+this.notification.Type+"&id="+this.notification.ID+"&ab="+B.abClass,function(C){window.location=A})};function getUrlDomain(A){return A.match(/:\/\/(.[^/]+)/)[1]};